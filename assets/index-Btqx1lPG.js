function HA(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function O0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N0={exports:{}},Nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FA=Symbol.for("react.transitional.element"),GA=Symbol.for("react.fragment");function M0(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:FA,type:t,key:i,ref:e!==void 0?e:null,props:n}}Nc.Fragment=GA;Nc.jsx=M0;Nc.jsxs=M0;N0.exports=Nc;var m=N0.exports,V0={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp=Symbol.for("react.transitional.element"),QA=Symbol.for("react.portal"),YA=Symbol.for("react.fragment"),KA=Symbol.for("react.strict_mode"),XA=Symbol.for("react.profiler"),$A=Symbol.for("react.consumer"),WA=Symbol.for("react.context"),JA=Symbol.for("react.forward_ref"),ZA=Symbol.for("react.suspense"),ex=Symbol.for("react.memo"),k0=Symbol.for("react.lazy"),tx=Symbol.for("react.activity"),yy=Symbol.iterator;function nx(t){return t===null||typeof t!="object"?null:(t=yy&&t[yy]||t["@@iterator"],typeof t=="function"?t:null)}var j0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U0=Object.assign,L0={};function ga(t,e,n){this.props=t,this.context=e,this.refs=L0,this.updater=n||j0}ga.prototype.isReactComponent={};ga.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function P0(){}P0.prototype=ga.prototype;function mp(t,e,n){this.props=t,this.context=e,this.refs=L0,this.updater=n||j0}var yp=mp.prototype=new P0;yp.constructor=mp;U0(yp,ga.prototype);yp.isPureReactComponent=!0;var vy=Array.isArray;function Gf(){}var ke={H:null,A:null,T:null,S:null},z0=Object.prototype.hasOwnProperty;function vp(t,e,n){var i=n.ref;return{$$typeof:gp,type:t,key:e,ref:i!==void 0?i:null,props:n}}function ix(t,e){return vp(t.type,e,t.props)}function _p(t){return typeof t=="object"&&t!==null&&t.$$typeof===gp}function rx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _y=/\/+/g;function Kh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rx(""+t.key):e.toString(36)}function sx(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Gf,Gf):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function bs(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case gp:case QA:a=!0;break;case k0:return a=t._init,bs(a(t._payload),e,n,i,r)}}if(a)return r=r(t),a=i===""?"."+Kh(t,0):i,vy(r)?(n="",a!=null&&(n=a.replace(_y,"$&/")+"/"),bs(r,e,n,"",function(c){return c})):r!=null&&(_p(r)&&(r=ix(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(_y,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=i===""?".":i+":";if(vy(t))for(var u=0;u<t.length;u++)i=t[u],s=l+Kh(i,u),a+=bs(i,e,n,s,r);else if(u=nx(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,s=l+Kh(i,u++),a+=bs(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return bs(sx(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Hl(t,e,n){if(t==null)return t;var i=[],r=0;return bs(t,i,"","",function(s){return e.call(n,s,r++)}),i}function ax(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var by=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ox={map:Hl,forEach:function(t,e,n){Hl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hl(t,function(){e++}),e},toArray:function(t){return Hl(t,function(e){return e})||[]},only:function(t){if(!_p(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Activity=tx;ne.Children=ox;ne.Component=ga;ne.Fragment=YA;ne.Profiler=XA;ne.PureComponent=mp;ne.StrictMode=KA;ne.Suspense=ZA;ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ke;ne.__COMPILER_RUNTIME={__proto__:null,c:function(t){return ke.H.useMemoCache(t)}};ne.cache=function(t){return function(){return t.apply(null,arguments)}};ne.cacheSignal=function(){return null};ne.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=U0({},t.props),r=t.key;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)!z0.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}return vp(t.type,r,i)};ne.createContext=function(t){return t={$$typeof:WA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:$A,_context:t},t};ne.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)z0.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return vp(t,s,r)};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:JA,render:t}};ne.isValidElement=_p;ne.lazy=function(t){return{$$typeof:k0,_payload:{_status:-1,_result:t},_init:ax}};ne.memo=function(t,e){return{$$typeof:ex,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=ke.T,n={};ke.T=n;try{var i=t(),r=ke.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Gf,by)}catch(s){by(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),ke.T=e}};ne.unstable_useCacheRefresh=function(){return ke.H.useCacheRefresh()};ne.use=function(t){return ke.H.use(t)};ne.useActionState=function(t,e,n){return ke.H.useActionState(t,e,n)};ne.useCallback=function(t,e){return ke.H.useCallback(t,e)};ne.useContext=function(t){return ke.H.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t,e){return ke.H.useDeferredValue(t,e)};ne.useEffect=function(t,e){return ke.H.useEffect(t,e)};ne.useEffectEvent=function(t){return ke.H.useEffectEvent(t)};ne.useId=function(){return ke.H.useId()};ne.useImperativeHandle=function(t,e,n){return ke.H.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return ke.H.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return ke.H.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return ke.H.useMemo(t,e)};ne.useOptimistic=function(t,e){return ke.H.useOptimistic(t,e)};ne.useReducer=function(t,e,n){return ke.H.useReducer(t,e,n)};ne.useRef=function(t){return ke.H.useRef(t)};ne.useState=function(t){return ke.H.useState(t)};ne.useSyncExternalStore=function(t,e,n){return ke.H.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return ke.H.useTransition()};ne.version="19.2.1";V0.exports=ne;var k=V0.exports;const Lr=O0(k),lx=HA({__proto__:null,default:Lr},[k]);var B0={exports:{}},Mc={},q0={exports:{}},H0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,Z){var W=G.length;G.push(Z);e:for(;0<W;){var Ae=W-1>>>1,Ue=G[Ae];if(0<r(Ue,Z))G[Ae]=Z,G[W]=Ue,W=Ae;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Z=G[0],W=G.pop();if(W!==Z){G[0]=W;e:for(var Ae=0,Ue=G.length,wi=Ue>>>1;Ae<wi;){var Tt=2*(Ae+1)-1,Pe=G[Tt],on=Tt+1,z=G[on];if(0>r(Pe,W))on<Ue&&0>r(z,Pe)?(G[Ae]=z,G[on]=W,Ae=on):(G[Ae]=Pe,G[Tt]=W,Ae=Tt);else if(on<Ue&&0>r(z,W))G[Ae]=z,G[on]=W,Ae=on;else break e}}return Z}function r(G,Z){var W=G.sortIndex-Z.sortIndex;return W!==0?W:G.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],f=1,p=null,g=3,_=!1,R=!1,O=!1,D=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function M(G){for(var Z=n(c);Z!==null;){if(Z.callback===null)i(c);else if(Z.startTime<=G)i(c),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(c)}}function P(G){if(O=!1,M(G),!R)if(n(u)!==null)R=!0,B||(B=!0,C());else{var Z=n(c);Z!==null&&bn(P,Z.startTime-G)}}var B=!1,T=-1,y=5,b=-1;function A(){return D?!0:!(t.unstable_now()-b<y)}function I(){if(D=!1,B){var G=t.unstable_now();b=G;var Z=!0;try{e:{R=!1,O&&(O=!1,E(T),T=-1),_=!0;var W=g;try{t:{for(M(G),p=n(u);p!==null&&!(p.expirationTime>G&&A());){var Ae=p.callback;if(typeof Ae=="function"){p.callback=null,g=p.priorityLevel;var Ue=Ae(p.expirationTime<=G);if(G=t.unstable_now(),typeof Ue=="function"){p.callback=Ue,M(G),Z=!0;break t}p===n(u)&&i(u),M(G)}else i(u);p=n(u)}if(p!==null)Z=!0;else{var wi=n(c);wi!==null&&bn(P,wi.startTime-G),Z=!1}}break e}finally{p=null,g=W,_=!1}Z=void 0}}finally{Z?C():B=!1}}}var C;if(typeof w=="function")C=function(){w(I)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Nt=x.port2;x.port1.onmessage=I,C=function(){Nt.postMessage(null)}}else C=function(){S(I,0)};function bn(G,Z){T=S(function(){G(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(G){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var W=g;g=Z;try{return G()}finally{g=W}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var W=g;g=G;try{return Z()}finally{g=W}},t.unstable_scheduleCallback=function(G,Z,W){var Ae=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Ae+W:Ae):W=Ae,G){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=W+Ue,G={id:f++,callback:Z,priorityLevel:G,startTime:W,expirationTime:Ue,sortIndex:-1},W>Ae?(G.sortIndex=W,e(c,G),n(u)===null&&G===n(c)&&(O?(E(T),T=-1):O=!0,bn(P,W-Ae))):(G.sortIndex=Ue,e(u,G),R||_||(R=!0,B||(B=!0,C()))),G},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(G){var Z=g;return function(){var W=g;g=Z;try{return G.apply(this,arguments)}finally{g=W}}}})(H0);q0.exports=H0;var ux=q0.exports,F0={exports:{}},Ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx=k;function G0(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Di(){}var jt={d:{f:Di,r:function(){throw Error(G0(522))},D:Di,C:Di,L:Di,m:Di,X:Di,S:Di,M:Di},p:0,findDOMNode:null},hx=Symbol.for("react.portal");function fx(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hx,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var ao=cx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Vc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=jt;Ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(G0(299));return fx(t,e,null,n)};Ut.flushSync=function(t){var e=ao.T,n=jt.p;try{if(ao.T=null,jt.p=2,t)return t()}finally{ao.T=e,jt.p=n,jt.d.f()}};Ut.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,jt.d.C(t,e))};Ut.prefetchDNS=function(t){typeof t=="string"&&jt.d.D(t)};Ut.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Vc(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?jt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&jt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ut.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Vc(e.as,e.crossOrigin);jt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&jt.d.M(t)};Ut.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Vc(n,e.crossOrigin);jt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ut.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Vc(e.as,e.crossOrigin);jt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else jt.d.m(t)};Ut.requestFormReset=function(t){jt.d.r(t)};Ut.unstable_batchedUpdates=function(t,e){return t(e)};Ut.useFormState=function(t,e,n){return ao.H.useFormState(t,e,n)};Ut.useFormStatus=function(){return ao.H.useHostTransitionStatus()};Ut.version="19.2.1";function Q0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q0)}catch(t){console.error(t)}}Q0(),F0.exports=Ut;var dx=F0.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ot=ux,Y0=k,px=dx;function U(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function K0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function X0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $0(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ty(t){if(Zo(t)!==t)throw Error(U(188))}function gx(t){var e=t.alternate;if(!e){if(e=Zo(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Ty(r),t;if(s===i)return Ty(r),e;s=s.sibling}throw Error(U(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function W0(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=W0(t),e!==null)return e;t=t.sibling}return null}var je=Object.assign,mx=Symbol.for("react.element"),Fl=Symbol.for("react.transitional.element"),Wa=Symbol.for("react.portal"),Rs=Symbol.for("react.fragment"),J0=Symbol.for("react.strict_mode"),Qf=Symbol.for("react.profiler"),Z0=Symbol.for("react.consumer"),ri=Symbol.for("react.context"),bp=Symbol.for("react.forward_ref"),Yf=Symbol.for("react.suspense"),Kf=Symbol.for("react.suspense_list"),Tp=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),Xf=Symbol.for("react.activity"),yx=Symbol.for("react.memo_cache_sentinel"),Ey=Symbol.iterator;function Fa(t){return t===null||typeof t!="object"?null:(t=Ey&&t[Ey]||t["@@iterator"],typeof t=="function"?t:null)}var vx=Symbol.for("react.client.reference");function $f(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===vx?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rs:return"Fragment";case Qf:return"Profiler";case J0:return"StrictMode";case Yf:return"Suspense";case Kf:return"SuspenseList";case Xf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Wa:return"Portal";case ri:return t.displayName||"Context";case Z0:return(t._context.displayName||"Context")+".Consumer";case bp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tp:return e=t.displayName||null,e!==null?e:$f(t.type)||"Memo";case Mi:e=t._payload,t=t._init;try{return $f(t(e))}catch{}}return null}var Ja=Array.isArray,$=Y0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=px.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pr={pending:!1,data:null,method:null,action:null},Wf=[],Is=-1;function Gn(t){return{current:t}}function ht(t){0>Is||(t.current=Wf[Is],Wf[Is]=null,Is--)}function Ce(t,e){Is++,Wf[Is]=t.current,t.current=e}var jn=Gn(null),Ro=Gn(null),Xi=Gn(null),ju=Gn(null);function Uu(t,e){switch(Ce(Xi,e),Ce(Ro,t),Ce(jn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Iv(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Iv(e),t=_E(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ht(jn),Ce(jn,t)}function $s(){ht(jn),ht(Ro),ht(Xi)}function Jf(t){t.memoizedState!==null&&Ce(ju,t);var e=jn.current,n=_E(e,t.type);e!==n&&(Ce(Ro,t),Ce(jn,n))}function Lu(t){Ro.current===t&&(ht(jn),ht(Ro)),ju.current===t&&(ht(ju),Lo._currentValue=Pr)}var Xh,Sy;function Or(t){if(Xh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xh=e&&e[1]||"",Sy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xh+t+Sy}var $h=!1;function Wh(t,e){if(!t||$h)return"";$h=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(_){var g=_}Reflect.construct(t,[],p)}else{try{p.call()}catch(_){g=_}t.call(p.prototype)}}else{try{throw Error()}catch(_){g=_}(p=t())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(_){if(_&&g&&typeof _.stack=="string")return[_.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var f=`
`+u[i].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=i&&0<=r);break}}}finally{$h=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Or(n):""}function _x(t,e){switch(t.tag){case 26:case 27:case 5:return Or(t.type);case 16:return Or("Lazy");case 13:return t.child!==e&&e!==null?Or("Suspense Fallback"):Or("Suspense");case 19:return Or("SuspenseList");case 0:case 15:return Wh(t.type,!1);case 11:return Wh(t.type.render,!1);case 1:return Wh(t.type,!0);case 31:return Or("Activity");default:return""}}function Ay(t){try{var e="",n=null;do e+=_x(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Zf=Object.prototype.hasOwnProperty,Ep=ot.unstable_scheduleCallback,Jh=ot.unstable_cancelCallback,bx=ot.unstable_shouldYield,Tx=ot.unstable_requestPaint,en=ot.unstable_now,Ex=ot.unstable_getCurrentPriorityLevel,eb=ot.unstable_ImmediatePriority,tb=ot.unstable_UserBlockingPriority,Pu=ot.unstable_NormalPriority,Sx=ot.unstable_LowPriority,nb=ot.unstable_IdlePriority,Ax=ot.log,xx=ot.unstable_setDisableYieldValue,el=null,tn=null;function qi(t){if(typeof Ax=="function"&&xx(t),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(el,t)}catch{}}var nn=Math.clz32?Math.clz32:Ix,wx=Math.log,Rx=Math.LN2;function Ix(t){return t>>>=0,t===0?32:31-(wx(t)/Rx|0)|0}var Gl=256,Ql=262144,Yl=4194304;function Nr(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Nr(i):(a&=l,a!==0?r=Nr(a):n||(n=l&~t,n!==0&&(r=Nr(n))))):(l=i&~s,l!==0?r=Nr(l):a!==0?r=Nr(a):n||(n=i&~t,n!==0&&(r=Nr(n)))),r===0?0:e!==0&&e!==r&&!(e&s)&&(s=r&-r,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:r}function tl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Cx(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ib(){var t=Yl;return Yl<<=1,!(Yl&62914560)&&(Yl=4194304),t}function Zh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dx(t,e,n,i,r,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-nn(n),p=1<<f;l[f]=0,u[f]=-1;var g=c[f];if(g!==null)for(c[f]=null,f=0;f<g.length;f++){var _=g[f];_!==null&&(_.lane&=-536870913)}n&=~p}i!==0&&rb(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function rb(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-nn(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function sb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-nn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function ab(t,e){var n=e&-e;return n=n&42?1:Sp(n),n&(t.suspendedLanes|e)?0:n}function Sp(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ap(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function ob(){var t=me.p;return t!==0?t:(t=window.event,t===void 0?32:DE(t.type))}function xy(t,e){var n=me.p;try{return me.p=t,e()}finally{me.p=n}}var Tr=Math.random().toString(36).slice(2),gt="__reactFiber$"+Tr,Qt="__reactProps$"+Tr,ma="__reactContainer$"+Tr,ed="__reactEvents$"+Tr,Ox="__reactListeners$"+Tr,Nx="__reactHandles$"+Tr,wy="__reactResources$"+Tr,il="__reactMarker$"+Tr;function xp(t){delete t[gt],delete t[Qt],delete t[ed],delete t[Ox],delete t[Nx]}function Cs(t){var e=t[gt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ma]||n[gt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mv(t);t!==null;){if(n=t[gt])return n;t=Mv(t)}return e}t=n,n=t.parentNode}return null}function ya(t){if(t=t[gt]||t[ma]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Za(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(U(33))}function Ps(t){var e=t[wy];return e||(e=t[wy]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ct(t){t[il]=!0}var lb=new Set,ub={};function as(t,e){Ws(t,e),Ws(t+"Capture",e)}function Ws(t,e){for(ub[t]=e,t=0;t<e.length;t++)lb.add(e[t])}var Mx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ry={},Iy={};function Vx(t){return Zf.call(Iy,t)?!0:Zf.call(Ry,t)?!1:Mx.test(t)?Iy[t]=!0:(Ry[t]=!0,!1)}function hu(t,e,n){if(Vx(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Kl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function $n(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function un(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kx(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function td(t){if(!t._valueTracker){var e=cb(t)?"checked":"value";t._valueTracker=kx(t,e,""+t[e])}}function hb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=cb(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function zu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jx=/[\n"\\]/g;function fn(t){return t.replace(jx,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function nd(t,e,n,i,r,s,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+un(e)):t.value!==""+un(e)&&(t.value=""+un(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?id(t,a,un(e)):n!=null?id(t,a,un(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+un(l):t.removeAttribute("name")}function fb(t,e,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){td(t);return}n=n!=null?""+un(n):"",e=e!=null?""+un(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),td(t)}function id(t,e,n){e==="number"&&zu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function zs(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+un(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function db(t,e,n){if(e!=null&&(e=""+un(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+un(n):""}function pb(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(U(92));if(Ja(i)){if(1<i.length)throw Error(U(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=un(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),td(t)}function Js(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ux=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cy(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||Ux.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function gb(t,e,n){if(e!=null&&typeof e!="object")throw Error(U(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&Cy(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&Cy(t,s,e[s])}function wp(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Px=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fu(t){return Px.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var rd=null;function Rp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ds=null,Bs=null;function Dy(t){var e=ya(t);if(e&&(t=e.stateNode)){var n=t[Qt]||null;e:switch(t=e.stateNode,e.type){case"input":if(nd(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+fn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[Qt]||null;if(!r)throw Error(U(90));nd(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&hb(i)}break e;case"textarea":db(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&zs(t,!!n.multiple,e,!1)}}}var ef=!1;function mb(t,e,n){if(ef)return t(e,n);ef=!0;try{var i=t(e);return i}finally{if(ef=!1,(Ds!==null||Bs!==null)&&(Yc(),Ds&&(e=Ds,t=Bs,Bs=Ds=null,Dy(e),t)))for(e=0;e<t.length;e++)Dy(t[e])}}function Io(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Qt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sd=!1;if(di)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){sd=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{sd=!1}var Hi=null,Ip=null,du=null;function yb(){if(du)return du;var t,e=Ip,n=e.length,i,r="value"in Hi?Hi.value:Hi.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return du=r.slice(t,1<i?1-i:void 0)}function pu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xl(){return!0}function Oy(){return!1}function Yt(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xl:Oy,this.isPropagationStopped=Oy,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),e}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jc=Yt(os),rl=je({},os,{view:0,detail:0}),zx=Yt(rl),tf,nf,Qa,Uc=je({},rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qa&&(Qa&&t.type==="mousemove"?(tf=t.screenX-Qa.screenX,nf=t.screenY-Qa.screenY):nf=tf=0,Qa=t),tf)},movementY:function(t){return"movementY"in t?t.movementY:nf}}),Ny=Yt(Uc),Bx=je({},Uc,{dataTransfer:0}),qx=Yt(Bx),Hx=je({},rl,{relatedTarget:0}),rf=Yt(Hx),Fx=je({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),Gx=Yt(Fx),Qx=je({},os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yx=Yt(Qx),Kx=je({},os,{data:0}),My=Yt(Kx),Xx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$x={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Wx[t])?!!e[t]:!1}function Cp(){return Jx}var Zx=je({},rl,{key:function(t){if(t.key){var e=Xx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$x[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cp,charCode:function(t){return t.type==="keypress"?pu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ew=Yt(Zx),tw=je({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vy=Yt(tw),nw=je({},rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cp}),iw=Yt(nw),rw=je({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),sw=Yt(rw),aw=je({},Uc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ow=Yt(aw),lw=je({},os,{newState:0,oldState:0}),uw=Yt(lw),cw=[9,13,27,32],Dp=di&&"CompositionEvent"in window,oo=null;di&&"documentMode"in document&&(oo=document.documentMode);var hw=di&&"TextEvent"in window&&!oo,vb=di&&(!Dp||oo&&8<oo&&11>=oo),ky=" ",jy=!1;function _b(t,e){switch(t){case"keyup":return cw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Os=!1;function fw(t,e){switch(t){case"compositionend":return bb(e);case"keypress":return e.which!==32?null:(jy=!0,ky);case"textInput":return t=e.data,t===ky&&jy?null:t;default:return null}}function dw(t,e){if(Os)return t==="compositionend"||!Dp&&_b(t,e)?(t=yb(),du=Ip=Hi=null,Os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vb&&e.locale!=="ko"?null:e.data;default:return null}}var pw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pw[t.type]:e==="textarea"}function Tb(t,e,n,i){Ds?Bs?Bs.push(i):Bs=[i]:Ds=i,e=rc(e,"onChange"),0<e.length&&(n=new jc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var lo=null,Co=null;function gw(t){mE(t,0)}function Lc(t){var e=Za(t);if(hb(e))return t}function Ly(t,e){if(t==="change")return e}var Eb=!1;if(di){var sf;if(di){var af="oninput"in document;if(!af){var Py=document.createElement("div");Py.setAttribute("oninput","return;"),af=typeof Py.oninput=="function"}sf=af}else sf=!1;Eb=sf&&(!document.documentMode||9<document.documentMode)}function zy(){lo&&(lo.detachEvent("onpropertychange",Sb),Co=lo=null)}function Sb(t){if(t.propertyName==="value"&&Lc(Co)){var e=[];Tb(e,Co,t,Rp(t)),mb(gw,e)}}function mw(t,e,n){t==="focusin"?(zy(),lo=e,Co=n,lo.attachEvent("onpropertychange",Sb)):t==="focusout"&&zy()}function yw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lc(Co)}function vw(t,e){if(t==="click")return Lc(e)}function _w(t,e){if(t==="input"||t==="change")return Lc(e)}function bw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sn=typeof Object.is=="function"?Object.is:bw;function Do(t,e){if(sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Zf.call(e,r)||!sn(t[r],e[r]))return!1}return!0}function By(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qy(t,e){var n=By(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=By(n)}}function Ab(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ab(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xb(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=zu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zu(t.document)}return e}function Op(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Tw=di&&"documentMode"in document&&11>=document.documentMode,Ns=null,ad=null,uo=null,od=!1;function Hy(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;od||Ns==null||Ns!==zu(i)||(i=Ns,"selectionStart"in i&&Op(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),uo&&Do(uo,i)||(uo=i,i=rc(ad,"onSelect"),0<i.length&&(e=new jc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ns)))}function Dr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ms={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},of={},wb={};di&&(wb=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function ls(t){if(of[t])return of[t];if(!Ms[t])return t;var e=Ms[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wb)return of[t]=e[n];return t}var Rb=ls("animationend"),Ib=ls("animationiteration"),Cb=ls("animationstart"),Ew=ls("transitionrun"),Sw=ls("transitionstart"),Aw=ls("transitioncancel"),Db=ls("transitionend"),Ob=new Map,ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ld.push("scrollEnd");function Cn(t,e){Ob.set(t,e),as(e,[t])}var Bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ln=[],Vs=0,Np=0;function Pc(){for(var t=Vs,e=Np=Vs=0;e<t;){var n=ln[e];ln[e++]=null;var i=ln[e];ln[e++]=null;var r=ln[e];ln[e++]=null;var s=ln[e];if(ln[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&Nb(n,r,s)}}function zc(t,e,n,i){ln[Vs++]=t,ln[Vs++]=e,ln[Vs++]=n,ln[Vs++]=i,Np|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Mp(t,e,n,i){return zc(t,e,n,i),qu(t)}function us(t,e){return zc(t,null,null,e),qu(t)}function Nb(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,r&&e!==null&&(r=31-nn(n),t=s.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),s):null}function qu(t){if(50<_o)throw _o=0,Cd=null,Error(U(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ks={};function xw(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,e,n,i){return new xw(t,e,n,i)}function Vp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ui(t,e){var n=t.alternate;return n===null?(n=Wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Mb(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function gu(t,e,n,i,r,s){var a=0;if(i=t,typeof t=="function")Vp(t)&&(a=1);else if(typeof t=="string")a=D2(t,n,jn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Xf:return t=Wt(31,n,e,r),t.elementType=Xf,t.lanes=s,t;case Rs:return zr(n.children,r,s,e);case J0:a=8,r|=24;break;case Qf:return t=Wt(12,n,e,r|2),t.elementType=Qf,t.lanes=s,t;case Yf:return t=Wt(13,n,e,r),t.elementType=Yf,t.lanes=s,t;case Kf:return t=Wt(19,n,e,r),t.elementType=Kf,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ri:a=10;break e;case Z0:a=9;break e;case bp:a=11;break e;case Tp:a=14;break e;case Mi:a=16,i=null;break e}a=29,n=Error(U(130,t===null?"null":typeof t,"")),i=null}return e=Wt(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function zr(t,e,n,i){return t=Wt(7,t,i,e),t.lanes=n,t}function lf(t,e,n){return t=Wt(6,t,null,e),t.lanes=n,t}function Vb(t){var e=Wt(18,null,null,0);return e.stateNode=t,e}function uf(t,e,n){return e=Wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Fy=new WeakMap;function dn(t,e){if(typeof t=="object"&&t!==null){var n=Fy.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Ay(e)},Fy.set(t,e),e)}return{value:t,source:e,stack:Ay(e)}}var js=[],Us=0,Hu=null,Oo=0,cn=[],hn=0,ur=null,Mn=1,Vn="";function ti(t,e){js[Us++]=Oo,js[Us++]=Hu,Hu=t,Oo=e}function kb(t,e,n){cn[hn++]=Mn,cn[hn++]=Vn,cn[hn++]=ur,ur=t;var i=Mn;t=Vn;var r=32-nn(i)-1;i&=~(1<<r),n+=1;var s=32-nn(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Mn=1<<32-nn(e)+r|n<<r|i,Vn=s+t}else Mn=1<<s|n<<r|i,Vn=t}function kp(t){t.return!==null&&(ti(t,1),kb(t,1,0))}function jp(t){for(;t===Hu;)Hu=js[--Us],js[Us]=null,Oo=js[--Us],js[Us]=null;for(;t===ur;)ur=cn[--hn],cn[hn]=null,Vn=cn[--hn],cn[hn]=null,Mn=cn[--hn],cn[hn]=null}function jb(t,e){cn[hn++]=Mn,cn[hn++]=Vn,cn[hn++]=ur,Mn=e.id,Vn=e.overflow,ur=t}var mt=null,Me=null,he=!1,$i=null,pn=!1,ud=Error(U(519));function cr(t){var e=Error(U(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw No(dn(e,t)),ud}function Gy(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[gt]=t,e[Qt]=i,n){case"dialog":ae("cancel",e),ae("close",e);break;case"iframe":case"object":case"embed":ae("load",e);break;case"video":case"audio":for(n=0;n<jo.length;n++)ae(jo[n],e);break;case"source":ae("error",e);break;case"img":case"image":case"link":ae("error",e),ae("load",e);break;case"details":ae("toggle",e);break;case"input":ae("invalid",e),fb(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ae("invalid",e);break;case"textarea":ae("invalid",e),pb(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||vE(e.textContent,n)?(i.popover!=null&&(ae("beforetoggle",e),ae("toggle",e)),i.onScroll!=null&&ae("scroll",e),i.onScrollEnd!=null&&ae("scrollend",e),i.onClick!=null&&(e.onclick=si),e=!0):e=!1,e||cr(t,!0)}function Qy(t){for(mt=t.return;mt;)switch(mt.tag){case 5:case 31:case 13:pn=!1;return;case 27:case 3:pn=!0;return;default:mt=mt.return}}function vs(t){if(t!==mt)return!1;if(!he)return Qy(t),he=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Vd(t.type,t.memoizedProps)),n=!n),n&&Me&&cr(t),Qy(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));Me=Nv(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));Me=Nv(t)}else e===27?(e=Me,Er(t.type)?(t=Ld,Ld=null,Me=t):Me=e):Me=mt?yn(t.stateNode.nextSibling):null;return!0}function Kr(){Me=mt=null,he=!1}function cf(){var t=$i;return t!==null&&(qt===null?qt=t:qt.push.apply(qt,t),$i=null),t}function No(t){$i===null?$i=[t]:$i.push(t)}var cd=Gn(null),cs=null,ai=null;function ki(t,e,n){Ce(cd,e._currentValue),e._currentValue=n}function ci(t){t._currentValue=cd.current,ht(cd)}function hd(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function fd(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var u=0;u<e.length;u++)if(l.context===e[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),hd(s.return,n,t),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(U(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),hd(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function va(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(U(387));if(a=a.memoizedProps,a!==null){var l=r.type;sn(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===ju.current){if(a=r.alternate,a===null)throw Error(U(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Lo):t=[Lo])}r=r.return}t!==null&&fd(e,t,n,i),e.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xr(t){cs=t,ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function vt(t){return Ub(cs,t)}function $l(t,e){return cs===null&&Xr(t),Ub(t,e)}function Ub(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ai===null){if(t===null)throw Error(U(308));ai=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ai=ai.next=e;return n}var ww=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Rw=ot.unstable_scheduleCallback,Iw=ot.unstable_NormalPriority,et={$$typeof:ri,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Up(){return{controller:new ww,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&Rw(Iw,function(){t.controller.abort()})}var co=null,dd=0,Zs=0,qs=null;function Cw(t,e){if(co===null){var n=co=[];dd=0,Zs=lg(),qs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return dd++,e.then(Yy,Yy),e}function Yy(){if(--dd===0&&co!==null){qs!==null&&(qs.status="fulfilled");var t=co;co=null,Zs=0,qs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Dw(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Ky=$.S;$.S=function(t,e){WT=en(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Cw(t,e),Ky!==null&&Ky(t,e)};var Br=Gn(null);function Lp(){var t=Br.current;return t!==null?t:we.pooledCache}function mu(t,e){e===null?Ce(Br,Br.current):Ce(Br,e.pool)}function Lb(){var t=Lp();return t===null?null:{parent:et._currentValue,pool:t}}var _a=Error(U(460)),Pp=Error(U(474)),Bc=Error(U(542)),Gu={then:function(){}};function Xy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pb(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(si,si),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Wy(t),t;default:if(typeof e.status=="string")e.then(si,si);else{if(t=we,t!==null&&100<t.shellSuspendCounter)throw Error(U(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Wy(t),t}throw qr=e,_a}}function Mr(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(qr=n,_a):n}}var qr=null;function $y(){if(qr===null)throw Error(U(459));var t=qr;return qr=null,t}function Wy(t){if(t===_a||t===Bc)throw Error(U(483))}var Hs=null,Mo=0;function Wl(t){var e=Mo;return Mo+=1,Hs===null&&(Hs=[]),Pb(Hs,t,e)}function Ya(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Jl(t,e){throw e.$$typeof===mx?Error(U(525)):(t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function zb(t){function e(S,E){if(t){var w=S.deletions;w===null?(S.deletions=[E],S.flags|=16):w.push(E)}}function n(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function i(S){for(var E=new Map;S!==null;)S.key!==null?E.set(S.key,S):E.set(S.index,S),S=S.sibling;return E}function r(S,E){return S=ui(S,E),S.index=0,S.sibling=null,S}function s(S,E,w){return S.index=w,t?(w=S.alternate,w!==null?(w=w.index,w<E?(S.flags|=67108866,E):w):(S.flags|=67108866,E)):(S.flags|=1048576,E)}function a(S){return t&&S.alternate===null&&(S.flags|=67108866),S}function l(S,E,w,M){return E===null||E.tag!==6?(E=lf(w,S.mode,M),E.return=S,E):(E=r(E,w),E.return=S,E)}function u(S,E,w,M){var P=w.type;return P===Rs?f(S,E,w.props.children,M,w.key):E!==null&&(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Mi&&Mr(P)===E.type)?(E=r(E,w.props),Ya(E,w),E.return=S,E):(E=gu(w.type,w.key,w.props,null,S.mode,M),Ya(E,w),E.return=S,E)}function c(S,E,w,M){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=uf(w,S.mode,M),E.return=S,E):(E=r(E,w.children||[]),E.return=S,E)}function f(S,E,w,M,P){return E===null||E.tag!==7?(E=zr(w,S.mode,M,P),E.return=S,E):(E=r(E,w),E.return=S,E)}function p(S,E,w){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=lf(""+E,S.mode,w),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Fl:return w=gu(E.type,E.key,E.props,null,S.mode,w),Ya(w,E),w.return=S,w;case Wa:return E=uf(E,S.mode,w),E.return=S,E;case Mi:return E=Mr(E),p(S,E,w)}if(Ja(E)||Fa(E))return E=zr(E,S.mode,w,null),E.return=S,E;if(typeof E.then=="function")return p(S,Wl(E),w);if(E.$$typeof===ri)return p(S,$l(S,E),w);Jl(S,E)}return null}function g(S,E,w,M){var P=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return P!==null?null:l(S,E,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fl:return w.key===P?u(S,E,w,M):null;case Wa:return w.key===P?c(S,E,w,M):null;case Mi:return w=Mr(w),g(S,E,w,M)}if(Ja(w)||Fa(w))return P!==null?null:f(S,E,w,M,null);if(typeof w.then=="function")return g(S,E,Wl(w),M);if(w.$$typeof===ri)return g(S,E,$l(S,w),M);Jl(S,w)}return null}function _(S,E,w,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return S=S.get(w)||null,l(E,S,""+M,P);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Fl:return S=S.get(M.key===null?w:M.key)||null,u(E,S,M,P);case Wa:return S=S.get(M.key===null?w:M.key)||null,c(E,S,M,P);case Mi:return M=Mr(M),_(S,E,w,M,P)}if(Ja(M)||Fa(M))return S=S.get(w)||null,f(E,S,M,P,null);if(typeof M.then=="function")return _(S,E,w,Wl(M),P);if(M.$$typeof===ri)return _(S,E,w,$l(E,M),P);Jl(E,M)}return null}function R(S,E,w,M){for(var P=null,B=null,T=E,y=E=0,b=null;T!==null&&y<w.length;y++){T.index>y?(b=T,T=null):b=T.sibling;var A=g(S,T,w[y],M);if(A===null){T===null&&(T=b);break}t&&T&&A.alternate===null&&e(S,T),E=s(A,E,y),B===null?P=A:B.sibling=A,B=A,T=b}if(y===w.length)return n(S,T),he&&ti(S,y),P;if(T===null){for(;y<w.length;y++)T=p(S,w[y],M),T!==null&&(E=s(T,E,y),B===null?P=T:B.sibling=T,B=T);return he&&ti(S,y),P}for(T=i(T);y<w.length;y++)b=_(T,S,y,w[y],M),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?y:b.key),E=s(b,E,y),B===null?P=b:B.sibling=b,B=b);return t&&T.forEach(function(I){return e(S,I)}),he&&ti(S,y),P}function O(S,E,w,M){if(w==null)throw Error(U(151));for(var P=null,B=null,T=E,y=E=0,b=null,A=w.next();T!==null&&!A.done;y++,A=w.next()){T.index>y?(b=T,T=null):b=T.sibling;var I=g(S,T,A.value,M);if(I===null){T===null&&(T=b);break}t&&T&&I.alternate===null&&e(S,T),E=s(I,E,y),B===null?P=I:B.sibling=I,B=I,T=b}if(A.done)return n(S,T),he&&ti(S,y),P;if(T===null){for(;!A.done;y++,A=w.next())A=p(S,A.value,M),A!==null&&(E=s(A,E,y),B===null?P=A:B.sibling=A,B=A);return he&&ti(S,y),P}for(T=i(T);!A.done;y++,A=w.next())A=_(T,S,y,A.value,M),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?y:A.key),E=s(A,E,y),B===null?P=A:B.sibling=A,B=A);return t&&T.forEach(function(C){return e(S,C)}),he&&ti(S,y),P}function D(S,E,w,M){if(typeof w=="object"&&w!==null&&w.type===Rs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Fl:e:{for(var P=w.key;E!==null;){if(E.key===P){if(P=w.type,P===Rs){if(E.tag===7){n(S,E.sibling),M=r(E,w.props.children),M.return=S,S=M;break e}}else if(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Mi&&Mr(P)===E.type){n(S,E.sibling),M=r(E,w.props),Ya(M,w),M.return=S,S=M;break e}n(S,E);break}else e(S,E);E=E.sibling}w.type===Rs?(M=zr(w.props.children,S.mode,M,w.key),M.return=S,S=M):(M=gu(w.type,w.key,w.props,null,S.mode,M),Ya(M,w),M.return=S,S=M)}return a(S);case Wa:e:{for(P=w.key;E!==null;){if(E.key===P)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){n(S,E.sibling),M=r(E,w.children||[]),M.return=S,S=M;break e}else{n(S,E);break}else e(S,E);E=E.sibling}M=uf(w,S.mode,M),M.return=S,S=M}return a(S);case Mi:return w=Mr(w),D(S,E,w,M)}if(Ja(w))return R(S,E,w,M);if(Fa(w)){if(P=Fa(w),typeof P!="function")throw Error(U(150));return w=P.call(w),O(S,E,w,M)}if(typeof w.then=="function")return D(S,E,Wl(w),M);if(w.$$typeof===ri)return D(S,E,$l(S,w),M);Jl(S,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,E!==null&&E.tag===6?(n(S,E.sibling),M=r(E,w),M.return=S,S=M):(n(S,E),M=lf(w,S.mode,M),M.return=S,S=M),a(S)):n(S,E)}return function(S,E,w,M){try{Mo=0;var P=D(S,E,w,M);return Hs=null,P}catch(T){if(T===_a||T===Bc)throw T;var B=Wt(29,T,null,S.mode);return B.lanes=M,B.return=S,B}finally{}}}var $r=zb(!0),Bb=zb(!1),Vi=!1;function zp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ji(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ge&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=qu(t),Nb(t,null,n),e}return zc(t,i,e,n),qu(t)}function ho(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,sb(t,n)}}function hf(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var gd=!1;function fo(){if(gd){var t=qs;if(t!==null)throw t}}function po(t,e,n,i){gd=!1;var r=t.updateQueue;Vi=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var p=r.baseState;a=0,f=c=u=null,l=s;do{var g=l.lane&-536870913,_=g!==l.lane;if(_?(ce&g)===g:(i&g)===g){g!==0&&g===Zs&&(gd=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var R=t,O=l;g=e;var D=n;switch(O.tag){case 1:if(R=O.payload,typeof R=="function"){p=R.call(D,p,g);break e}p=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=O.payload,g=typeof R=="function"?R.call(D,p,g):R,g==null)break e;p=je({},p,g);break e;case 2:Vi=!0}}g=l.callback,g!==null&&(t.flags|=64,_&&(t.flags|=8192),_=r.callbacks,_===null?r.callbacks=[g]:_.push(g))}else _={lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=_,u=p):f=f.next=_,a|=g;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;_=l,l=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);f===null&&(u=p),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=f,s===null&&(r.shared.lanes=0),fr|=a,t.lanes=a,t.memoizedState=p}}function qb(t,e){if(typeof t!="function")throw Error(U(191,t));t.call(e)}function Hb(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)qb(n[t],e)}var ea=Gn(null),Qu=Gn(0);function Jy(t,e){t=yi,Ce(Qu,t),Ce(ea,e),yi=t|e.baseLanes}function md(){Ce(Qu,yi),Ce(ea,ea.current)}function Bp(){yi=Qu.current,ht(ea),ht(Qu)}var an=Gn(null),mn=null;function ji(t){var e=t.alternate;Ce(Qe,Qe.current&1),Ce(an,t),mn===null&&(e===null||ea.current!==null||e.memoizedState!==null)&&(mn=t)}function yd(t){Ce(Qe,Qe.current),Ce(an,t),mn===null&&(mn=t)}function Fb(t){t.tag===22?(Ce(Qe,Qe.current),Ce(an,t),mn===null&&(mn=t)):Ui()}function Ui(){Ce(Qe,Qe.current),Ce(an,an.current)}function $t(t){ht(an),mn===t&&(mn=null),ht(Qe)}var Qe=Gn(0);function Yu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||jd(n)||Ud(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pi=0,ie=null,Se=null,Je=null,Ku=!1,Fs=!1,Wr=!1,Xu=0,Vo=0,Gs=null,Ow=0;function He(){throw Error(U(321))}function qp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sn(t[n],e[n]))return!1;return!0}function Hp(t,e,n,i,r,s){return pi=s,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$.H=t===null||t.memoizedState===null?TT:eg,Wr=!1,s=n(i,r),Wr=!1,Fs&&(s=Qb(e,n,i,r)),Gb(t),s}function Gb(t){$.H=ko;var e=Se!==null&&Se.next!==null;if(pi=0,Je=Se=ie=null,Ku=!1,Vo=0,Gs=null,e)throw Error(U(300));t===null||nt||(t=t.dependencies,t!==null&&Fu(t)&&(nt=!0))}function Qb(t,e,n,i){ie=t;var r=0;do{if(Fs&&(Gs=null),Vo=0,Fs=!1,25<=r)throw Error(U(301));if(r+=1,Je=Se=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}$.H=ET,s=e(n,i)}while(Fs);return s}function Nw(){var t=$.H,e=t.useState()[0];return e=typeof e.then=="function"?al(e):e,t=t.useState()[0],(Se!==null?Se.memoizedState:null)!==t&&(ie.flags|=1024),e}function Fp(){var t=Xu!==0;return Xu=0,t}function Gp(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Qp(t){if(Ku){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ku=!1}pi=0,Je=Se=ie=null,Fs=!1,Vo=Xu=0,Gs=null}function kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ie.memoizedState=Je=t:Je=Je.next=t,Je}function Ke(){if(Se===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=Je===null?ie.memoizedState:Je.next;if(e!==null)Je=e,Se=t;else{if(t===null)throw ie.alternate===null?Error(U(467)):Error(U(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Je===null?ie.memoizedState=Je=t:Je=Je.next=t}return Je}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var e=Vo;return Vo+=1,Gs===null&&(Gs=[]),t=Pb(Gs,t,e),e=ie,(Je===null?e.memoizedState:Je.next)===null&&(e=e.alternate,$.H=e===null||e.memoizedState===null?TT:eg),t}function Hc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===ri)return vt(t)}throw Error(U(438,String(t)))}function Yp(t){var e=null,n=ie.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=ie.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=qc(),ie.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=yx;return e.index++,n}function gi(t,e){return typeof e=="function"?e(t):e}function yu(t){var e=Ke();return Kp(e,Se,t)}function Kp(t,e,n){var i=t.queue;if(i===null)throw Error(U(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var l=a=null,u=null,c=e,f=!1;do{var p=c.lane&-536870913;if(p!==c.lane?(ce&p)===p:(pi&p)===p){var g=c.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Zs&&(f=!0);else if((pi&g)===g){c=c.next,g===Zs&&(f=!0);continue}else p={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=p,a=s):u=u.next=p,ie.lanes|=g,fr|=g;p=c.action,Wr&&n(s,p),s=c.hasEagerState?c.eagerState:n(s,p)}else g={lane:p,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,ie.lanes|=p,fr|=p;c=c.next}while(c!==null&&c!==e);if(u===null?a=s:u.next=l,!sn(s,t.memoizedState)&&(nt=!0,f&&(n=qs,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function ff(t){var e=Ke(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);sn(s,e.memoizedState)||(nt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function Yb(t,e,n){var i=ie,r=Ke(),s=he;if(s){if(n===void 0)throw Error(U(407));n=n()}else n=e();var a=!sn((Se||r).memoizedState,n);if(a&&(r.memoizedState=n,nt=!0),r=r.queue,Xp($b.bind(null,i,r,t),[t]),r.getSnapshot!==e||a||Je!==null&&Je.memoizedState.tag&1){if(i.flags|=2048,ta(9,{destroy:void 0},Xb.bind(null,i,r,n,e),null),we===null)throw Error(U(349));s||pi&127||Kb(i,e,n)}return n}function Kb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ie.updateQueue,e===null?(e=qc(),ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xb(t,e,n,i){e.value=n,e.getSnapshot=i,Wb(e)&&Jb(t)}function $b(t,e,n){return n(function(){Wb(e)&&Jb(t)})}function Wb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sn(t,n)}catch{return!0}}function Jb(t){var e=us(t,2);e!==null&&Gt(e,t,2)}function vd(t){var e=kt();if(typeof t=="function"){var n=t;if(t=n(),Wr){qi(!0);try{n()}finally{qi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:t},e}function Zb(t,e,n,i){return t.baseState=n,Kp(t,Se,typeof i=="function"?i:gi)}function Mw(t,e,n,i,r){if(Gc(t))throw Error(U(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};$.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,eT(e,s)):(s.next=n.next,e.pending=n.next=s)}}function eT(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=$.T,a={};$.T=a;try{var l=n(r,i),u=$.S;u!==null&&u(a,l),Zy(t,e,l)}catch(c){_d(t,e,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),$.T=s}}else try{s=n(r,i),Zy(t,e,s)}catch(c){_d(t,e,c)}}function Zy(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){ev(t,e,i)},function(i){return _d(t,e,i)}):ev(t,e,n)}function ev(t,e,n){e.status="fulfilled",e.value=n,tT(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,eT(t,n)))}function _d(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,tT(e),e=e.next;while(e!==i)}t.action=null}function tT(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function nT(t,e){return e}function tv(t,e){if(he){var n=we.formState;if(n!==null){e:{var i=ie;if(he){if(Me){t:{for(var r=Me,s=pn;r.nodeType!==8;){if(!s){r=null;break t}if(r=yn(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Me=yn(r.nextSibling),i=r.data==="F!";break e}}cr(i)}i=!1}i&&(e=n[0])}}return n=kt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nT,lastRenderedState:e},n.queue=i,n=vT.bind(null,ie,i),i.dispatch=n,i=vd(!1),s=Zp.bind(null,ie,!1,i.queue),i=kt(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=Mw.bind(null,ie,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function nv(t){var e=Ke();return iT(e,Se,t)}function iT(t,e,n){if(e=Kp(t,e,nT)[0],t=yu(gi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=al(e)}catch(a){throw a===_a?Bc:a}else i=e;e=Ke();var r=e.queue,s=r.dispatch;return n!==e.memoizedState&&(ie.flags|=2048,ta(9,{destroy:void 0},Vw.bind(null,r,n),null)),[i,s,t]}function Vw(t,e){t.action=e}function iv(t){var e=Ke(),n=Se;if(n!==null)return iT(e,n,t);Ke(),e=e.memoizedState,n=Ke();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function ta(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=ie.updateQueue,e===null&&(e=qc(),ie.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function rT(){return Ke().memoizedState}function vu(t,e,n,i){var r=kt();ie.flags|=t,r.memoizedState=ta(1|e,{destroy:void 0},n,i===void 0?null:i)}function Fc(t,e,n,i){var r=Ke();i=i===void 0?null:i;var s=r.memoizedState.inst;Se!==null&&i!==null&&qp(i,Se.memoizedState.deps)?r.memoizedState=ta(e,s,n,i):(ie.flags|=t,r.memoizedState=ta(1|e,s,n,i))}function rv(t,e){vu(8390656,8,t,e)}function Xp(t,e){Fc(2048,8,t,e)}function kw(t){ie.flags|=4;var e=ie.updateQueue;if(e===null)e=qc(),ie.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function sT(t){var e=Ke().memoizedState;return kw({ref:e,nextImpl:t}),function(){if(ge&2)throw Error(U(440));return e.impl.apply(void 0,arguments)}}function aT(t,e){return Fc(4,2,t,e)}function oT(t,e){return Fc(4,4,t,e)}function lT(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uT(t,e,n){n=n!=null?n.concat([t]):null,Fc(4,4,lT.bind(null,e,t),n)}function $p(){}function cT(t,e){var n=Ke();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&qp(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function hT(t,e){var n=Ke();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&qp(e,i[1]))return i[0];if(i=t(),Wr){qi(!0);try{t()}finally{qi(!1)}}return n.memoizedState=[i,e],i}function Wp(t,e,n){return n===void 0||pi&1073741824&&!(ce&261930)?t.memoizedState=e:(t.memoizedState=n,t=ZT(),ie.lanes|=t,fr|=t,n)}function fT(t,e,n,i){return sn(n,e)?n:ea.current!==null?(t=Wp(t,n,i),sn(t,e)||(nt=!0),t):!(pi&42)||pi&1073741824&&!(ce&261930)?(nt=!0,t.memoizedState=n):(t=ZT(),ie.lanes|=t,fr|=t,e)}function dT(t,e,n,i,r){var s=me.p;me.p=s!==0&&8>s?s:8;var a=$.T,l={};$.T=l,Zp(t,!1,e,n);try{var u=r(),c=$.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=Dw(u,i);go(t,e,f,rn(t))}else go(t,e,i,rn(t))}catch(p){go(t,e,{then:function(){},status:"rejected",reason:p},rn())}finally{me.p=s,a!==null&&l.types!==null&&(a.types=l.types),$.T=a}}function jw(){}function bd(t,e,n,i){if(t.tag!==5)throw Error(U(476));var r=pT(t).queue;dT(t,r,e,Pr,n===null?jw:function(){return gT(t),n(i)})}function pT(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Pr,baseState:Pr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:Pr},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function gT(t){var e=pT(t);e.next===null&&(e=t.alternate.memoizedState),go(t,e.next.queue,{},rn())}function Jp(){return vt(Lo)}function mT(){return Ke().memoizedState}function yT(){return Ke().memoizedState}function Uw(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=rn();t=Wi(n);var i=Ji(e,t,n);i!==null&&(Gt(i,e,n),ho(i,e,n)),e={cache:Up()},t.payload=e;return}e=e.return}}function Lw(t,e,n){var i=rn();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Gc(t)?_T(e,n):(n=Mp(t,e,n,i),n!==null&&(Gt(n,t,i),bT(n,e,i)))}function vT(t,e,n){var i=rn();go(t,e,n,i)}function go(t,e,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gc(t))_T(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,sn(l,a))return zc(t,e,r,0),we===null&&Pc(),!1}catch{}finally{}if(n=Mp(t,e,r,i),n!==null)return Gt(n,t,i),bT(n,e,i),!0}return!1}function Zp(t,e,n,i){if(i={lane:2,revertLane:lg(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Gc(t)){if(e)throw Error(U(479))}else e=Mp(t,n,i,2),e!==null&&Gt(e,t,2)}function Gc(t){var e=t.alternate;return t===ie||e!==null&&e===ie}function _T(t,e){Fs=Ku=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bT(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,sb(t,n)}}var ko={readContext:vt,use:Hc,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};ko.useEffectEvent=He;var TT={readContext:vt,use:Hc,useCallback:function(t,e){return kt().memoizedState=[t,e===void 0?null:e],t},useContext:vt,useEffect:rv,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,vu(4194308,4,lT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vu(4194308,4,t,e)},useInsertionEffect:function(t,e){vu(4,2,t,e)},useMemo:function(t,e){var n=kt();e=e===void 0?null:e;var i=t();if(Wr){qi(!0);try{t()}finally{qi(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=kt();if(n!==void 0){var r=n(e);if(Wr){qi(!0);try{n(e)}finally{qi(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=Lw.bind(null,ie,t),[i.memoizedState,t]},useRef:function(t){var e=kt();return t={current:t},e.memoizedState=t},useState:function(t){t=vd(t);var e=t.queue,n=vT.bind(null,ie,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:$p,useDeferredValue:function(t,e){var n=kt();return Wp(n,t,e)},useTransition:function(){var t=vd(!1);return t=dT.bind(null,ie,t.queue,!0,!1),kt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=ie,r=kt();if(he){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),we===null)throw Error(U(349));ce&127||Kb(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,rv($b.bind(null,i,s,t),[t]),i.flags|=2048,ta(9,{destroy:void 0},Xb.bind(null,i,s,n,e),null),n},useId:function(){var t=kt(),e=we.identifierPrefix;if(he){var n=Vn,i=Mn;n=(i&~(1<<32-nn(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Xu++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=Ow++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Jp,useFormState:tv,useActionState:tv,useOptimistic:function(t){var e=kt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Zp.bind(null,ie,!0,n),n.dispatch=e,[t,e]},useMemoCache:Yp,useCacheRefresh:function(){return kt().memoizedState=Uw.bind(null,ie)},useEffectEvent:function(t){var e=kt(),n={impl:t};return e.memoizedState=n,function(){if(ge&2)throw Error(U(440));return n.impl.apply(void 0,arguments)}}},eg={readContext:vt,use:Hc,useCallback:cT,useContext:vt,useEffect:Xp,useImperativeHandle:uT,useInsertionEffect:aT,useLayoutEffect:oT,useMemo:hT,useReducer:yu,useRef:rT,useState:function(){return yu(gi)},useDebugValue:$p,useDeferredValue:function(t,e){var n=Ke();return fT(n,Se.memoizedState,t,e)},useTransition:function(){var t=yu(gi)[0],e=Ke().memoizedState;return[typeof t=="boolean"?t:al(t),e]},useSyncExternalStore:Yb,useId:mT,useHostTransitionStatus:Jp,useFormState:nv,useActionState:nv,useOptimistic:function(t,e){var n=Ke();return Zb(n,Se,t,e)},useMemoCache:Yp,useCacheRefresh:yT};eg.useEffectEvent=sT;var ET={readContext:vt,use:Hc,useCallback:cT,useContext:vt,useEffect:Xp,useImperativeHandle:uT,useInsertionEffect:aT,useLayoutEffect:oT,useMemo:hT,useReducer:ff,useRef:rT,useState:function(){return ff(gi)},useDebugValue:$p,useDeferredValue:function(t,e){var n=Ke();return Se===null?Wp(n,t,e):fT(n,Se.memoizedState,t,e)},useTransition:function(){var t=ff(gi)[0],e=Ke().memoizedState;return[typeof t=="boolean"?t:al(t),e]},useSyncExternalStore:Yb,useId:mT,useHostTransitionStatus:Jp,useFormState:iv,useActionState:iv,useOptimistic:function(t,e){var n=Ke();return Se!==null?Zb(n,Se,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Yp,useCacheRefresh:yT};ET.useEffectEvent=sT;function df(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Td={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=rn(),r=Wi(i);r.payload=e,n!=null&&(r.callback=n),e=Ji(t,r,i),e!==null&&(Gt(e,t,i),ho(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=rn(),r=Wi(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Ji(t,r,i),e!==null&&(Gt(e,t,i),ho(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),i=Wi(n);i.tag=2,e!=null&&(i.callback=e),e=Ji(t,i,n),e!==null&&(Gt(e,t,n),ho(e,t,n))}};function sv(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Do(n,i)||!Do(r,s):!0}function av(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Td.enqueueReplaceState(e,e.state,null)}function Jr(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=je({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function ST(t){Bu(t)}function AT(t){console.error(t)}function xT(t){Bu(t)}function $u(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function ov(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ed(t,e,n){return n=Wi(n),n.tag=3,n.payload={element:null},n.callback=function(){$u(t,e)},n}function wT(t){return t=Wi(t),t.tag=3,t}function RT(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){ov(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){ov(e,n,i),typeof r!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function Pw(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&va(e,n,r,!0),n=an.current,n!==null){switch(n.tag){case 31:case 13:return mn===null?tc():n.alternate===null&&Fe===0&&(Fe=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Gu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Af(t,i,r)),!1;case 22:return n.flags|=65536,i===Gu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Af(t,i,r)),!1}throw Error(U(435,n.tag))}return Af(t,i,r),tc(),!1}if(he)return e=an.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==ud&&(t=Error(U(422),{cause:i}),No(dn(t,n)))):(i!==ud&&(e=Error(U(423),{cause:i}),No(dn(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=dn(i,n),r=Ed(t.stateNode,i,r),hf(t,r),Fe!==4&&(Fe=2)),!1;var s=Error(U(520),{cause:i});if(s=dn(s,n),vo===null?vo=[s]:vo.push(s),Fe!==4&&(Fe=2),e===null)return!0;i=dn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=Ed(n.stateNode,i,t),hf(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Zi===null||!Zi.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=wT(r),RT(r,t,n,i),hf(n,r),!1}n=n.return}while(n!==null);return!1}var tg=Error(U(461)),nt=!1;function dt(t,e,n,i){e.child=t===null?Bb(e,null,n,i):$r(e,t.child,n,i)}function lv(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Xr(e),i=Hp(t,e,n,a,s,r),l=Fp(),t!==null&&!nt?(Gp(t,e,r),mi(t,e,r)):(he&&l&&kp(e),e.flags|=1,dt(t,e,i,r),e.child)}function uv(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Vp(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,IT(t,e,s,i,r)):(t=gu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!ng(t,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Do,n(a,i)&&t.ref===e.ref)return mi(t,e,r)}return e.flags|=1,t=ui(s,i),t.ref=e.ref,t.return=e,e.child=t}function IT(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Do(s,i)&&t.ref===e.ref)if(nt=!1,e.pendingProps=i=s,ng(t,r))t.flags&131072&&(nt=!0);else return e.lanes=t.lanes,mi(t,e,r)}return Sd(t,e,n,i,r)}function CT(t,e,n,i){var r=i.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,e.child=null;return cv(t,e,s,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&mu(e,s!==null?s.cachePool:null),s!==null?Jy(e,s):md(),Fb(e);else return i=e.lanes=536870912,cv(t,e,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(mu(e,s.cachePool),Jy(e,s),Ui(),e.memoizedState=null):(t!==null&&mu(e,null),md(),Ui());return dt(t,e,r,n),e.child}function eo(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function cv(t,e,n,i,r){var s=Lp();return s=s===null?null:{parent:et._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&mu(e,null),md(),Fb(e),t!==null&&va(t,e,i,!0),e.childLanes=r,null}function _u(t,e){return e=Wu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function hv(t,e,n){return $r(e,t.child,null,n),t=_u(e,e.pendingProps),t.flags|=2,$t(e),e.memoizedState=null,t}function zw(t,e,n){var i=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(he){if(i.mode==="hidden")return t=_u(e,i),e.lanes=536870912,eo(null,t);if(yd(e),(t=Me)?(t=TE(t,pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ur!==null?{id:Mn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},n=Vb(t),n.return=e,e.child=n,mt=e,Me=null)):t=null,t===null)throw cr(e);return e.lanes=536870912,null}return _u(e,i)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if(yd(e),r)if(e.flags&256)e.flags&=-257,e=hv(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(U(558));else if(nt||va(t,e,n,!1),r=(n&t.childLanes)!==0,nt||r){if(i=we,i!==null&&(a=ab(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,us(t,a),Gt(i,t,a),tg;tc(),e=hv(t,e,n)}else t=s.treeContext,Me=yn(a.nextSibling),mt=e,he=!0,$i=null,pn=!1,t!==null&&jb(e,t),e=_u(e,i),e.flags|=4096;return e}return t=ui(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function bu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Sd(t,e,n,i,r){return Xr(e),n=Hp(t,e,n,i,void 0,r),i=Fp(),t!==null&&!nt?(Gp(t,e,r),mi(t,e,r)):(he&&i&&kp(e),e.flags|=1,dt(t,e,n,r),e.child)}function fv(t,e,n,i,r,s){return Xr(e),e.updateQueue=null,n=Qb(e,i,n,r),Gb(t),i=Fp(),t!==null&&!nt?(Gp(t,e,s),mi(t,e,s)):(he&&i&&kp(e),e.flags|=1,dt(t,e,n,s),e.child)}function dv(t,e,n,i,r){if(Xr(e),e.stateNode===null){var s=ks,a=n.contextType;typeof a=="object"&&a!==null&&(s=vt(a)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Td,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},zp(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?vt(a):ks,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(df(e,n,a,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Td.enqueueReplaceState(s,s.state,null),po(e,i,s,r),fo(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var l=e.memoizedProps,u=Jr(n,l);s.props=u;var c=s.context,f=n.contextType;a=ks,typeof f=="object"&&f!==null&&(a=vt(f));var p=n.getDerivedStateFromProps;f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==a)&&av(e,s,i,a),Vi=!1;var g=e.memoizedState;s.state=g,po(e,i,s,r),fo(),c=e.memoizedState,l||g!==c||Vi?(typeof p=="function"&&(df(e,n,p,i),c=e.memoizedState),(u=Vi||sv(e,n,u,i,g,c,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,pd(t,e),a=e.memoizedProps,f=Jr(n,a),s.props=f,p=e.pendingProps,g=s.context,c=n.contextType,u=ks,typeof c=="object"&&c!==null&&(u=vt(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||g!==u)&&av(e,s,i,u),Vi=!1,g=e.memoizedState,s.state=g,po(e,i,s,r),fo();var _=e.memoizedState;a!==p||g!==_||Vi||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof l=="function"&&(df(e,n,l,i),_=e.memoizedState),(f=Vi||sv(e,n,f,i,g,_,u)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,_,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),s.props=i,s.state=_,s.context=u,i=f):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,bu(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=$r(e,t.child,null,r),e.child=$r(e,null,n,r)):dt(t,e,n,r),e.memoizedState=s.state,t=e.child):t=mi(t,e,r),t}function pv(t,e,n,i){return Kr(),e.flags|=256,dt(t,e,n,i),e.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gf(t){return{baseLanes:t,cachePool:Lb()}}function mf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Jt),t}function DT(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(Qe.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(he){if(r?ji(e):Ui(),(t=Me)?(t=TE(t,pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ur!==null?{id:Mn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},n=Vb(t),n.return=e,e.child=n,mt=e,Me=null)):t=null,t===null)throw cr(e);return Ud(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(Ui(),r=e.mode,l=Wu({mode:"hidden",children:l},r),i=zr(i,r,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=gf(n),i.childLanes=mf(t,a,n),e.memoizedState=pf,eo(null,i)):(ji(e),Ad(e,l))}var u=t.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(s)e.flags&256?(ji(e),e.flags&=-257,e=yf(t,e,n)):e.memoizedState!==null?(Ui(),e.child=t.child,e.flags|=128,e=null):(Ui(),l=i.fallback,r=e.mode,i=Wu({mode:"visible",children:i.children},r),l=zr(l,r,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,$r(e,t.child,null,n),i=e.child,i.memoizedState=gf(n),i.childLanes=mf(t,a,n),e.memoizedState=pf,e=eo(null,i));else if(ji(e),Ud(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(U(419)),i.stack="",i.digest=a,No({value:i,source:null,stack:null}),e=yf(t,e,n)}else if(nt||va(t,e,n,!1),a=(n&t.childLanes)!==0,nt||a){if(a=we,a!==null&&(i=ab(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,us(t,i),Gt(a,t,i),tg;jd(l)||tc(),e=yf(t,e,n)}else jd(l)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Me=yn(l.nextSibling),mt=e,he=!0,$i=null,pn=!1,t!==null&&jb(e,t),e=Ad(e,i.children),e.flags|=4096);return e}return r?(Ui(),l=i.fallback,r=e.mode,u=t.child,c=u.sibling,i=ui(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?l=ui(c,l):(l=zr(l,r,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,eo(null,i),i=e.child,l=t.child.memoizedState,l===null?l=gf(n):(r=l.cachePool,r!==null?(u=et._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=Lb(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=mf(t,a,n),e.memoizedState=pf,eo(t.child,i)):(ji(e),n=t.child,t=n.sibling,n=ui(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Ad(t,e){return e=Wu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Wu(t,e){return t=Wt(22,t,null,e),t.lanes=0,t}function yf(t,e,n){return $r(e,t.child,null,n),t=Ad(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),hd(t.return,e,n)}function vf(t,e,n,i,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function OT(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=Qe.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,Ce(Qe,a),dt(t,e,i,n),i=he?Oo:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gv(t,n,e);else if(t.tag===19)gv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Yu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),vf(e,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Yu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}vf(e,!0,n,null,s,i);break;case"together":vf(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function mi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fr|=e.lanes,!(n&e.childLanes))if(t!==null){if(va(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ng(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function Bw(t,e,n){switch(e.tag){case 3:Uu(e,e.stateNode.containerInfo),ki(e,et,t.memoizedState.cache),Kr();break;case 27:case 5:Jf(e);break;case 4:Uu(e,e.stateNode.containerInfo);break;case 10:ki(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,yd(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(ji(e),e.flags|=128,null):n&e.child.childLanes?DT(t,e,n):(ji(e),t=mi(t,e,n),t!==null?t.sibling:null);ji(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(va(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return OT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ce(Qe,Qe.current),i)break;return null;case 22:return e.lanes=0,CT(t,e,n,e.pendingProps);case 24:ki(e,et,t.memoizedState.cache)}return mi(t,e,n)}function NT(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)nt=!0;else{if(!ng(t,n)&&!(e.flags&128))return nt=!1,Bw(t,e,n);nt=!!(t.flags&131072)}else nt=!1,he&&e.flags&1048576&&kb(e,Oo,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Mr(e.elementType),e.type=t,typeof t=="function")Vp(t)?(i=Jr(t,i),e.tag=1,e=dv(null,e,t,i,n)):(e.tag=0,e=Sd(null,e,t,i,n));else{if(t!=null){var r=t.$$typeof;if(r===bp){e.tag=11,e=lv(null,e,t,i,n);break e}else if(r===Tp){e.tag=14,e=uv(null,e,t,i,n);break e}}throw e=$f(t)||t,Error(U(306,e,""))}}return e;case 0:return Sd(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=Jr(i,e.pendingProps),dv(t,e,i,r,n);case 3:e:{if(Uu(e,e.stateNode.containerInfo),t===null)throw Error(U(387));i=e.pendingProps;var s=e.memoizedState;r=s.element,pd(t,e),po(e,i,null,n);var a=e.memoizedState;if(i=a.cache,ki(e,et,i),i!==s.cache&&fd(e,[et],n,!0),fo(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=pv(t,e,i,n);break e}else if(i!==r){r=dn(Error(U(424)),e),No(r),e=pv(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Me=yn(t.firstChild),mt=e,he=!0,$i=null,pn=!0,n=Bb(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Kr(),i===r){e=mi(t,e,n);break e}dt(t,e,i,n)}e=e.child}return e;case 26:return bu(t,e),t===null?(n=kv(e.type,null,e.pendingProps,null))?e.memoizedState=n:he||(n=e.type,t=e.pendingProps,i=sc(Xi.current).createElement(n),i[gt]=e,i[Qt]=t,_t(i,n,t),ct(i),e.stateNode=i):e.memoizedState=kv(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Jf(e),t===null&&he&&(i=e.stateNode=EE(e.type,e.pendingProps,Xi.current),mt=e,pn=!0,r=Me,Er(e.type)?(Ld=r,Me=yn(i.firstChild)):Me=r),dt(t,e,e.pendingProps.children,n),bu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&he&&((r=i=Me)&&(i=y2(i,e.type,e.pendingProps,pn),i!==null?(e.stateNode=i,mt=e,Me=yn(i.firstChild),pn=!1,r=!0):r=!1),r||cr(e)),Jf(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,Vd(r,s)?i=null:a!==null&&Vd(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=Hp(t,e,Nw,null,null,n),Lo._currentValue=r),bu(t,e),dt(t,e,i,n),e.child;case 6:return t===null&&he&&((t=n=Me)&&(n=v2(n,e.pendingProps,pn),n!==null?(e.stateNode=n,mt=e,Me=null,t=!0):t=!1),t||cr(e)),null;case 13:return DT(t,e,n);case 4:return Uu(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=$r(e,null,i,n):dt(t,e,i,n),e.child;case 11:return lv(t,e,e.type,e.pendingProps,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,ki(e,e.type,i.value),dt(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,Xr(e),r=vt(r),i=i(r),e.flags|=1,dt(t,e,i,n),e.child;case 14:return uv(t,e,e.type,e.pendingProps,n);case 15:return IT(t,e,e.type,e.pendingProps,n);case 19:return OT(t,e,n);case 31:return zw(t,e,n);case 22:return CT(t,e,n,e.pendingProps);case 24:return Xr(e),i=vt(et),t===null?(r=Lp(),r===null&&(r=we,s=Up(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},zp(e),ki(e,et,r)):(t.lanes&n&&(pd(t,e),po(e,null,null,n),fo()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),ki(e,et,i)):(i=s.cache,ki(e,et,i),i!==r.cache&&fd(e,[et],n,!0))),dt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(U(156,e.tag))}function Wn(t){t.flags|=4}function _f(t,e,n,i,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(nE())t.flags|=8192;else throw qr=Gu,Pp}else t.flags&=-16777217}function mv(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!xE(e))if(nE())t.flags|=8192;else throw qr=Gu,Pp}function Zl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?ib():536870912,t.lanes|=e,na|=e)}function Ka(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function qw(t,e,n){var i=e.pendingProps;switch(jp(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(e),null;case 1:return Oe(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),ci(et),$s(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(vs(e)?Wn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cf())),Oe(e),null;case 26:var r=e.type,s=e.memoizedState;return t===null?(Wn(e),s!==null?(Oe(e),mv(e,s)):(Oe(e),_f(e,r,null,i,n))):s?s!==t.memoizedState?(Wn(e),Oe(e),mv(e,s)):(Oe(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Wn(e),Oe(e),_f(e,r,t,i,n)),null;case 27:if(Lu(e),n=Xi.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Wn(e);else{if(!i){if(e.stateNode===null)throw Error(U(166));return Oe(e),null}t=jn.current,vs(e)?Gy(e):(t=EE(r,i,n),e.stateNode=t,Wn(e))}return Oe(e),null;case 5:if(Lu(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Wn(e);else{if(!i){if(e.stateNode===null)throw Error(U(166));return Oe(e),null}if(s=jn.current,vs(e))Gy(e);else{var a=sc(Xi.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[gt]=e,s[Qt]=i;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(_t(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Wn(e)}}return Oe(e),_f(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Wn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(t=Xi.current,vs(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=mt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[gt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||vE(t.nodeValue,n)),t||cr(e,!0)}else t=sc(t).createTextNode(i),t[gt]=e,e.stateNode=t}return Oe(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=vs(e),n!==null){if(t===null){if(!i)throw Error(U(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(557));t[gt]=e}else Kr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oe(e),t=!1}else n=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?($t(e),e):($t(e),null);if(e.flags&128)throw Error(U(558))}return Oe(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=vs(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(U(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(U(317));r[gt]=e}else Kr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oe(e),r=!1}else r=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?($t(e),e):($t(e),null)}return $t(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Zl(e,e.updateQueue),Oe(e),null);case 4:return $s(),t===null&&ug(e.stateNode.containerInfo),Oe(e),null;case 10:return ci(e.type),Oe(e),null;case 19:if(ht(Qe),i=e.memoizedState,i===null)return Oe(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Ka(i,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Yu(t),s!==null){for(e.flags|=128,Ka(i,!1),t=s.updateQueue,e.updateQueue=t,Zl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Mb(n,t),n=n.sibling;return Ce(Qe,Qe.current&1|2),he&&ti(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&en()>Zu&&(e.flags|=128,r=!0,Ka(i,!1),e.lanes=4194304)}else{if(!r)if(t=Yu(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Zl(e,t),Ka(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!he)return Oe(e),null}else 2*en()-i.renderingStartTime>Zu&&n!==536870912&&(e.flags|=128,r=!0,Ka(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=en(),t.sibling=null,n=Qe.current,Ce(Qe,r?n&1|2:n&1),he&&ti(e,i.treeForkCount),t):(Oe(e),null);case 22:case 23:return $t(e),Bp(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Oe(e),e.subtreeFlags&6&&(e.flags|=8192)):Oe(e),n=e.updateQueue,n!==null&&Zl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&ht(Br),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ci(et),Oe(e),null;case 25:return null;case 30:return null}throw Error(U(156,e.tag))}function Hw(t,e){switch(jp(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ci(et),$s(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Lu(e),null;case 31:if(e.memoizedState!==null){if($t(e),e.alternate===null)throw Error(U(340));Kr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if($t(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Kr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ht(Qe),null;case 4:return $s(),null;case 10:return ci(e.type),null;case 22:case 23:return $t(e),Bp(),t!==null&&ht(Br),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ci(et),null;case 25:return null;default:return null}}function MT(t,e){switch(jp(e),e.tag){case 3:ci(et),$s();break;case 26:case 27:case 5:Lu(e);break;case 4:$s();break;case 31:e.memoizedState!==null&&$t(e);break;case 13:$t(e);break;case 19:ht(Qe);break;case 10:ci(e.type);break;case 22:case 23:$t(e),Bp(),t!==null&&ht(Br);break;case 24:ci(et)}}function ol(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){_e(e,e.return,l)}}function hr(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var u=n,c=l;try{c()}catch(f){_e(r,u,f)}}}i=i.next}while(i!==s)}}catch(f){_e(e,e.return,f)}}function VT(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Hb(e,n)}catch(i){_e(t,t.return,i)}}}function kT(t,e,n){n.props=Jr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){_e(t,e,i)}}function mo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){_e(t,e,r)}}function kn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){_e(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){_e(t,e,r)}else n.current=null}function jT(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){_e(t,t.return,r)}}function bf(t,e,n){try{var i=t.stateNode;h2(i,t.type,n,e),i[Qt]=e}catch(r){_e(t,t.return,r)}}function UT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Er(t.type)||t.tag===4}function Tf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Er(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=si));else if(i!==4&&(i===27&&Er(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(xd(t,e,n),t=t.sibling;t!==null;)xd(t,e,n),t=t.sibling}function Ju(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&Er(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Ju(t,e,n),t=t.sibling;t!==null;)Ju(t,e,n),t=t.sibling}function LT(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);_t(e,i,n),e[gt]=t,e[Qt]=n}catch(s){_e(t,t.return,s)}}var ni=!1,Ze=!1,Ef=!1,yv=typeof WeakSet=="function"?WeakSet:Set,ut=null;function Fw(t,e){if(t=t.containerInfo,Nd=uc,t=xb(t),Op(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,f=0,p=t,g=null;t:for(;;){for(var _;p!==n||r!==0&&p.nodeType!==3||(l=a+r),p!==s||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(_=p.firstChild)!==null;)g=p,p=_;for(;;){if(p===t)break t;if(g===n&&++c===r&&(l=a),g===s&&++f===i&&(u=a),(_=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Md={focusedElem:t,selectionRange:n},uc=!1,ut=e;ut!==null;)if(e=ut,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ut=t;else for(;ut!==null;){switch(e=ut,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var R=Jr(n.type,r);t=i.getSnapshotBeforeUpdate(R,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(O){_e(n,n.return,O)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)kd(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(U(163))}if(t=e.sibling,t!==null){t.return=e.return,ut=t;break}ut=e.return}}function PT(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n),i&4&&ol(5,n);break;case 1:if(Zn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){_e(n,n.return,a)}else{var r=Jr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){_e(n,n.return,a)}}i&64&&VT(n),i&512&&mo(n,n.return);break;case 3:if(Zn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Hb(t,e)}catch(a){_e(n,n.return,a)}}break;case 27:e===null&&i&4&&LT(n);case 26:case 5:Zn(t,n),e===null&&i&4&&jT(n),i&512&&mo(n,n.return);break;case 12:Zn(t,n);break;case 31:Zn(t,n),i&4&&qT(t,n);break;case 13:Zn(t,n),i&4&&HT(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Zw.bind(null,n),_2(t,n))));break;case 22:if(i=n.memoizedState!==null||ni,!i){e=e!==null&&e.memoizedState!==null||Ze,r=ni;var s=Ze;ni=i,(Ze=e)&&!s?ei(t,n,(n.subtreeFlags&8772)!==0):Zn(t,n),ni=r,Ze=s}break;case 30:break;default:Zn(t,n)}}function zT(t){var e=t.alternate;e!==null&&(t.alternate=null,zT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&xp(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Le=null,Bt=!1;function Jn(t,e,n){for(n=n.child;n!==null;)BT(t,e,n),n=n.sibling}function BT(t,e,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(el,n)}catch{}switch(n.tag){case 26:Ze||kn(n,e),Jn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ze||kn(n,e);var i=Le,r=Bt;Er(n.type)&&(Le=n.stateNode,Bt=!1),Jn(t,e,n),bo(n.stateNode),Le=i,Bt=r;break;case 5:Ze||kn(n,e);case 6:if(i=Le,r=Bt,Le=null,Jn(t,e,n),Le=i,Bt=r,Le!==null)if(Bt)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(n.stateNode)}catch(s){_e(n,e,s)}else try{Le.removeChild(n.stateNode)}catch(s){_e(n,e,s)}break;case 18:Le!==null&&(Bt?(t=Le,Dv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),aa(t)):Dv(Le,n.stateNode));break;case 4:i=Le,r=Bt,Le=n.stateNode.containerInfo,Bt=!0,Jn(t,e,n),Le=i,Bt=r;break;case 0:case 11:case 14:case 15:hr(2,n,e),Ze||hr(4,n,e),Jn(t,e,n);break;case 1:Ze||(kn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&kT(n,e,i)),Jn(t,e,n);break;case 21:Jn(t,e,n);break;case 22:Ze=(i=Ze)||n.memoizedState!==null,Jn(t,e,n),Ze=i;break;default:Jn(t,e,n)}}function qT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{aa(t)}catch(n){_e(e,e.return,n)}}}function HT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{aa(t)}catch(n){_e(e,e.return,n)}}function Gw(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new yv),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new yv),e;default:throw Error(U(435,t.tag))}}function eu(t,e){var n=Gw(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var r=e2.bind(null,t,i);i.then(r,r)}})}function Pt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(Er(l.type)){Le=l.stateNode,Bt=!1;break e}break;case 5:Le=l.stateNode,Bt=!1;break e;case 3:case 4:Le=l.stateNode.containerInfo,Bt=!0;break e}l=l.return}if(Le===null)throw Error(U(160));BT(s,a,r),Le=null,Bt=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)FT(e,t),e=e.sibling}var Sn=null;function FT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pt(e,t),zt(t),i&4&&(hr(3,t,t.return),ol(3,t),hr(5,t,t.return));break;case 1:Pt(e,t),zt(t),i&512&&(Ze||n===null||kn(n,n.return)),i&64&&ni&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=Sn;if(Pt(e,t),zt(t),i&512&&(Ze||n===null||kn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[il]||s[gt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),_t(s,i,n),s[gt]=t,ct(s),i=s;break e;case"link":var a=Uv("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),_t(s,i,n),r.head.appendChild(s);break;case"meta":if(a=Uv("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),_t(s,i,n),r.head.appendChild(s);break;default:throw Error(U(468,i))}s[gt]=t,ct(s),i=s}t.stateNode=i}else Lv(r,t.type,t.stateNode);else t.stateNode=jv(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Lv(r,t.type,t.stateNode):jv(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&bf(t,t.memoizedProps,n.memoizedProps)}break;case 27:Pt(e,t),zt(t),i&512&&(Ze||n===null||kn(n,n.return)),n!==null&&i&4&&bf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Pt(e,t),zt(t),i&512&&(Ze||n===null||kn(n,n.return)),t.flags&32){r=t.stateNode;try{Js(r,"")}catch(R){_e(t,t.return,R)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,bf(t,r,n!==null?n.memoizedProps:r)),i&1024&&(Ef=!0);break;case 6:if(Pt(e,t),zt(t),i&4){if(t.stateNode===null)throw Error(U(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(R){_e(t,t.return,R)}}break;case 3:if(Su=null,r=Sn,Sn=ac(e.containerInfo),Pt(e,t),Sn=r,zt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{aa(e.containerInfo)}catch(R){_e(t,t.return,R)}Ef&&(Ef=!1,GT(t));break;case 4:i=Sn,Sn=ac(t.stateNode.containerInfo),Pt(e,t),zt(t),Sn=i;break;case 12:Pt(e,t),zt(t);break;case 31:Pt(e,t),zt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,eu(t,i)));break;case 13:Pt(e,t),zt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Qc=en()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,eu(t,i)));break;case 22:r=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=ni,f=Ze;if(ni=c||r,Ze=f||u,Pt(e,t),Ze=f,ni=c,zt(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||u||ni||Ze||Vr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,g=p!=null&&p.hasOwnProperty("display")?p.display:null;l.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(R){_e(u,u.return,R)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(R){_e(u,u.return,R)}}}else if(e.tag===18){if(n===null){u=e;try{var _=u.stateNode;r?Ov(_,!0):Ov(u.stateNode,!1)}catch(R){_e(u,u.return,R)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,eu(t,n))));break;case 19:Pt(e,t),zt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,eu(t,i)));break;case 30:break;case 21:break;default:Pt(e,t),zt(t)}}function zt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(UT(i)){n=i;break}i=i.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var r=n.stateNode,s=Tf(t);Ju(t,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(Js(a,""),n.flags&=-33);var l=Tf(t);Ju(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=Tf(t);xd(t,c,u);break;default:throw Error(U(161))}}catch(f){_e(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GT(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;GT(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Zn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)PT(t,e.alternate,e),e=e.sibling}function Vr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:hr(4,e,e.return),Vr(e);break;case 1:kn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&kT(e,e.return,n),Vr(e);break;case 27:bo(e.stateNode);case 26:case 5:kn(e,e.return),Vr(e);break;case 22:e.memoizedState===null&&Vr(e);break;case 30:Vr(e);break;default:Vr(e)}t=t.sibling}}function ei(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:ei(r,s,n),ol(4,s);break;case 1:if(ei(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){_e(i,i.return,c)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)qb(u[r],l)}catch(c){_e(i,i.return,c)}}n&&a&64&&VT(s),mo(s,s.return);break;case 27:LT(s);case 26:case 5:ei(r,s,n),n&&i===null&&a&4&&jT(s),mo(s,s.return);break;case 12:ei(r,s,n);break;case 31:ei(r,s,n),n&&a&4&&qT(r,s);break;case 13:ei(r,s,n),n&&a&4&&HT(r,s);break;case 22:s.memoizedState===null&&ei(r,s,n),mo(s,s.return);break;case 30:break;default:ei(r,s,n)}e=e.sibling}}function ig(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&sl(n))}function rg(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sl(t))}function En(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)QT(t,e,n,i),e=e.sibling}function QT(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:En(t,e,n,i),r&2048&&ol(9,e);break;case 1:En(t,e,n,i);break;case 3:En(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sl(t)));break;case 12:if(r&2048){En(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){_e(e,e.return,u)}}else En(t,e,n,i);break;case 31:En(t,e,n,i);break;case 13:En(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?En(t,e,n,i):yo(t,e):s._visibility&2?En(t,e,n,i):(s._visibility|=2,Ts(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),r&2048&&ig(a,e);break;case 24:En(t,e,n,i),r&2048&&rg(e.alternate,e);break;default:En(t,e,n,i)}}function Ts(t,e,n,i,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,l=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:Ts(s,a,l,u,r),ol(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?Ts(s,a,l,u,r):yo(s,a):(f._visibility|=2,Ts(s,a,l,u,r)),r&&c&2048&&ig(a.alternate,a);break;case 24:Ts(s,a,l,u,r),r&&c&2048&&rg(a.alternate,a);break;default:Ts(s,a,l,u,r)}e=e.sibling}}function yo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:yo(n,i),r&2048&&ig(i.alternate,i);break;case 24:yo(n,i),r&2048&&rg(i.alternate,i);break;default:yo(n,i)}e=e.sibling}}var to=8192;function _s(t,e,n){if(t.subtreeFlags&to)for(t=t.child;t!==null;)YT(t,e,n),t=t.sibling}function YT(t,e,n){switch(t.tag){case 26:_s(t,e,n),t.flags&to&&t.memoizedState!==null&&O2(n,Sn,t.memoizedState,t.memoizedProps);break;case 5:_s(t,e,n);break;case 3:case 4:var i=Sn;Sn=ac(t.stateNode.containerInfo),_s(t,e,n),Sn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=to,to=16777216,_s(t,e,n),to=i):_s(t,e,n));break;default:_s(t,e,n)}}function KT(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Xa(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ut=i,$T(i,t)}KT(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)XT(t),t=t.sibling}function XT(t){switch(t.tag){case 0:case 11:case 15:Xa(t),t.flags&2048&&hr(9,t,t.return);break;case 3:Xa(t);break;case 12:Xa(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Tu(t)):Xa(t);break;default:Xa(t)}}function Tu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ut=i,$T(i,t)}KT(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:hr(8,e,e.return),Tu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Tu(e));break;default:Tu(e)}t=t.sibling}}function $T(t,e){for(;ut!==null;){var n=ut;switch(n.tag){case 0:case 11:case 15:hr(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:sl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ut=i;else e:for(n=t;ut!==null;){i=ut;var r=i.sibling,s=i.return;if(zT(i),i===n){ut=null;break e}if(r!==null){r.return=s,ut=r;break e}ut=s}}}var Qw={getCacheForType:function(t){var e=vt(et),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return vt(et).controller.signal}},Yw=typeof WeakMap=="function"?WeakMap:Map,ge=0,we=null,oe=null,ce=0,ve=0,Xt=null,Fi=!1,ba=!1,sg=!1,yi=0,Fe=0,fr=0,Hr=0,ag=0,Jt=0,na=0,vo=null,qt=null,wd=!1,Qc=0,WT=0,Zu=1/0,ec=null,Zi=null,st=0,er=null,ia=null,hi=0,Rd=0,Id=null,JT=null,_o=0,Cd=null;function rn(){return ge&2&&ce!==0?ce&-ce:$.T!==null?lg():ob()}function ZT(){if(Jt===0)if(!(ce&536870912)||he){var t=Ql;Ql<<=1,!(Ql&3932160)&&(Ql=262144),Jt=t}else Jt=536870912;return t=an.current,t!==null&&(t.flags|=32),Jt}function Gt(t,e,n){(t===we&&(ve===2||ve===9)||t.cancelPendingCommit!==null)&&(ra(t,0),Gi(t,ce,Jt,!1)),nl(t,n),(!(ge&2)||t!==we)&&(t===we&&(!(ge&2)&&(Hr|=n),Fe===4&&Gi(t,ce,Jt,!1)),Qn(t))}function eE(t,e,n){if(ge&6)throw Error(U(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||tl(t,e),r=i?$w(t,e):Sf(t,e,!0),s=i;do{if(r===0){ba&&!i&&Gi(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!Kw(n)){r=Sf(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=vo;var u=l.current.memoizedState.isDehydrated;if(u&&(ra(l,a).flags|=256),a=Sf(l,a,!1),a!==2){if(sg&&!u){l.errorRecoveryDisabledLanes|=s,Hr|=s,r=4;break e}s=qt,qt=r,s!==null&&(qt===null?qt=s:qt.push.apply(qt,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){ra(t,0),Gi(t,e,0,!0);break}e:{switch(i=t,s=r,s){case 0:case 1:throw Error(U(345));case 4:if((e&4194048)!==e)break;case 6:Gi(i,e,Jt,!Fi);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(U(329))}if((e&62914560)===e&&(r=Qc+300-en(),10<r)){if(Gi(i,e,Jt,!Fi),kc(i,0,!0)!==0)break e;hi=e,i.timeoutHandle=bE(vv.bind(null,i,n,qt,ec,wd,e,Jt,Hr,na,Fi,s,"Throttled",-0,0),r);break e}vv(i,n,qt,ec,wd,e,Jt,Hr,na,Fi,s,null,-0,0)}}break}while(!0);Qn(t)}function vv(t,e,n,i,r,s,a,l,u,c,f,p,g,_){if(t.timeoutHandle=-1,p=e.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},YT(e,s,p);var R=(s&62914560)===s?Qc-en():(s&4194048)===s?WT-en():0;if(R=N2(p,R),R!==null){hi=s,t.cancelPendingCommit=R(bv.bind(null,t,e,s,n,i,r,a,l,u,f,p,null,g,_)),Gi(t,s,a,!c);return}}bv(t,e,s,n,i,r,a,l,u)}function Kw(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!sn(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gi(t,e,n,i){e&=~ag,e&=~Hr,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-nn(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&rb(t,n,e)}function Yc(){return ge&6?!0:(ll(0),!1)}function og(){if(oe!==null){if(ve===0)var t=oe.return;else t=oe,ai=cs=null,Qp(t),Hs=null,Mo=0,t=oe;for(;t!==null;)MT(t.alternate,t),t=t.return;oe=null}}function ra(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,p2(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),hi=0,og(),we=t,oe=n=ui(t.current,null),ce=e,ve=0,Xt=null,Fi=!1,ba=tl(t,e),sg=!1,na=Jt=ag=Hr=fr=Fe=0,qt=vo=null,wd=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-nn(i),s=1<<r;e|=t[r],i&=~s}return yi=e,Pc(),n}function tE(t,e){ie=null,$.H=ko,e===_a||e===Bc?(e=$y(),ve=3):e===Pp?(e=$y(),ve=4):ve=e===tg?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Xt=e,oe===null&&(Fe=1,$u(t,dn(e,t.current)))}function nE(){var t=an.current;return t===null?!0:(ce&4194048)===ce?mn===null:(ce&62914560)===ce||ce&536870912?t===mn:!1}function iE(){var t=$.H;return $.H=ko,t===null?ko:t}function rE(){var t=$.A;return $.A=Qw,t}function tc(){Fe=4,Fi||(ce&4194048)!==ce&&an.current!==null||(ba=!0),!(fr&134217727)&&!(Hr&134217727)||we===null||Gi(we,ce,Jt,!1)}function Sf(t,e,n){var i=ge;ge|=2;var r=iE(),s=rE();(we!==t||ce!==e)&&(ec=null,ra(t,e)),e=!1;var a=Fe;e:do try{if(ve!==0&&oe!==null){var l=oe,u=Xt;switch(ve){case 8:og(),a=6;break e;case 3:case 2:case 9:case 6:an.current===null&&(e=!0);var c=ve;if(ve=0,Xt=null,Ls(t,l,u,c),n&&ba){a=0;break e}break;default:c=ve,ve=0,Xt=null,Ls(t,l,u,c)}}Xw(),a=Fe;break}catch(f){tE(t,f)}while(!0);return e&&t.shellSuspendCounter++,ai=cs=null,ge=i,$.H=r,$.A=s,oe===null&&(we=null,ce=0,Pc()),a}function Xw(){for(;oe!==null;)sE(oe)}function $w(t,e){var n=ge;ge|=2;var i=iE(),r=rE();we!==t||ce!==e?(ec=null,Zu=en()+500,ra(t,e)):ba=tl(t,e);e:do try{if(ve!==0&&oe!==null){e=oe;var s=Xt;t:switch(ve){case 1:ve=0,Xt=null,Ls(t,e,s,1);break;case 2:case 9:if(Xy(s)){ve=0,Xt=null,_v(e);break}e=function(){ve!==2&&ve!==9||we!==t||(ve=7),Qn(t)},s.then(e,e);break e;case 3:ve=7;break e;case 4:ve=5;break e;case 7:Xy(s)?(ve=0,Xt=null,_v(e)):(ve=0,Xt=null,Ls(t,e,s,7));break;case 5:var a=null;switch(oe.tag){case 26:a=oe.memoizedState;case 5:case 27:var l=oe;if(a?xE(a):l.stateNode.complete){ve=0,Xt=null;var u=l.sibling;if(u!==null)oe=u;else{var c=l.return;c!==null?(oe=c,Kc(c)):oe=null}break t}}ve=0,Xt=null,Ls(t,e,s,5);break;case 6:ve=0,Xt=null,Ls(t,e,s,6);break;case 8:og(),Fe=6;break e;default:throw Error(U(462))}}Ww();break}catch(f){tE(t,f)}while(!0);return ai=cs=null,$.H=i,$.A=r,ge=n,oe!==null?0:(we=null,ce=0,Pc(),Fe)}function Ww(){for(;oe!==null&&!bx();)sE(oe)}function sE(t){var e=NT(t.alternate,t,yi);t.memoizedProps=t.pendingProps,e===null?Kc(t):oe=e}function _v(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=fv(n,e,e.pendingProps,e.type,void 0,ce);break;case 11:e=fv(n,e,e.pendingProps,e.type.render,e.ref,ce);break;case 5:Qp(e);default:MT(n,e),e=oe=Mb(e,yi),e=NT(n,e,yi)}t.memoizedProps=t.pendingProps,e===null?Kc(t):oe=e}function Ls(t,e,n,i){ai=cs=null,Qp(e),Hs=null,Mo=0;var r=e.return;try{if(Pw(t,r,e,n,ce)){Fe=1,$u(t,dn(n,t.current)),oe=null;return}}catch(s){if(r!==null)throw oe=r,s;Fe=1,$u(t,dn(n,t.current)),oe=null;return}e.flags&32768?(he||i===1?t=!0:ba||ce&536870912?t=!1:(Fi=t=!0,(i===2||i===9||i===3||i===6)&&(i=an.current,i!==null&&i.tag===13&&(i.flags|=16384))),aE(e,t)):Kc(e)}function Kc(t){var e=t;do{if(e.flags&32768){aE(e,Fi);return}t=e.return;var n=qw(e.alternate,e,yi);if(n!==null){oe=n;return}if(e=e.sibling,e!==null){oe=e;return}oe=e=t}while(e!==null);Fe===0&&(Fe=5)}function aE(t,e){do{var n=Hw(t.alternate,t);if(n!==null){n.flags&=32767,oe=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){oe=t;return}oe=t=n}while(t!==null);Fe=6,oe=null}function bv(t,e,n,i,r,s,a,l,u){t.cancelPendingCommit=null;do Xc();while(st!==0);if(ge&6)throw Error(U(327));if(e!==null){if(e===t.current)throw Error(U(177));if(s=e.lanes|e.childLanes,s|=Np,Dx(t,n,s,a,l,u),t===we&&(oe=we=null,ce=0),ia=e,er=t,hi=n,Rd=s,Id=r,JT=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,t2(Pu,function(){return hE(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=$.T,$.T=null,r=me.p,me.p=2,a=ge,ge|=4;try{Fw(t,e,n)}finally{ge=a,me.p=r,$.T=i}}st=1,oE(),lE(),uE()}}function oE(){if(st===1){st=0;var t=er,e=ia,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=$.T,$.T=null;var i=me.p;me.p=2;var r=ge;ge|=4;try{FT(e,t);var s=Md,a=xb(t.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&Ab(l.ownerDocument.documentElement,l)){if(u!==null&&Op(l)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(f,l.value.length);else{var p=l.ownerDocument||document,g=p&&p.defaultView||window;if(g.getSelection){var _=g.getSelection(),R=l.textContent.length,O=Math.min(u.start,R),D=u.end===void 0?O:Math.min(u.end,R);!_.extend&&O>D&&(a=D,D=O,O=a);var S=qy(l,O),E=qy(l,D);if(S&&E&&(_.rangeCount!==1||_.anchorNode!==S.node||_.anchorOffset!==S.offset||_.focusNode!==E.node||_.focusOffset!==E.offset)){var w=p.createRange();w.setStart(S.node,S.offset),_.removeAllRanges(),O>D?(_.addRange(w),_.extend(E.node,E.offset)):(w.setEnd(E.node,E.offset),_.addRange(w))}}}}for(p=[],_=l;_=_.parentNode;)_.nodeType===1&&p.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<p.length;l++){var M=p[l];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}uc=!!Nd,Md=Nd=null}finally{ge=r,me.p=i,$.T=n}}t.current=e,st=2}}function lE(){if(st===2){st=0;var t=er,e=ia,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=$.T,$.T=null;var i=me.p;me.p=2;var r=ge;ge|=4;try{PT(t,e.alternate,e)}finally{ge=r,me.p=i,$.T=n}}st=3}}function uE(){if(st===4||st===3){st=0,Tx();var t=er,e=ia,n=hi,i=JT;e.subtreeFlags&10256||e.flags&10256?st=5:(st=0,ia=er=null,cE(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Zi=null),Ap(n),e=e.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(el,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=$.T,r=me.p,me.p=2,$.T=null;try{for(var s=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{$.T=e,me.p=r}}hi&3&&Xc(),Qn(t),r=t.pendingLanes,n&261930&&r&42?t===Cd?_o++:(_o=0,Cd=t):_o=0,ll(0)}}function cE(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,sl(e)))}function Xc(){return oE(),lE(),uE(),hE()}function hE(){if(st!==5)return!1;var t=er,e=Rd;Rd=0;var n=Ap(hi),i=$.T,r=me.p;try{me.p=32>n?32:n,$.T=null,n=Id,Id=null;var s=er,a=hi;if(st=0,ia=er=null,hi=0,ge&6)throw Error(U(331));var l=ge;if(ge|=4,XT(s.current),QT(s,s.current,a,n),ge=l,ll(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(el,s)}catch{}return!0}finally{me.p=r,$.T=i,cE(t,e)}}function Tv(t,e,n){e=dn(n,e),e=Ed(t.stateNode,e,2),t=Ji(t,e,2),t!==null&&(nl(t,2),Qn(t))}function _e(t,e,n){if(t.tag===3)Tv(t,t,n);else for(;e!==null;){if(e.tag===3){Tv(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Zi===null||!Zi.has(i))){t=dn(n,t),n=wT(2),i=Ji(e,n,2),i!==null&&(RT(n,i,e,t),nl(i,2),Qn(i));break}}e=e.return}}function Af(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Yw;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(sg=!0,r.add(n),t=Jw.bind(null,t,e,n),e.then(t,t))}function Jw(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,we===t&&(ce&n)===n&&(Fe===4||Fe===3&&(ce&62914560)===ce&&300>en()-Qc?!(ge&2)&&ra(t,0):ag|=n,na===ce&&(na=0)),Qn(t)}function fE(t,e){e===0&&(e=ib()),t=us(t,e),t!==null&&(nl(t,e),Qn(t))}function Zw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fE(t,n)}function e2(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(U(314))}i!==null&&i.delete(e),fE(t,n)}function t2(t,e){return Ep(t,e)}var nc=null,Es=null,Dd=!1,ic=!1,xf=!1,Qi=0;function Qn(t){t!==Es&&t.next===null&&(Es===null?nc=Es=t:Es=Es.next=t),ic=!0,Dd||(Dd=!0,i2())}function ll(t,e){if(!xf&&ic){xf=!0;do for(var n=!1,i=nc;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-nn(42|t)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Ev(i,s))}else s=ce,s=kc(i,i===we?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||tl(i,s)||(n=!0,Ev(i,s));i=i.next}while(n);xf=!1}}function n2(){dE()}function dE(){ic=Dd=!1;var t=0;Qi!==0&&d2()&&(t=Qi);for(var e=en(),n=null,i=nc;i!==null;){var r=i.next,s=pE(i,e);s===0?(i.next=null,n===null?nc=r:n.next=r,r===null&&(Es=n)):(n=i,(t!==0||s&3)&&(ic=!0)),i=r}st!==0&&st!==5||ll(t),Qi!==0&&(Qi=0)}function pE(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-nn(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=Cx(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}if(e=we,n=ce,n=kc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(ve===2||ve===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Jh(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||tl(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Jh(i),Ap(n)){case 2:case 8:n=tb;break;case 32:n=Pu;break;case 268435456:n=nb;break;default:n=Pu}return i=gE.bind(null,t),n=Ep(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Jh(i),t.callbackPriority=2,t.callbackNode=null,2}function gE(t,e){if(st!==0&&st!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Xc()&&t.callbackNode!==n)return null;var i=ce;return i=kc(t,t===we?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(eE(t,i,e),pE(t,en()),t.callbackNode!=null&&t.callbackNode===n?gE.bind(null,t):null)}function Ev(t,e){if(Xc())return null;eE(t,e,!0)}function i2(){g2(function(){ge&6?Ep(eb,n2):dE()})}function lg(){if(Qi===0){var t=Zs;t===0&&(t=Gl,Gl<<=1,!(Gl&261888)&&(Gl=256)),Qi=t}return Qi}function Sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fu(""+t)}function Av(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function r2(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=Sv((r[Qt]||null).action),a=i.submitter;a&&(e=(e=a[Qt]||null)?Sv(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var l=new jc("action","action",null,i,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Qi!==0){var u=a?Av(r,a):new FormData(r);bd(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?Av(r,a):new FormData(r),bd(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var wf=0;wf<ld.length;wf++){var Rf=ld[wf],s2=Rf.toLowerCase(),a2=Rf[0].toUpperCase()+Rf.slice(1);Cn(s2,"on"+a2)}Cn(Rb,"onAnimationEnd");Cn(Ib,"onAnimationIteration");Cn(Cb,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(Ew,"onTransitionRun");Cn(Sw,"onTransitionStart");Cn(Aw,"onTransitionCancel");Cn(Db,"onTransitionEnd");Ws("onMouseEnter",["mouseout","mouseover"]);Ws("onMouseLeave",["mouseout","mouseover"]);Ws("onPointerEnter",["pointerout","pointerover"]);Ws("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jo));function mE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(f){Bu(f)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(f){Bu(f)}r.currentTarget=null,s=u}}}}function ae(t,e){var n=e[ed];n===void 0&&(n=e[ed]=new Set);var i=t+"__bubble";n.has(i)||(yE(e,t,2,!1),n.add(i))}function If(t,e,n){var i=0;e&&(i|=4),yE(n,t,i,e)}var tu="_reactListening"+Math.random().toString(36).slice(2);function ug(t){if(!t[tu]){t[tu]=!0,lb.forEach(function(n){n!=="selectionchange"&&(o2.has(n)||If(n,!1,t),If(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tu]||(e[tu]=!0,If("selectionchange",!1,e))}}function yE(t,e,n,i){switch(DE(e)){case 2:var r=k2;break;case 8:r=j2;break;default:r=dg}n=r.bind(null,e,n,t),r=void 0,!sd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Cf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=Cs(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue e}l=l.parentNode}}i=i.return}mb(function(){var c=s,f=Rp(n),p=[];e:{var g=Ob.get(t);if(g!==void 0){var _=jc,R=t;switch(t){case"keypress":if(pu(n)===0)break e;case"keydown":case"keyup":_=ew;break;case"focusin":R="focus",_=rf;break;case"focusout":R="blur",_=rf;break;case"beforeblur":case"afterblur":_=rf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=qx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=iw;break;case Rb:case Ib:case Cb:_=Gx;break;case Db:_=sw;break;case"scroll":case"scrollend":_=zx;break;case"wheel":_=ow;break;case"copy":case"cut":case"paste":_=Yx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Vy;break;case"toggle":case"beforetoggle":_=uw}var O=(e&4)!==0,D=!O&&(t==="scroll"||t==="scrollend"),S=O?g!==null?g+"Capture":null:g;O=[];for(var E=c,w;E!==null;){var M=E;if(w=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||w===null||S===null||(M=Io(E,S),M!=null&&O.push(Uo(E,M,w))),D)break;E=E.return}0<O.length&&(g=new _(g,R,null,n,f),p.push({event:g,listeners:O}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",g&&n!==rd&&(R=n.relatedTarget||n.fromElement)&&(Cs(R)||R[ma]))break e;if((_||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,_?(R=n.relatedTarget||n.toElement,_=c,R=R?Cs(R):null,R!==null&&(D=Zo(R),O=R.tag,R!==D||O!==5&&O!==27&&O!==6)&&(R=null)):(_=null,R=c),_!==R)){if(O=Ny,M="onMouseLeave",S="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(O=Vy,M="onPointerLeave",S="onPointerEnter",E="pointer"),D=_==null?g:Za(_),w=R==null?g:Za(R),g=new O(M,E+"leave",_,n,f),g.target=D,g.relatedTarget=w,M=null,Cs(f)===c&&(O=new O(S,E+"enter",R,n,f),O.target=w,O.relatedTarget=D,M=O),D=M,_&&R)t:{for(O=l2,S=_,E=R,w=0,M=S;M;M=O(M))w++;M=0;for(var P=E;P;P=O(P))M++;for(;0<w-M;)S=O(S),w--;for(;0<M-w;)E=O(E),M--;for(;w--;){if(S===E||E!==null&&S===E.alternate){O=S;break t}S=O(S),E=O(E)}O=null}else O=null;_!==null&&xv(p,g,_,O,!1),R!==null&&D!==null&&xv(p,D,R,O,!0)}}e:{if(g=c?Za(c):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var B=Ly;else if(Uy(g))if(Eb)B=_w;else{B=yw;var T=mw}else _=g.nodeName,!_||_.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&wp(c.elementType)&&(B=Ly):B=vw;if(B&&(B=B(t,c))){Tb(p,B,n,f);break e}T&&T(t,g,c),t==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&id(g,"number",g.value)}switch(T=c?Za(c):window,t){case"focusin":(Uy(T)||T.contentEditable==="true")&&(Ns=T,ad=c,uo=null);break;case"focusout":uo=ad=Ns=null;break;case"mousedown":od=!0;break;case"contextmenu":case"mouseup":case"dragend":od=!1,Hy(p,n,f);break;case"selectionchange":if(Tw)break;case"keydown":case"keyup":Hy(p,n,f)}var y;if(Dp)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Os?_b(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(vb&&n.locale!=="ko"&&(Os||b!=="onCompositionStart"?b==="onCompositionEnd"&&Os&&(y=yb()):(Hi=f,Ip="value"in Hi?Hi.value:Hi.textContent,Os=!0)),T=rc(c,b),0<T.length&&(b=new My(b,t,null,n,f),p.push({event:b,listeners:T}),y?b.data=y:(y=bb(n),y!==null&&(b.data=y)))),(y=hw?fw(t,n):dw(t,n))&&(b=rc(c,"onBeforeInput"),0<b.length&&(T=new My("onBeforeInput","beforeinput",null,n,f),p.push({event:T,listeners:b}),T.data=y)),r2(p,t,c,n,f)}mE(p,e)})}function Uo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Io(t,n),r!=null&&i.unshift(Uo(t,r,s)),r=Io(t,e),r!=null&&i.push(Uo(t,r,s))),t.tag===3)return i;t=t.return}return[]}function l2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xv(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,r?(c=Io(n,s),c!=null&&a.unshift(Uo(n,c,u))):r||(c=Io(n,s),c!=null&&a.push(Uo(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var u2=/\r\n?/g,c2=/\u0000|\uFFFD/g;function wv(t){return(typeof t=="string"?t:""+t).replace(u2,`
`).replace(c2,"")}function vE(t,e){return e=wv(e),wv(t)===e}function Ee(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Js(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Js(t,""+i);break;case"className":Kl(t,"class",i);break;case"tabIndex":Kl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Kl(t,n,i);break;case"style":gb(t,i,s);break;case"data":if(e!=="object"){Kl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=fu(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&Ee(t,e,"name",r.name,r,null),Ee(t,e,"formEncType",r.formEncType,r,null),Ee(t,e,"formMethod",r.formMethod,r,null),Ee(t,e,"formTarget",r.formTarget,r,null)):(Ee(t,e,"encType",r.encType,r,null),Ee(t,e,"method",r.method,r,null),Ee(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=fu(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=si);break;case"onScroll":i!=null&&ae("scroll",t);break;case"onScrollEnd":i!=null&&ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=fu(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ae("beforetoggle",t),ae("toggle",t),hu(t,"popover",i);break;case"xlinkActuate":$n(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":$n(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":$n(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":$n(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":$n(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":$n(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":$n(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":$n(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":$n(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":hu(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Lx.get(n)||n,hu(t,n,i))}}function Od(t,e,n,i,r,s){switch(n){case"style":gb(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Js(t,i):(typeof i=="number"||typeof i=="bigint")&&Js(t,""+i);break;case"onScroll":i!=null&&ae("scroll",t);break;case"onScrollEnd":i!=null&&ae("scrollend",t);break;case"onClick":i!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ub.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[Qt]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):hu(t,n,i)}}}function _t(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",t),ae("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:Ee(t,e,s,a,n,null)}}r&&Ee(t,e,"srcSet",n.srcSet,n,null),i&&Ee(t,e,"src",n.src,n,null);return;case"input":ae("invalid",t);var l=s=a=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":a=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(U(137,e));break;default:Ee(t,e,i,f,n,null)}}fb(t,s,l,u,c,a,r,!1);return;case"select":ae("invalid",t),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Ee(t,e,r,l,n,null)}e=s,n=a,t.multiple=!!i,e!=null?zs(t,!!i,e,!1):n!=null&&zs(t,!!i,n,!0);return;case"textarea":ae("invalid",t),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(U(91));break;default:Ee(t,e,a,l,n,null)}pb(t,i,r,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ee(t,e,u,i,n,null)}return;case"dialog":ae("beforetoggle",t),ae("toggle",t),ae("cancel",t),ae("close",t);break;case"iframe":case"object":ae("load",t);break;case"video":case"audio":for(i=0;i<jo.length;i++)ae(jo[i],t);break;case"image":ae("error",t),ae("load",t);break;case"details":ae("toggle",t);break;case"embed":case"source":case"link":ae("error",t),ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:Ee(t,e,c,i,n,null)}return;default:if(wp(e)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&Od(t,e,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Ee(t,e,l,i,n,null))}function h2(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,c=null,f=null;for(_ in n){var p=n[_];if(n.hasOwnProperty(_)&&p!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(_)||Ee(t,e,_,null,i,p)}}for(var g in i){var _=i[g];if(p=n[g],i.hasOwnProperty(g)&&(_!=null||p!=null))switch(g){case"type":s=_;break;case"name":r=_;break;case"checked":c=_;break;case"defaultChecked":f=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(U(137,e));break;default:_!==p&&Ee(t,e,g,_,i,p)}}nd(t,a,l,u,c,f,s,r);return;case"select":_=a=l=g=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(s)||Ee(t,e,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":g=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&Ee(t,e,r,s,i,u)}e=l,n=a,i=_,g!=null?zs(t,!!n,g,!1):!!i!=!!n&&(e!=null?zs(t,!!n,e,!0):zs(t,!!n,n?[]:"",!1));return;case"textarea":_=g=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ee(t,e,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":g=r;break;case"defaultValue":_=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(U(91));break;default:r!==s&&Ee(t,e,a,r,i,s)}db(t,g,_);return;case"option":for(var R in n)if(g=n[R],n.hasOwnProperty(R)&&g!=null&&!i.hasOwnProperty(R))switch(R){case"selected":t.selected=!1;break;default:Ee(t,e,R,null,i,g)}for(u in i)if(g=i[u],_=n[u],i.hasOwnProperty(u)&&g!==_&&(g!=null||_!=null))switch(u){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ee(t,e,u,g,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var O in n)g=n[O],n.hasOwnProperty(O)&&g!=null&&!i.hasOwnProperty(O)&&Ee(t,e,O,null,i,g);for(c in i)if(g=i[c],_=n[c],i.hasOwnProperty(c)&&g!==_&&(g!=null||_!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(U(137,e));break;default:Ee(t,e,c,g,i,_)}return;default:if(wp(e)){for(var D in n)g=n[D],n.hasOwnProperty(D)&&g!==void 0&&!i.hasOwnProperty(D)&&Od(t,e,D,void 0,i,g);for(f in i)g=i[f],_=n[f],!i.hasOwnProperty(f)||g===_||g===void 0&&_===void 0||Od(t,e,f,g,i,_);return}}for(var S in n)g=n[S],n.hasOwnProperty(S)&&g!=null&&!i.hasOwnProperty(S)&&Ee(t,e,S,null,i,g);for(p in i)g=i[p],_=n[p],!i.hasOwnProperty(p)||g===_||g==null&&_==null||Ee(t,e,p,g,i,_)}function Rv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function f2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,l=r.duration;if(s&&l&&Rv(a)){for(a=0,l=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>l)break;var f=u.transferSize,p=u.initiatorType;f&&Rv(p)&&(u=u.responseEnd,a+=f*(u<l?1:(l-c)/(u-c)))}if(--i,e+=8*(s+a)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nd=null,Md=null;function sc(t){return t.nodeType===9?t:t.ownerDocument}function Iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _E(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Vd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Df=null;function d2(){var t=window.event;return t&&t.type==="popstate"?t===Df?!1:(Df=t,!0):(Df=null,!1)}var bE=typeof setTimeout=="function"?setTimeout:void 0,p2=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,g2=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(t){return Cv.resolve(null).then(t).catch(m2)}:bE;function m2(t){setTimeout(function(){throw t})}function Er(t){return t==="head"}function Dv(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(r),aa(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")bo(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,bo(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[il]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&bo(t.ownerDocument.body);n=r}while(n);aa(e)}function Ov(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function kd(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":kd(n),xp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function y2(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[il])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=yn(t.nextSibling),t===null)break}return null}function v2(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=yn(t.nextSibling),t===null))return null;return t}function TE(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=yn(t.nextSibling),t===null))return null;return t}function jd(t){return t.data==="$?"||t.data==="$~"}function Ud(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _2(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Ld=null;function Nv(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return yn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Mv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function EE(t,e,n){switch(e=sc(n),t){case"html":if(t=e.documentElement,!t)throw Error(U(452));return t;case"head":if(t=e.head,!t)throw Error(U(453));return t;case"body":if(t=e.body,!t)throw Error(U(454));return t;default:throw Error(U(451))}}function bo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);xp(t)}var vn=new Map,Vv=new Set;function ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Si=me.d;me.d={f:b2,r:T2,D:E2,C:S2,L:A2,m:x2,X:R2,S:w2,M:I2};function b2(){var t=Si.f(),e=Yc();return t||e}function T2(t){var e=ya(t);e!==null&&e.tag===5&&e.type==="form"?gT(e):Si.r(t)}var Ta=typeof document>"u"?null:document;function SE(t,e,n){var i=Ta;if(i&&typeof e=="string"&&e){var r=fn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Vv.has(r)||(Vv.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),_t(e,"link",t),ct(e),i.head.appendChild(e)))}}function E2(t){Si.D(t),SE("dns-prefetch",t,null)}function S2(t,e){Si.C(t,e),SE("preconnect",t,e)}function A2(t,e,n){Si.L(t,e,n);var i=Ta;if(i&&t&&e){var r='link[rel="preload"][as="'+fn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+fn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+fn(n.imageSizes)+'"]')):r+='[href="'+fn(t)+'"]';var s=r;switch(e){case"style":s=sa(t);break;case"script":s=Ea(t)}vn.has(s)||(t=je({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),vn.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(ul(s))||e==="script"&&i.querySelector(cl(s))||(e=i.createElement("link"),_t(e,"link",t),ct(e),i.head.appendChild(e)))}}function x2(t,e){Si.m(t,e);var n=Ta;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+fn(i)+'"][href="'+fn(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ea(t)}if(!vn.has(s)&&(t=je({rel:"modulepreload",href:t},e),vn.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(cl(s)))return}i=n.createElement("link"),_t(i,"link",t),ct(i),n.head.appendChild(i)}}}function w2(t,e,n){Si.S(t,e,n);var i=Ta;if(i&&t){var r=Ps(i).hoistableStyles,s=sa(t);e=e||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(ul(s)))l.loading=5;else{t=je({rel:"stylesheet",href:t,"data-precedence":e},n),(n=vn.get(s))&&cg(t,n);var u=a=i.createElement("link");ct(u),_t(u,"link",t),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Eu(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function R2(t,e){Si.X(t,e);var n=Ta;if(n&&t){var i=Ps(n).hoistableScripts,r=Ea(t),s=i.get(r);s||(s=n.querySelector(cl(r)),s||(t=je({src:t,async:!0},e),(e=vn.get(r))&&hg(t,e),s=n.createElement("script"),ct(s),_t(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function I2(t,e){Si.M(t,e);var n=Ta;if(n&&t){var i=Ps(n).hoistableScripts,r=Ea(t),s=i.get(r);s||(s=n.querySelector(cl(r)),s||(t=je({src:t,async:!0,type:"module"},e),(e=vn.get(r))&&hg(t,e),s=n.createElement("script"),ct(s),_t(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function kv(t,e,n,i){var r=(r=Xi.current)?ac(r):null;if(!r)throw Error(U(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=sa(n.href),n=Ps(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=sa(n.href);var s=Ps(r).hoistableStyles,a=s.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=r.querySelector(ul(t)))&&!s._p&&(a.instance=s,a.state.loading=5),vn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},vn.set(t,n),s||C2(r,t,n,a.state))),e&&i===null)throw Error(U(528,""));return a}if(e&&i!==null)throw Error(U(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ea(n),n=Ps(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,t))}}function sa(t){return'href="'+fn(t)+'"'}function ul(t){return'link[rel="stylesheet"]['+t+"]"}function AE(t){return je({},t,{"data-precedence":t.precedence,precedence:null})}function C2(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),_t(e,"link",n),ct(e),t.head.appendChild(e))}function Ea(t){return'[src="'+fn(t)+'"]'}function cl(t){return"script[async]"+t}function jv(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+fn(n.href)+'"]');if(i)return e.instance=i,ct(i),i;var r=je({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),ct(i),_t(i,"style",r),Eu(i,n.precedence,t),e.instance=i;case"stylesheet":r=sa(n.href);var s=t.querySelector(ul(r));if(s)return e.state.loading|=4,e.instance=s,ct(s),s;i=AE(n),(r=vn.get(r))&&cg(i,r),s=(t.ownerDocument||t).createElement("link"),ct(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),_t(s,"link",i),e.state.loading|=4,Eu(s,n.precedence,t),e.instance=s;case"script":return s=Ea(n.src),(r=t.querySelector(cl(s)))?(e.instance=r,ct(r),r):(i=n,(r=vn.get(s))&&(i=je({},n),hg(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),ct(r),_t(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(U(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Eu(i,n.precedence,t));return e.instance}function Eu(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function cg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function hg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Su=null;function Uv(t,e,n){if(Su===null){var i=new Map,r=Su=new Map;r.set(n,i)}else r=Su,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[il]||s[gt]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Lv(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function D2(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function xE(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function O2(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=sa(i.href),s=e.querySelector(ul(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=oc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,ct(s);return}s=e.ownerDocument||e,i=AE(i),(r=vn.get(r))&&cg(i,r),s=s.createElement("link"),ct(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),_t(s,"link",i),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=oc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Of=0;function N2(t,e){return t.stylesheets&&t.count===0&&Au(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Au(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&Of===0&&(Of=62500*f2());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Au(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>Of?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Au(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var lc=null;function Au(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,lc=new Map,e.forEach(M2,t),lc=null,oc.call(t))}function M2(t,e){if(!(e.state.loading&4)){var n=lc.get(t);if(n)var i=n.get(null);else{n=new Map,lc.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=oc.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Lo={$$typeof:ri,Provider:null,Consumer:null,_currentValue:Pr,_currentValue2:Pr,_threadCount:0};function V2(t,e,n,i,r,s,a,l,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zh(0),this.hiddenUpdates=Zh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function wE(t,e,n,i,r,s,a,l,u,c,f,p){return t=new V2(t,e,n,a,u,c,f,p,l),e=1,s===!0&&(e|=24),s=Wt(3,null,null,e),t.current=s,s.stateNode=t,e=Up(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},zp(s),t}function RE(t){return t?(t=ks,t):ks}function IE(t,e,n,i,r,s){r=RE(r),i.context===null?i.context=r:i.pendingContext=r,i=Wi(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Ji(t,i,e),n!==null&&(Gt(n,t,e),ho(n,t,e))}function Pv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fg(t,e){Pv(t,e),(t=t.alternate)&&Pv(t,e)}function CE(t){if(t.tag===13||t.tag===31){var e=us(t,67108864);e!==null&&Gt(e,t,67108864),fg(t,67108864)}}function zv(t){if(t.tag===13||t.tag===31){var e=rn();e=Sp(e);var n=us(t,e);n!==null&&Gt(n,t,e),fg(t,e)}}var uc=!0;function k2(t,e,n,i){var r=$.T;$.T=null;var s=me.p;try{me.p=2,dg(t,e,n,i)}finally{me.p=s,$.T=r}}function j2(t,e,n,i){var r=$.T;$.T=null;var s=me.p;try{me.p=8,dg(t,e,n,i)}finally{me.p=s,$.T=r}}function dg(t,e,n,i){if(uc){var r=Pd(i);if(r===null)Cf(t,e,i,cc,n),Bv(t,i);else if(L2(r,t,e,n,i))i.stopPropagation();else if(Bv(t,i),e&4&&-1<U2.indexOf(t)){for(;r!==null;){var s=ya(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Nr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-nn(a);l.entanglements[1]|=u,a&=~u}Qn(s),!(ge&6)&&(Zu=en()+500,ll(0))}}break;case 31:case 13:l=us(s,2),l!==null&&Gt(l,s,2),Yc(),fg(s,2)}if(s=Pd(i),s===null&&Cf(t,e,i,cc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Cf(t,e,i,null,n)}}function Pd(t){return t=Rp(t),pg(t)}var cc=null;function pg(t){if(cc=null,t=Cs(t),t!==null){var e=Zo(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=X0(e),t!==null)return t;t=null}else if(n===31){if(t=$0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return cc=t,null}function DE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ex()){case eb:return 2;case tb:return 8;case Pu:case Sx:return 32;case nb:return 268435456;default:return 32}default:return 32}}var zd=!1,tr=null,nr=null,ir=null,Po=new Map,zo=new Map,Li=[],U2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bv(t,e){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Po.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(e.pointerId)}}function $a(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=ya(e),e!==null&&CE(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function L2(t,e,n,i,r){switch(e){case"focusin":return tr=$a(tr,t,e,n,i,r),!0;case"dragenter":return nr=$a(nr,t,e,n,i,r),!0;case"mouseover":return ir=$a(ir,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Po.set(s,$a(Po.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,zo.set(s,$a(zo.get(s)||null,t,e,n,i,r)),!0}return!1}function OE(t){var e=Cs(t.target);if(e!==null){var n=Zo(e);if(n!==null){if(e=n.tag,e===13){if(e=X0(n),e!==null){t.blockedOn=e,xy(t.priority,function(){zv(n)});return}}else if(e===31){if(e=$0(n),e!==null){t.blockedOn=e,xy(t.priority,function(){zv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pd(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);rd=i,n.target.dispatchEvent(i),rd=null}else return e=ya(n),e!==null&&CE(e),t.blockedOn=n,!1;e.shift()}return!0}function qv(t,e,n){xu(t)&&n.delete(e)}function P2(){zd=!1,tr!==null&&xu(tr)&&(tr=null),nr!==null&&xu(nr)&&(nr=null),ir!==null&&xu(ir)&&(ir=null),Po.forEach(qv),zo.forEach(qv)}function nu(t,e){t.blockedOn===e&&(t.blockedOn=null,zd||(zd=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,P2)))}var iu=null;function Hv(t){iu!==t&&(iu=t,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,function(){iu===t&&(iu=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(pg(i||n)===null)continue;break}var s=ya(n);s!==null&&(t.splice(e,3),e-=3,bd(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function aa(t){function e(u){return nu(u,t)}tr!==null&&nu(tr,t),nr!==null&&nu(nr,t),ir!==null&&nu(ir,t),Po.forEach(e),zo.forEach(e);for(var n=0;n<Li.length;n++){var i=Li[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Li.length&&(n=Li[0],n.blockedOn===null);)OE(n),n.blockedOn===null&&Li.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Qt]||null;if(typeof s=="function")a||Hv(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Qt]||null)l=a.formAction;else if(pg(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Hv(n)}}}function NE(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function gg(t){this._internalRoot=t}$c.prototype.render=gg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));var n=e.current,i=rn();IE(n,i,t,e,null,null)};$c.prototype.unmount=gg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;IE(t.current,2,null,t,null,null),Yc(),e[ma]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var e=ob();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Li.length&&e!==0&&e<Li[n].priority;n++);Li.splice(n,0,t),n===0&&OE(t)}};var Fv=Y0.version;if(Fv!=="19.2.1")throw Error(U(527,Fv,"19.2.1"));me.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=gx(e),t=t!==null?W0(t):null,t=t===null?null:t.stateNode,t};var z2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{el=ru.inject(z2),tn=ru}catch{}}Mc.createRoot=function(t,e){if(!K0(t))throw Error(U(299));var n=!1,i="",r=ST,s=AT,a=xT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=wE(t,1,!1,null,null,n,i,null,r,s,a,NE),t[ma]=e.current,ug(t),new gg(e)};Mc.hydrateRoot=function(t,e,n){if(!K0(t))throw Error(U(299));var i=!1,r="",s=ST,a=AT,l=xT,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=wE(t,1,!0,e,n??null,i,r,u,s,a,l,NE),e.context=RE(null),n=e.current,i=rn(),i=Sp(i),r=Wi(i),r.callback=null,Ji(n,r,i),n=i,e.current.lanes=n,nl(e,n),Qn(e),t[ma]=e.current,ug(t),new $c(e)};Mc.version="19.2.1";function ME(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ME)}catch(t){console.error(t)}}ME(),B0.exports=Mc;var B2=B0.exports;const q2=O0(B2);/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bo.apply(this,arguments)}var Yi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yi||(Yi={}));const Gv="popstate";function H2(t){t===void 0&&(t={});function e(r,s){let{pathname:a="/",search:l="",hash:u=""}=hs(r.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Bd("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let a=r.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let u=r.location.href,c=u.indexOf("#");l=c===-1?u:u.slice(0,c)}return l+"#"+(typeof s=="string"?s:VE(s))}function i(r,s){Wc(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return G2(e,n,i,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F2(){return Math.random().toString(36).substr(2,8)}function Qv(t,e){return{usr:t.state,key:t.key,idx:e}}function Bd(t,e,n,i){return n===void 0&&(n=null),Bo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hs(e):e,{state:n,key:e&&e.key||i||F2()})}function VE(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function hs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function G2(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l=Yi.Pop,u=null,c=f();c==null&&(c=0,a.replaceState(Bo({},a.state,{idx:c}),""));function f(){return(a.state||{idx:null}).idx}function p(){l=Yi.Pop;let D=f(),S=D==null?null:D-c;c=D,u&&u({action:l,location:O.location,delta:S})}function g(D,S){l=Yi.Push;let E=Bd(O.location,D,S);n&&n(E,D),c=f()+1;let w=Qv(E,c),M=O.createHref(E);try{a.pushState(w,"",M)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(M)}s&&u&&u({action:l,location:O.location,delta:1})}function _(D,S){l=Yi.Replace;let E=Bd(O.location,D,S);n&&n(E,D),c=f();let w=Qv(E,c),M=O.createHref(E);a.replaceState(w,"",M),s&&u&&u({action:l,location:O.location,delta:0})}function R(D){let S=r.location.origin!=="null"?r.location.origin:r.location.href,E=typeof D=="string"?D:VE(D);return E=E.replace(/ $/,"%20"),rt(S,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,S)}let O={get action(){return l},get location(){return t(r,a)},listen(D){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Gv,p),u=D,()=>{r.removeEventListener(Gv,p),u=null}},createHref(D){return e(r,D)},createURL:R,encodeLocation(D){let S=R(D);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:_,go(D){return a.go(D)}};return O}var Yv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Yv||(Yv={}));function Q2(t,e,n){return n===void 0&&(n="/"),Y2(t,e,n)}function Y2(t,e,n,i){let r=typeof e=="string"?hs(e):e,s=UE(r.pathname||"/",n);if(s==null)return null;let a=kE(t);K2(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=aR(s);l=iR(a[u],c)}return l}function kE(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(rt(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let c=Fr([i,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(rt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),kE(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:tR(c,s.index),routesMeta:f})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))r(s,a);else for(let u of jE(s.path))r(s,a,u)}),e}function jE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=jE(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function K2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const X2=/^:[\w-]+$/,$2=3,W2=2,J2=1,Z2=10,eR=-2,Kv=t=>t==="*";function tR(t,e){let n=t.split("/"),i=n.length;return n.some(Kv)&&(i+=eR),e&&(i+=W2),n.filter(r=>!Kv(r)).reduce((r,s)=>r+(X2.test(s)?$2:s===""?J2:Z2),i)}function nR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function iR(t,e,n){let{routesMeta:i}=t,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=rR({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!p)return null;Object.assign(r,p.params),a.push({params:r,pathname:Fr([s,p.pathname]),pathnameBase:hR(Fr([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Fr([s,p.pathnameBase]))}return a}function rR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=sR(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((c,f,p)=>{let{paramName:g,isOptional:_}=f;if(g==="*"){let O=l[p]||"";a=s.slice(0,s.length-O.length).replace(/(.)\/+$/,"$1")}const R=l[p];return _&&!R?c[g]=void 0:c[g]=(R||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function sR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Wc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function aR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function UE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const oR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lR=t=>oR.test(t);function uR(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?hs(t):t,s;if(n)if(lR(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Wc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=Xv(n.substring(1),"/"):s=Xv(n,e)}else s=e;return{pathname:s,search:fR(i),hash:dR(r)}}function Xv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Nf(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LE(t,e){let n=cR(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function PE(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=hs(t):(r=Bo({},t),rt(!r.pathname||!r.pathname.includes("?"),Nf("?","pathname","search",r)),rt(!r.pathname||!r.pathname.includes("#"),Nf("#","pathname","hash",r)),rt(!r.search||!r.search.includes("#"),Nf("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;r.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=uR(r,l),c=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const Fr=t=>t.join("/").replace(/\/\/+/g,"/"),hR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zE=["post","put","patch","delete"];new Set(zE);const gR=["get",...zE];new Set(gR);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},qo.apply(this,arguments)}const mg=k.createContext(null),mR=k.createContext(null),hl=k.createContext(null),Jc=k.createContext(null),Sr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),BE=k.createContext(null);function fl(){return k.useContext(Jc)!=null}function Zc(){return fl()||rt(!1),k.useContext(Jc).location}function qE(t){k.useContext(hl).static||k.useLayoutEffect(t)}function Dn(){let{isDataRoute:t}=k.useContext(Sr);return t?DR():yR()}function yR(){fl()||rt(!1);let t=k.useContext(mg),{basename:e,future:n,navigator:i}=k.useContext(hl),{matches:r}=k.useContext(Sr),{pathname:s}=Zc(),a=JSON.stringify(LE(r,n.v7_relativeSplatPath)),l=k.useRef(!1);return qE(()=>{l.current=!0}),k.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){i.go(c);return}let p=PE(c,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Fr([e,p.pathname])),(f.replace?i.replace:i.push)(p,f.state,f)},[e,i,a,s,t])}function vR(){let{matches:t}=k.useContext(Sr),e=t[t.length-1];return e?e.params:{}}function _R(t,e){return bR(t,e)}function bR(t,e,n,i){fl()||rt(!1);let{navigator:r}=k.useContext(hl),{matches:s}=k.useContext(Sr),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=Zc(),f;if(e){var p;let D=typeof e=="string"?hs(e):e;u==="/"||(p=D.pathname)!=null&&p.startsWith(u)||rt(!1),f=D}else f=c;let g=f.pathname||"/",_=g;if(u!=="/"){let D=u.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(D.length).join("/")}let R=Q2(t,{pathname:_}),O=xR(R&&R.map(D=>Object.assign({},D,{params:Object.assign({},l,D.params),pathname:Fr([u,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?u:Fr([u,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),s,n,i);return e&&O?k.createElement(Jc.Provider,{value:{location:qo({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Yi.Pop}},O):O}function TR(){let t=CR(),e=pR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:r},n):null,null)}const ER=k.createElement(TR,null);class SR extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Sr.Provider,{value:this.props.routeContext},k.createElement(BE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AR(t){let{routeContext:e,match:n,children:i}=t,r=k.useContext(mg);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Sr.Provider,{value:e},i)}function xR(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let f=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||rt(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:g,errors:_}=n,R=p.route.loader&&g[p.route.id]===void 0&&(!_||_[p.route.id]===void 0);if(p.route.lazy||R){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,p,g)=>{let _,R=!1,O=null,D=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,O=p.route.errorElement||ER,u&&(c<0&&g===0?(OR("route-fallback"),R=!0,D=null):c===g&&(R=!0,D=p.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,g+1)),E=()=>{let w;return _?w=O:R?w=D:p.route.Component?w=k.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=f,k.createElement(AR,{match:p,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:w})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?k.createElement(SR,{location:n.location,revalidation:n.revalidation,component:O,error:_,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):E()},null)}var HE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(HE||{}),FE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(FE||{});function wR(t){let e=k.useContext(mg);return e||rt(!1),e}function RR(t){let e=k.useContext(mR);return e||rt(!1),e}function IR(t){let e=k.useContext(Sr);return e||rt(!1),e}function GE(t){let e=IR(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function CR(){var t;let e=k.useContext(BE),n=RR(),i=GE();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function DR(){let{router:t}=wR(HE.UseNavigateStable),e=GE(FE.UseNavigateStable),n=k.useRef(!1);return qE(()=>{n.current=!0}),k.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,qo({fromRouteId:e},s)))},[t,e])}const $v={};function OR(t,e,n){$v[t]||($v[t]=!0)}function NR(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function MR(t){let{to:e,replace:n,state:i,relative:r}=t;fl()||rt(!1);let{future:s,static:a}=k.useContext(hl),{matches:l}=k.useContext(Sr),{pathname:u}=Zc(),c=Dn(),f=PE(e,LE(l,s.v7_relativeSplatPath),u,r==="path"),p=JSON.stringify(f);return k.useEffect(()=>c(JSON.parse(p),{replace:n,state:i,relative:r}),[c,p,r,n,i]),null}function On(t){rt(!1)}function VR(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Yi.Pop,navigator:s,static:a=!1,future:l}=t;fl()&&rt(!1);let u=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:u,navigator:s,static:a,future:qo({v7_relativeSplatPath:!1},l)}),[u,l,s,a]);typeof i=="string"&&(i=hs(i));let{pathname:f="/",search:p="",hash:g="",state:_=null,key:R="default"}=i,O=k.useMemo(()=>{let D=UE(f,u);return D==null?null:{location:{pathname:D,search:p,hash:g,state:_,key:R},navigationType:r}},[u,f,p,g,_,R,r]);return O==null?null:k.createElement(hl.Provider,{value:c},k.createElement(Jc.Provider,{children:n,value:O}))}function kR(t){let{children:e,location:n}=t;return _R(qd(e),n)}new Promise(()=>{});function qd(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(i,r)=>{if(!k.isValidElement(i))return;let s=[...e,r];if(i.type===k.Fragment){n.push.apply(n,qd(i.props.children,s));return}i.type!==On&&rt(!1),!i.props.index||!i.props.children||rt(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=qd(i.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hd(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(r=>[n,r]):[[n,i]])},[]))}function jR(t,e){let n=Hd(t);return e&&e.forEach((i,r)=>{n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)})}),n}const UR="6";try{window.__reactRouterVersion=UR}catch{}const LR="startTransition",Wv=lx[LR];function PR(t){let{basename:e,children:n,future:i,window:r}=t,s=k.useRef();s.current==null&&(s.current=H2({window:r,v5Compat:!0}));let a=s.current,[l,u]=k.useState({action:a.action,location:a.location}),{v7_startTransition:c}=i||{},f=k.useCallback(p=>{c&&Wv?Wv(()=>u(p)):u(p)},[u,c]);return k.useLayoutEffect(()=>a.listen(f),[a,f]),k.useEffect(()=>NR(i),[i]),k.createElement(VR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:i})}var Jv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jv||(Jv={}));var Zv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zv||(Zv={}));function zR(t){let e=k.useRef(Hd(t)),n=k.useRef(!1),i=Zc(),r=k.useMemo(()=>jR(i.search,n.current?null:e.current),[i.search]),s=Dn(),a=k.useCallback((l,u)=>{const c=Hd(typeof l=="function"?l(r):l);n.current=!0,s("?"+c,u)},[s,r]);return[r,a]}const BR=()=>{};var e_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},qR=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],l=t[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,l=a?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let g=(l&15)<<2|c>>6,_=c&63;u||(_=64,a||(g=64)),i.push(n[f],n[p],n[g],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const p=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||c==null||p==null)throw new HR;const g=s<<2|l>>4;if(i.push(g),c!==64){const _=l<<4&240|c>>2;if(i.push(_),p!==64){const R=c<<6&192|p;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FR=function(t){const e=QE(t);return YE.encodeByteArray(e,!0)},hc=function(t){return FR(t).replace(/\./g,"")},KE=function(t){try{return YE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=()=>GR().__FIREBASE_DEFAULTS__,YR=()=>{if(typeof process>"u"||typeof e_>"u")return;const t=e_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KE(t[1]);return e&&JSON.parse(e)},eh=()=>{try{return BR()||QR()||YR()||KR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XE=t=>{var e,n;return(n=(e=eh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},XR=t=>{const e=XE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},$E=()=>{var t;return(t=eh())===null||t===void 0?void 0:t.config},WE=t=>{var e;return(e=eh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hc(JSON.stringify(n)),hc(JSON.stringify(a)),""].join(".")}const To={};function JR(){const t={prod:[],emulator:[]};for(const e of Object.keys(To))To[e]?t.emulator.push(e):t.prod.push(e);return t}function ZR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let t_=!1;function ZE(t,e){if(typeof window>"u"||typeof document>"u"||!Sa(window.location.host)||To[t]===e||To[t]||t_)return;To[t]=e;function n(g){return`__firebase__banner__${g}`}const i="__firebase__banner",s=JR().prod.length>0;function a(){const g=document.getElementById(i);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,_){g.setAttribute("width","24"),g.setAttribute("id",_),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{t_=!0,a()},g}function f(g,_){g.setAttribute("id",_),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=ZR(i),_=n("text"),R=document.getElementById(_)||document.createElement("span"),O=n("learnmore"),D=document.getElementById(O)||document.createElement("a"),S=n("preprendIcon"),E=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const w=g.element;l(w),f(D,O);const M=c();u(E,S),w.append(E,R,D,M),document.body.appendChild(w)}s?(R.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function tI(){var t;const e=(t=eh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sI(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aI(){return!tI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oI(){try{return typeof indexedDB=="object"}catch{return!1}}function lI(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="FirebaseError";class Ai extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=uI,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dl.prototype.create)}}class dl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?cI(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Ai(r,l,i)}}function cI(t,e){return t.replace(hI,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const hI=/\{\$([^}]+)}/g;function fI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(n_(s)&&n_(a)){if(!Zr(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function n_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function dI(t,e){const n=new pI(t,e);return n.subscribe.bind(n)}class pI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");gI(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Mf),r.error===void 0&&(r.error=Mf),r.complete===void 0&&(r.complete=Mf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class es{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new $R;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vI(e))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kr){return this.instances.has(e)}getOptions(e=kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:yI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=kr){return this.component?this.component.multipleInstances?e:kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yI(t){return t===kr?void 0:t}function vI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const bI={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},TI=le.INFO,EI={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},SI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=EI[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yg{constructor(e){this.name=e,this._logLevel=TI,this._logHandler=SI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const AI=(t,e)=>e.some(n=>t instanceof n);let i_,r_;function xI(){return i_||(i_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wI(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e1=new WeakMap,Fd=new WeakMap,t1=new WeakMap,Vf=new WeakMap,vg=new WeakMap;function RI(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(rr(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&e1.set(n,t)}).catch(()=>{}),vg.set(e,t),e}function II(t){if(Fd.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Fd.set(t,e)}let Gd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||t1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CI(t){Gd=t(Gd)}function DI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(kf(this),e,...n);return t1.set(i,e.sort?e.sort():[e]),rr(i)}:wI().includes(t)?function(...e){return t.apply(kf(this),e),rr(e1.get(this))}:function(...e){return rr(t.apply(kf(this),e))}}function OI(t){return typeof t=="function"?DI(t):(t instanceof IDBTransaction&&II(t),AI(t,xI())?new Proxy(t,Gd):t)}function rr(t){if(t instanceof IDBRequest)return RI(t);if(Vf.has(t))return Vf.get(t);const e=OI(t);return e!==t&&(Vf.set(t,e),vg.set(e,t)),e}const kf=t=>vg.get(t);function NI(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),l=rr(a);return i&&a.addEventListener("upgradeneeded",u=>{i(rr(a.result),u.oldVersion,u.newVersion,rr(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const MI=["get","getKey","getAll","getAllKeys","count"],VI=["put","add","delete","clear"],jf=new Map;function s_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jf.get(e))return jf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=VI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||MI.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),r&&u.done]))[0]};return jf.set(e,s),s}CI(t=>({...t,get:(e,n,i)=>s_(e,n)||t.get(e,n,i),has:(e,n)=>!!s_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function jI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qd="@firebase/app",a_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new yg("@firebase/app"),UI="@firebase/app-compat",LI="@firebase/analytics-compat",PI="@firebase/analytics",zI="@firebase/app-check-compat",BI="@firebase/app-check",qI="@firebase/auth",HI="@firebase/auth-compat",FI="@firebase/database",GI="@firebase/data-connect",QI="@firebase/database-compat",YI="@firebase/functions",KI="@firebase/functions-compat",XI="@firebase/installations",$I="@firebase/installations-compat",WI="@firebase/messaging",JI="@firebase/messaging-compat",ZI="@firebase/performance",eC="@firebase/performance-compat",tC="@firebase/remote-config",nC="@firebase/remote-config-compat",iC="@firebase/storage",rC="@firebase/storage-compat",sC="@firebase/firestore",aC="@firebase/ai",oC="@firebase/firestore-compat",lC="firebase",uC="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="[DEFAULT]",cC={[Qd]:"fire-core",[UI]:"fire-core-compat",[PI]:"fire-analytics",[LI]:"fire-analytics-compat",[BI]:"fire-app-check",[zI]:"fire-app-check-compat",[qI]:"fire-auth",[HI]:"fire-auth-compat",[FI]:"fire-rtdb",[GI]:"fire-data-connect",[QI]:"fire-rtdb-compat",[YI]:"fire-fn",[KI]:"fire-fn-compat",[XI]:"fire-iid",[$I]:"fire-iid-compat",[WI]:"fire-fcm",[JI]:"fire-fcm-compat",[ZI]:"fire-perf",[eC]:"fire-perf-compat",[tC]:"fire-rc",[nC]:"fire-rc-compat",[iC]:"fire-gcs",[rC]:"fire-gcs-compat",[sC]:"fire-fst",[oC]:"fire-fst-compat",[aC]:"fire-vertex","fire-js":"fire-js",[lC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new Map,hC=new Map,Kd=new Map;function o_(t,e){try{t.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oa(t){const e=t.name;if(Kd.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;Kd.set(e,t);for(const n of fc.values())o_(n,t);for(const n of hC.values())o_(n,t);return!0}function _g(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function An(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new dl("app","Firebase",fC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=uC;function n1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Yd,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw sr.create("bad-app-name",{appName:String(r)});if(n||(n=$E()),!n)throw sr.create("no-options");const s=fc.get(r);if(s){if(Zr(n,s.options)&&Zr(i,s.config))return s;throw sr.create("duplicate-app",{appName:r})}const a=new _I(r);for(const u of Kd.values())a.addComponent(u);const l=new dC(n,i,a);return fc.set(r,l),l}function i1(t=Yd){const e=fc.get(t);if(!e&&t===Yd&&$E())return n1();if(!e)throw sr.create("no-app",{appName:t});return e}function ar(t,e,n){var i;let r=(i=cC[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(l.join(" "));return}oa(new es(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebase-heartbeat-database",gC=1,Ho="firebase-heartbeat-store";let Uf=null;function r1(){return Uf||(Uf=NI(pC,gC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ho)}catch(n){console.warn(n)}}}}).catch(t=>{throw sr.create("idb-open",{originalErrorMessage:t.message})})),Uf}async function mC(t){try{const n=(await r1()).transaction(Ho),i=await n.objectStore(Ho).get(s1(t));return await n.done,i}catch(e){if(e instanceof Ai)vi.warn(e.message);else{const n=sr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vi.warn(n.message)}}}async function l_(t,e){try{const i=(await r1()).transaction(Ho,"readwrite");await i.objectStore(Ho).put(e,s1(t)),await i.done}catch(n){if(n instanceof Ai)vi.warn(n.message);else{const i=sr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vi.warn(i.message)}}}function s1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=1024,vC=30;class _C{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TC(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=u_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>vC){const a=EC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){vi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=u_(),{heartbeatsToSend:i,unsentEntries:r}=bC(this._heartbeatsCache.heartbeats),s=hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return vi.warn(n),""}}}function u_(){return new Date().toISOString().substring(0,10)}function bC(t,e=yC){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),c_(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),c_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class TC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oI()?lI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return l_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return l_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function c_(t){return hc(JSON.stringify({version:2,heartbeats:t})).length}function EC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t){oa(new es("platform-logger",e=>new kI(e),"PRIVATE")),oa(new es("heartbeat",e=>new _C(e),"PRIVATE")),ar(Qd,a_,t),ar(Qd,a_,"esm2017"),ar("fire-js","")}SC("");var AC="firebase",xC="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(AC,xC,"app");function bg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function a1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wC=a1,o1=new dl("auth","Firebase",a1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new yg("@firebase/auth");function RC(t,...e){dc.logLevel<=le.WARN&&dc.warn(`Auth (${Aa}): ${t}`,...e)}function wu(t,...e){dc.logLevel<=le.ERROR&&dc.error(`Auth (${Aa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t,...e){throw Eg(t,...e)}function wn(t,...e){return Eg(t,...e)}function Tg(t,e,n){const i=Object.assign(Object.assign({},wC()),{[e]:n});return new dl("auth","Firebase",i).create(e,{appName:t.name})}function Gr(t){return Tg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IC(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Hn(t,"argument-error"),Tg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Eg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return o1.create(t,...e)}function J(t,e,...n){if(!t)throw Eg(e,...n)}function oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wu(e),new Error(e)}function _i(t,e){t||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function CC(){return h_()==="http:"||h_()==="https:"}function h_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CC()||iI()||"connection"in navigator)?navigator.onLine:!0}function OC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.shortDelay=e,this.longDelay=n,_i(n>e,"Short delay should be less than long delay!"),this.isMobile=eI()||rI()}get(){return DC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t,e){_i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VC=new gl(3e4,6e4);function Ag(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xa(t,e,n,i,r={}){return u1(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const l=pl(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return nI()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Sa(t.emulatorConfig.host)&&(c.credentials="include"),l1.fetch()(await c1(t,t.config.apiHost,n,l),c)})}async function u1(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},NC),e);try{const r=new jC(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw su(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw su(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw su(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw su(t,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Tg(t,f,c);Hn(t,f)}}catch(r){if(r instanceof Ai)throw r;Hn(t,"network-request-failed",{message:String(r)})}}async function kC(t,e,n,i,r={}){const s=await xa(t,e,n,i,r);return"mfaPendingCredential"in s&&Hn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function c1(t,e,n,i){const r=`${e}${n}?${i}`,s=t,a=s.config.emulator?Sg(t.config,r):`${t.config.apiScheme}://${r}`;return MC.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class jC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(wn(this.auth,"network-request-failed")),VC.get())})}}function su(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=wn(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(t,e){return xa(t,"POST","/v1/accounts:delete",e)}async function pc(t,e){return xa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LC(t,e=!1){const n=Dt(t),i=await n.getIdToken(e),r=xg(i);J(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Eo(Lf(r.auth_time)),issuedAtTime:Eo(Lf(r.iat)),expirationTime:Eo(Lf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Lf(t){return Number(t)*1e3}function xg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return wu("JWT malformed, contained fewer than 3 sections"),null;try{const r=KE(n);return r?JSON.parse(r):(wu("Failed to decode base64 JWT payload"),null)}catch(r){return wu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function f_(t){const e=xg(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ai&&PC(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function PC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eo(this.lastLoginAt),this.creationTime=Eo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Fo(t,pc(n,{idToken:i}));J(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?h1(s.providerUserInfo):[],l=qC(t.providerData,a),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new $d(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function BC(t){const e=Dt(t);await gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qC(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function h1(t){return t.map(e=>{var{providerId:n}=e,i=bg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(t,e){const n=await u1(t,{},async()=>{const i=pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=await c1(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&Sa(t.emulatorConfig.host)&&(u.credentials="include"),l1.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FC(t,e){return xa(t,"POST","/v2/accounts:revokeToken",Ag(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=f_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await HC(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Qs;return i&&(J(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(J(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(J(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qs,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xn{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=bg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $d(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Fo(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LC(this,e)}reload(){return BC(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await gc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Gr(this.auth));const e=await this.getIdToken();return await Fo(this,UC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,a,l,u,c,f;const p=(i=n.displayName)!==null&&i!==void 0?i:void 0,g=(r=n.email)!==null&&r!==void 0?r:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,R=(a=n.photoURL)!==null&&a!==void 0?a:void 0,O=(l=n.tenantId)!==null&&l!==void 0?l:void 0,D=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,S=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:w,emailVerified:M,isAnonymous:P,providerData:B,stsTokenManager:T}=n;J(w&&T,e,"internal-error");const y=Qs.fromJSON(this.name,T);J(typeof w=="string",e,"internal-error"),Oi(p,e.name),Oi(g,e.name),J(typeof M=="boolean",e,"internal-error"),J(typeof P=="boolean",e,"internal-error"),Oi(_,e.name),Oi(R,e.name),Oi(O,e.name),Oi(D,e.name),Oi(S,e.name),Oi(E,e.name);const b=new xn({uid:w,auth:e,email:g,emailVerified:M,displayName:p,isAnonymous:P,photoURL:R,phoneNumber:_,tenantId:O,stsTokenManager:y,createdAt:S,lastLoginAt:E});return B&&Array.isArray(B)&&(b.providerData=B.map(A=>Object.assign({},A))),D&&(b._redirectEventId=D),b}static async _fromIdTokenResponse(e,n,i=!1){const r=new Qs;r.updateFromServerResponse(n);const s=new xn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await gc(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];J(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?h1(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Qs;l.updateFromIdToken(i);const u=new xn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new $d(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=new Map;function li(t){_i(t instanceof Function,"Expected a class definition");let e=d_.get(t);return e?(_i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}f1.type="NONE";const p_=f1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t,e,n){return`firebase:${t}:${e}:${n}`}class Ys{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Ru(this.userKey,r.apiKey,s),this.fullPersistenceKey=Ru("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await pc(this.auth,{idToken:e}).catch(()=>{});return n?xn._fromGetAccountInfoResponse(this.auth,n,e):null}return xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ys(li(p_),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||li(p_);const a=Ru(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(a);if(f){let p;if(typeof f=="string"){const g=await pc(e,{idToken:f}).catch(()=>{});if(!g)break;p=await xn._fromGetAccountInfoResponse(e,g,f)}else p=xn._fromJSON(e,f);c!==s&&(l=p),s=c;break}}catch{}const u=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ys(s,e,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Ys(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(m1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v1(e))return"Blackberry";if(_1(e))return"Webos";if(p1(e))return"Safari";if((e.includes("chrome/")||g1(e))&&!e.includes("edge/"))return"Chrome";if(y1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function d1(t=Ct()){return/firefox\//i.test(t)}function p1(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g1(t=Ct()){return/crios\//i.test(t)}function m1(t=Ct()){return/iemobile/i.test(t)}function y1(t=Ct()){return/android/i.test(t)}function v1(t=Ct()){return/blackberry/i.test(t)}function _1(t=Ct()){return/webos/i.test(t)}function wg(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GC(t=Ct()){var e;return wg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QC(){return sI()&&document.documentMode===10}function b1(t=Ct()){return wg(t)||y1(t)||_1(t)||v1(t)||/windows phone/i.test(t)||m1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t,e=[]){let n;switch(t){case"Browser":n=g_(Ct());break;case"Worker":n=`${g_(Ct())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Aa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(t,e={}){return xa(t,"GET","/v2/passwordPolicy",Ag(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=6;class $C{constructor(e){var n,i,r,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:XC,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m_(this),this.idTokenSubscription=new m_(this),this.beforeStateQueue=new YC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Ys.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pc(this,{idToken:e}),i=await xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(An(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(Gr(this));const n=e?Dt(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KC(this),n=new $C(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await FC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Ys.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=T1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function th(t){return Dt(t)}class m_{constructor(e){this.auth=e,this.observer=null,this.addObserver=dI(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JC(t){Rg=t}function ZC(t){return Rg.loadJS(t)}function eD(){return Rg.gapiScript}function tD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t,e){const n=_g(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Zr(s,e??{}))return r;Hn(r,"already-initialized")}return n.initialize({options:e})}function iD(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function rD(t,e,n){const i=th(t);J(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=E1(e),{host:a,port:l}=sD(e),u=l===null?"":`:${l}`,c={url:`${s}//${a}${u}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){J(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),J(Zr(c,i.config.emulator)&&Zr(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,Sa(a)?(JE(`${s}//${a}${u}`),ZE("Auth",!0)):aD()}function E1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sD(t){const e=E1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:y_(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:y_(a)}}}function y_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(t,e){return kC(t,"POST","/v1/accounts:signInWithIdp",Ag(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="http://localhost";class ts extends S1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=bg(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new ts(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ks(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ks(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ks(e,n)}buildRequest(){const e={requestUri:oD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends Ig{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends ml{constructor(){super("facebook.com")}static credential(e){return ts._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ts._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ii.credential(n,i)}catch{return null}}}ii.GOOGLE_SIGN_IN_METHOD="google.com";ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends ml{constructor(){super("github.com")}static credential(e){return ts._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends ml{constructor(){super("twitter.com")}static credential(e,n){return ts._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Bi.credential(n,i)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await xn._fromIdTokenResponse(e,i,r),a=v_(i);return new la({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=v_(i);return new la({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function v_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends Ai{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,mc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new mc(e,n,i,r)}}function A1(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mc._fromErrorAndOperation(t,s,e,i):s})}async function lD(t,e,n=!1){const i=await Fo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return la._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(t,e,n=!1){const{auth:i}=t;if(An(i.app))return Promise.reject(Gr(i));const r="reauthenticate";try{const s=await Fo(t,A1(i,r,e,t),n);J(s.idToken,i,"internal-error");const a=xg(s.idToken);J(a,i,"internal-error");const{sub:l}=a;return J(t.uid===l,i,"user-mismatch"),la._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Hn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t,e,n=!1){if(An(t.app))return Promise.reject(Gr(t));const i="signIn",r=await A1(t,i,e),s=await la._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}function hD(t,e,n,i){return Dt(t).onIdTokenChanged(e,n,i)}function fD(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}const yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yc,"1"),this.storage.removeItem(yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=1e3,pD=10;class w1 extends x1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);QC()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,pD):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},dD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}w1.type="LOCAL";const gD=w1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1 extends x1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}R1.type="SESSION";const I1=R1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new nh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async c=>c(n.origin,s)),u=await mD(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=Cg("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function vD(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function _D(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TD(){return C1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="firebaseLocalStorageDb",ED=1,vc="firebaseLocalStorage",O1="fbase_key";class yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ih(t,e){return t.transaction([vc],e?"readwrite":"readonly").objectStore(vc)}function SD(){const t=indexedDB.deleteDatabase(D1);return new yl(t).toPromise()}function Wd(){const t=indexedDB.open(D1,ED);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(vc,{keyPath:O1})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(vc)?e(i):(i.close(),await SD(),e(await Wd()))})})}async function __(t,e,n){const i=ih(t,!0).put({[O1]:e,value:n});return new yl(i).toPromise()}async function AD(t,e){const n=ih(t,!1).get(e),i=await new yl(n).toPromise();return i===void 0?null:i.value}function b_(t,e){const n=ih(t,!0).delete(e);return new yl(n).toPromise()}const xD=800,wD=3;class N1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>wD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(TD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _D(),!this.activeServiceWorker)return;this.sender=new yD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wd();return await __(e,yc,"1"),await b_(e,yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>__(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>AD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>b_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=ih(r,!1).getAll();return new yl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N1.type="LOCAL";const RD=N1;new gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t,e){return e?li(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg extends S1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ks(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ks(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ID(t){return cD(t.auth,new Dg(t),t.bypassAuthState)}function CD(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),uD(n,new Dg(t),t.bypassAuthState)}async function DD(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),lD(n,new Dg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ID;case"linkViaPopup":case"linkViaRedirect":return DD;case"reauthViaPopup":case"reauthViaRedirect":return CD;default:Hn(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new gl(2e3,1e4);async function ND(t,e,n){if(An(t.app))return Promise.reject(wn(t,"operation-not-supported-in-this-environment"));const i=th(t);IC(t,e,Ig);const r=M1(i,n);return new jr(i,"signInViaPopup",e,r).executeNotNull()}class jr extends V1{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,jr.currentPopupAction&&jr.currentPopupAction.cancel(),jr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=Cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OD.get())};e()}}jr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="pendingRedirect",Iu=new Map;class VD extends V1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Iu.get(this.auth._key());if(!e){try{const i=await kD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Iu.set(this.auth._key(),e)}return this.bypassAuthState||Iu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kD(t,e){const n=LD(e),i=UD(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function jD(t,e){Iu.set(t._key(),e)}function UD(t){return li(t._redirectPersistence)}function LD(t){return Ru(MD,t.config.apiKey,t.name)}async function PD(t,e,n=!1){if(An(t.app))return Promise.reject(Gr(t));const i=th(t),r=M1(i,e),a=await new VD(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=10*60*1e3;class BD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!k1(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(wn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zD&&this.cachedEventUids.clear(),this.cachedEventUids.has(T_(e))}saveEventToCache(e){this.cachedEventUids.add(T_(e)),this.lastProcessedEventTime=Date.now()}}function T_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function k1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e={}){return xa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GD=/^https?/;async function QD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HD(t);for(const n of e)try{if(YD(n))return}catch{}Hn(t,"unauthorized-domain")}function YD(t){const e=Xd(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!GD.test(n))return!1;if(FD.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new gl(3e4,6e4);function E_(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XD(t){return new Promise((e,n)=>{var i,r,s;function a(){E_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E_(),n(wn(t,"network-request-failed"))},timeout:KD.get()})}if(!((r=(i=Un().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Un().gapi)===null||s===void 0)&&s.load)a();else{const l=tD("iframefcb");return Un()[l]=()=>{gapi.load?a():n(wn(t,"network-request-failed"))},ZC(`${eD()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Cu=null,e})}let Cu=null;function $D(t){return Cu=Cu||XD(t),Cu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new gl(5e3,15e3),JD="__/auth/iframe",ZD="emulator/auth/iframe",eO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nO(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sg(e,ZD):`https://${t.config.authDomain}/${JD}`,i={apiKey:e.apiKey,appName:t.name,v:Aa},r=tO.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${pl(i).slice(1)}`}async function iO(t){const e=await $D(t),n=Un().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:nO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eO,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=wn(t,"network-request-failed"),l=Un().setTimeout(()=>{s(a)},WD.get());function u(){Un().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sO=500,aO=600,oO="_blank",lO="http://localhost";class S_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uO(t,e,n,i=sO,r=aO){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},rO),{width:i.toString(),height:r.toString(),top:s,left:a}),c=Ct().toLowerCase();n&&(l=g1(c)?oO:n),d1(c)&&(e=e||lO,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[_,R])=>`${g}${_}=${R},`,"");if(GC(c)&&l!=="_self")return cO(e||"",l),new S_(null);const p=window.open(e||"",l,f);J(p,t,"popup-blocked");try{p.focus()}catch{}return new S_(p)}function cO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="__/auth/handler",fO="emulator/auth/handler",dO=encodeURIComponent("fac");async function A_(t,e,n,i,r,s){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Aa,eventId:r};if(e instanceof Ig){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",fI(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))a[f]=p}if(e instanceof ml){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${dO}=${encodeURIComponent(u)}`:"";return`${pO(t)}?${pl(l).slice(1)}${c}`}function pO({config:t}){return t.emulator?Sg(t,fO):`https://${t.authDomain}/${hO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="webStorageSupport";class gO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I1,this._completeRedirectFn=PD,this._overrideRedirectResult=jD}async _openPopup(e,n,i,r){var s;_i((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await A_(e,n,i,Xd(),r);return uO(e,a,Cg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await A_(e,n,i,Xd(),r);return vD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(_i(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await iO(e),i=new BD(e);return n.register("authEvent",r=>(J(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pf,{type:Pf},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Pf];a!==void 0&&n(!!a),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return b1()||p1()||wg()}}const mO=gO;var x_="@firebase/auth",w_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _O(t){oa(new es("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;J(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T1(t)},c=new WC(i,r,s,u);return iD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),oa(new es("auth-internal",e=>{const n=th(e.getProvider("auth").getImmediate());return(i=>new yO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(x_,w_,vO(t)),ar(x_,w_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=5*60,TO=WE("authIdTokenMaxAge")||bO;let R_=null;const EO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>TO)return;const r=n==null?void 0:n.token;R_!==r&&(R_=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function SO(t=i1()){const e=_g(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nD(t,{popupRedirectResolver:mO,persistence:[RD,gD,I1]}),i=WE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=EO(s.toString());fD(n,a,()=>a(n.currentUser)),hD(n,l=>a(l))}}const r=XE("auth");return r&&rD(n,`http://${r}`),n}function AO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JC({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=wn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",AO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_O("Browser");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var or,j1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,y){function b(){}b.prototype=y.prototype,T.D=y.prototype,T.prototype=new b,T.prototype.constructor=T,T.C=function(A,I,C){for(var x=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)x[Nt-2]=arguments[Nt];return y.prototype[I].apply(A,x)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,y,b){b||(b=0);var A=Array(16);if(typeof y=="string")for(var I=0;16>I;++I)A[I]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(I=0;16>I;++I)A[I]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=T.g[0],b=T.g[1],I=T.g[2];var C=T.g[3],x=y+(C^b&(I^C))+A[0]+3614090360&4294967295;y=b+(x<<7&4294967295|x>>>25),x=C+(I^y&(b^I))+A[1]+3905402710&4294967295,C=y+(x<<12&4294967295|x>>>20),x=I+(b^C&(y^b))+A[2]+606105819&4294967295,I=C+(x<<17&4294967295|x>>>15),x=b+(y^I&(C^y))+A[3]+3250441966&4294967295,b=I+(x<<22&4294967295|x>>>10),x=y+(C^b&(I^C))+A[4]+4118548399&4294967295,y=b+(x<<7&4294967295|x>>>25),x=C+(I^y&(b^I))+A[5]+1200080426&4294967295,C=y+(x<<12&4294967295|x>>>20),x=I+(b^C&(y^b))+A[6]+2821735955&4294967295,I=C+(x<<17&4294967295|x>>>15),x=b+(y^I&(C^y))+A[7]+4249261313&4294967295,b=I+(x<<22&4294967295|x>>>10),x=y+(C^b&(I^C))+A[8]+1770035416&4294967295,y=b+(x<<7&4294967295|x>>>25),x=C+(I^y&(b^I))+A[9]+2336552879&4294967295,C=y+(x<<12&4294967295|x>>>20),x=I+(b^C&(y^b))+A[10]+4294925233&4294967295,I=C+(x<<17&4294967295|x>>>15),x=b+(y^I&(C^y))+A[11]+2304563134&4294967295,b=I+(x<<22&4294967295|x>>>10),x=y+(C^b&(I^C))+A[12]+1804603682&4294967295,y=b+(x<<7&4294967295|x>>>25),x=C+(I^y&(b^I))+A[13]+4254626195&4294967295,C=y+(x<<12&4294967295|x>>>20),x=I+(b^C&(y^b))+A[14]+2792965006&4294967295,I=C+(x<<17&4294967295|x>>>15),x=b+(y^I&(C^y))+A[15]+1236535329&4294967295,b=I+(x<<22&4294967295|x>>>10),x=y+(I^C&(b^I))+A[1]+4129170786&4294967295,y=b+(x<<5&4294967295|x>>>27),x=C+(b^I&(y^b))+A[6]+3225465664&4294967295,C=y+(x<<9&4294967295|x>>>23),x=I+(y^b&(C^y))+A[11]+643717713&4294967295,I=C+(x<<14&4294967295|x>>>18),x=b+(C^y&(I^C))+A[0]+3921069994&4294967295,b=I+(x<<20&4294967295|x>>>12),x=y+(I^C&(b^I))+A[5]+3593408605&4294967295,y=b+(x<<5&4294967295|x>>>27),x=C+(b^I&(y^b))+A[10]+38016083&4294967295,C=y+(x<<9&4294967295|x>>>23),x=I+(y^b&(C^y))+A[15]+3634488961&4294967295,I=C+(x<<14&4294967295|x>>>18),x=b+(C^y&(I^C))+A[4]+3889429448&4294967295,b=I+(x<<20&4294967295|x>>>12),x=y+(I^C&(b^I))+A[9]+568446438&4294967295,y=b+(x<<5&4294967295|x>>>27),x=C+(b^I&(y^b))+A[14]+3275163606&4294967295,C=y+(x<<9&4294967295|x>>>23),x=I+(y^b&(C^y))+A[3]+4107603335&4294967295,I=C+(x<<14&4294967295|x>>>18),x=b+(C^y&(I^C))+A[8]+1163531501&4294967295,b=I+(x<<20&4294967295|x>>>12),x=y+(I^C&(b^I))+A[13]+2850285829&4294967295,y=b+(x<<5&4294967295|x>>>27),x=C+(b^I&(y^b))+A[2]+4243563512&4294967295,C=y+(x<<9&4294967295|x>>>23),x=I+(y^b&(C^y))+A[7]+1735328473&4294967295,I=C+(x<<14&4294967295|x>>>18),x=b+(C^y&(I^C))+A[12]+2368359562&4294967295,b=I+(x<<20&4294967295|x>>>12),x=y+(b^I^C)+A[5]+4294588738&4294967295,y=b+(x<<4&4294967295|x>>>28),x=C+(y^b^I)+A[8]+2272392833&4294967295,C=y+(x<<11&4294967295|x>>>21),x=I+(C^y^b)+A[11]+1839030562&4294967295,I=C+(x<<16&4294967295|x>>>16),x=b+(I^C^y)+A[14]+4259657740&4294967295,b=I+(x<<23&4294967295|x>>>9),x=y+(b^I^C)+A[1]+2763975236&4294967295,y=b+(x<<4&4294967295|x>>>28),x=C+(y^b^I)+A[4]+1272893353&4294967295,C=y+(x<<11&4294967295|x>>>21),x=I+(C^y^b)+A[7]+4139469664&4294967295,I=C+(x<<16&4294967295|x>>>16),x=b+(I^C^y)+A[10]+3200236656&4294967295,b=I+(x<<23&4294967295|x>>>9),x=y+(b^I^C)+A[13]+681279174&4294967295,y=b+(x<<4&4294967295|x>>>28),x=C+(y^b^I)+A[0]+3936430074&4294967295,C=y+(x<<11&4294967295|x>>>21),x=I+(C^y^b)+A[3]+3572445317&4294967295,I=C+(x<<16&4294967295|x>>>16),x=b+(I^C^y)+A[6]+76029189&4294967295,b=I+(x<<23&4294967295|x>>>9),x=y+(b^I^C)+A[9]+3654602809&4294967295,y=b+(x<<4&4294967295|x>>>28),x=C+(y^b^I)+A[12]+3873151461&4294967295,C=y+(x<<11&4294967295|x>>>21),x=I+(C^y^b)+A[15]+530742520&4294967295,I=C+(x<<16&4294967295|x>>>16),x=b+(I^C^y)+A[2]+3299628645&4294967295,b=I+(x<<23&4294967295|x>>>9),x=y+(I^(b|~C))+A[0]+4096336452&4294967295,y=b+(x<<6&4294967295|x>>>26),x=C+(b^(y|~I))+A[7]+1126891415&4294967295,C=y+(x<<10&4294967295|x>>>22),x=I+(y^(C|~b))+A[14]+2878612391&4294967295,I=C+(x<<15&4294967295|x>>>17),x=b+(C^(I|~y))+A[5]+4237533241&4294967295,b=I+(x<<21&4294967295|x>>>11),x=y+(I^(b|~C))+A[12]+1700485571&4294967295,y=b+(x<<6&4294967295|x>>>26),x=C+(b^(y|~I))+A[3]+2399980690&4294967295,C=y+(x<<10&4294967295|x>>>22),x=I+(y^(C|~b))+A[10]+4293915773&4294967295,I=C+(x<<15&4294967295|x>>>17),x=b+(C^(I|~y))+A[1]+2240044497&4294967295,b=I+(x<<21&4294967295|x>>>11),x=y+(I^(b|~C))+A[8]+1873313359&4294967295,y=b+(x<<6&4294967295|x>>>26),x=C+(b^(y|~I))+A[15]+4264355552&4294967295,C=y+(x<<10&4294967295|x>>>22),x=I+(y^(C|~b))+A[6]+2734768916&4294967295,I=C+(x<<15&4294967295|x>>>17),x=b+(C^(I|~y))+A[13]+1309151649&4294967295,b=I+(x<<21&4294967295|x>>>11),x=y+(I^(b|~C))+A[4]+4149444226&4294967295,y=b+(x<<6&4294967295|x>>>26),x=C+(b^(y|~I))+A[11]+3174756917&4294967295,C=y+(x<<10&4294967295|x>>>22),x=I+(y^(C|~b))+A[2]+718787259&4294967295,I=C+(x<<15&4294967295|x>>>17),x=b+(C^(I|~y))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(I+(x<<21&4294967295|x>>>11))&4294967295,T.g[2]=T.g[2]+I&4294967295,T.g[3]=T.g[3]+C&4294967295}i.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var b=y-this.blockSize,A=this.B,I=this.h,C=0;C<y;){if(I==0)for(;C<=b;)r(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<y;)if(A[I++]=T.charCodeAt(C++),I==this.blockSize){r(this,A),I=0;break}}else for(;C<y;)if(A[I++]=T[C++],I==this.blockSize){r(this,A),I=0;break}}this.h=I,this.o+=y},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var b=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=b&255,b/=256;for(this.u(T),T=Array(16),y=b=0;4>y;++y)for(var A=0;32>A;A+=8)T[b++]=this.g[y]>>>A&255;return T};function s(T,y){var b=l;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=y(T)}function a(T,y){this.h=y;for(var b=[],A=!0,I=T.length-1;0<=I;I--){var C=T[I]|0;A&&C==y||(b[I]=C,A=!1)}this.g=b}var l={};function u(T){return-128<=T&&128>T?s(T,function(y){return new a([y|0],0>y?-1:0)}):new a([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return D(c(-T));for(var y=[],b=1,A=0;T>=b;A++)y[A]=T/b|0,b*=4294967296;return new a(y,0)}function f(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return D(f(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(y,8)),A=p,I=0;I<T.length;I+=8){var C=Math.min(8,T.length-I),x=parseInt(T.substring(I,I+C),y);8>C?(C=c(Math.pow(y,C)),A=A.j(C).add(c(x))):(A=A.j(b),A=A.add(c(x)))}return A}var p=u(0),g=u(1),_=u(16777216);t=a.prototype,t.m=function(){if(O(this))return-D(this).m();for(var T=0,y=1,b=0;b<this.g.length;b++){var A=this.i(b);T+=(0<=A?A:4294967296+A)*y,y*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(R(this))return"0";if(O(this))return"-"+D(this).toString(T);for(var y=c(Math.pow(T,6)),b=this,A="";;){var I=M(b,y).g;b=S(b,I.j(y));var C=((0<b.g.length?b.g[0]:b.h)>>>0).toString(T);if(b=I,R(b))return C+A;for(;6>C.length;)C="0"+C;A=C+A}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function R(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function O(T){return T.h==-1}t.l=function(T){return T=S(this,T),O(T)?-1:R(T)?0:1};function D(T){for(var y=T.g.length,b=[],A=0;A<y;A++)b[A]=~T.g[A];return new a(b,~T.h).add(g)}t.abs=function(){return O(this)?D(this):this},t.add=function(T){for(var y=Math.max(this.g.length,T.g.length),b=[],A=0,I=0;I<=y;I++){var C=A+(this.i(I)&65535)+(T.i(I)&65535),x=(C>>>16)+(this.i(I)>>>16)+(T.i(I)>>>16);A=x>>>16,C&=65535,x&=65535,b[I]=x<<16|C}return new a(b,b[b.length-1]&-2147483648?-1:0)};function S(T,y){return T.add(D(y))}t.j=function(T){if(R(this)||R(T))return p;if(O(this))return O(T)?D(this).j(D(T)):D(D(this).j(T));if(O(T))return D(this.j(D(T)));if(0>this.l(_)&&0>T.l(_))return c(this.m()*T.m());for(var y=this.g.length+T.g.length,b=[],A=0;A<2*y;A++)b[A]=0;for(A=0;A<this.g.length;A++)for(var I=0;I<T.g.length;I++){var C=this.i(A)>>>16,x=this.i(A)&65535,Nt=T.i(I)>>>16,bn=T.i(I)&65535;b[2*A+2*I]+=x*bn,E(b,2*A+2*I),b[2*A+2*I+1]+=C*bn,E(b,2*A+2*I+1),b[2*A+2*I+1]+=x*Nt,E(b,2*A+2*I+1),b[2*A+2*I+2]+=C*Nt,E(b,2*A+2*I+2)}for(A=0;A<y;A++)b[A]=b[2*A+1]<<16|b[2*A];for(A=y;A<2*y;A++)b[A]=0;return new a(b,0)};function E(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function w(T,y){this.g=T,this.h=y}function M(T,y){if(R(y))throw Error("division by zero");if(R(T))return new w(p,p);if(O(T))return y=M(D(T),y),new w(D(y.g),D(y.h));if(O(y))return y=M(T,D(y)),new w(D(y.g),y.h);if(30<T.g.length){if(O(T)||O(y))throw Error("slowDivide_ only works with positive integers.");for(var b=g,A=y;0>=A.l(T);)b=P(b),A=P(A);var I=B(b,1),C=B(A,1);for(A=B(A,2),b=B(b,2);!R(A);){var x=C.add(A);0>=x.l(T)&&(I=I.add(b),C=x),A=B(A,1),b=B(b,1)}return y=S(T,I.j(y)),new w(I,y)}for(I=p;0<=T.l(y);){for(b=Math.max(1,Math.floor(T.m()/y.m())),A=Math.ceil(Math.log(b)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),C=c(b),x=C.j(y);O(x)||0<x.l(T);)b-=A,C=c(b),x=C.j(y);R(C)&&(C=g),I=I.add(C),T=S(T,x)}return new w(I,T)}t.A=function(T){return M(this,T).h},t.and=function(T){for(var y=Math.max(this.g.length,T.g.length),b=[],A=0;A<y;A++)b[A]=this.i(A)&T.i(A);return new a(b,this.h&T.h)},t.or=function(T){for(var y=Math.max(this.g.length,T.g.length),b=[],A=0;A<y;A++)b[A]=this.i(A)|T.i(A);return new a(b,this.h|T.h)},t.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),b=[],A=0;A<y;A++)b[A]=this.i(A)^T.i(A);return new a(b,this.h^T.h)};function P(T){for(var y=T.g.length+1,b=[],A=0;A<y;A++)b[A]=T.i(A)<<1|T.i(A-1)>>>31;return new a(b,T.h)}function B(T,y){var b=y>>5;y%=32;for(var A=T.g.length-b,I=[],C=0;C<A;C++)I[C]=0<y?T.i(C+b)>>>y|T.i(C+b+1)<<32-y:T.i(C+b);return new a(I,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,j1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,or=a}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var U1,no,L1,Du,Jd,P1,z1,B1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,h,d){return o==Array.prototype||o==Object.prototype||(o[h]=d.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof au=="object"&&au];for(var h=0;h<o.length;++h){var d=o[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function r(o,h){if(h)e:{var d=i;o=o.split(".");for(var v=0;v<o.length-1;v++){var N=o[v];if(!(N in d))break e;d=d[N]}o=o[o.length-1],v=d[o],h=h(v),h!=v&&h!=null&&e(d,o,{configurable:!0,writable:!0,value:h})}}function s(o,h){o instanceof String&&(o+="");var d=0,v=!1,N={next:function(){if(!v&&d<o.length){var V=d++;return{value:h(V,o[V]),done:!1}}return v=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}r("Array.prototype.values",function(o){return o||function(){return s(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var h=typeof o;return h=h!="object"?h:o?Array.isArray(o)?"array":h:"null",h=="array"||h=="object"&&typeof o.length=="number"}function c(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function f(o,h,d){return o.call.apply(o.bind,arguments)}function p(o,h,d){if(!o)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,v),o.apply(h,N)}}return function(){return o.apply(h,arguments)}}function g(o,h,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function _(o,h){var d=Array.prototype.slice.call(arguments,1);return function(){var v=d.slice();return v.push.apply(v,arguments),o.apply(this,v)}}function R(o,h){function d(){}d.prototype=h.prototype,o.aa=h.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(v,N,V){for(var q=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)q[xe-2]=arguments[xe];return h.prototype[N].apply(v,q)}}function O(o){const h=o.length;if(0<h){const d=Array(h);for(let v=0;v<h;v++)d[v]=o[v];return d}return[]}function D(o,h){for(let d=1;d<arguments.length;d++){const v=arguments[d];if(u(v)){const N=o.length||0,V=v.length||0;o.length=N+V;for(let q=0;q<V;q++)o[N+q]=v[q]}else o.push(v)}}class S{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function E(o){return/^[\s\xa0]*$/.test(o)}function w(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function M(o){return M[" "](o),o}M[" "]=function(){};var P=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function B(o,h,d){for(const v in o)h.call(d,o[v],v,o)}function T(o,h){for(const d in o)h.call(void 0,o[d],d,o)}function y(o){const h={};for(const d in o)h[d]=o[d];return h}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(o,h){let d,v;for(let N=1;N<arguments.length;N++){v=arguments[N];for(d in v)o[d]=v[d];for(let V=0;V<b.length;V++)d=b[V],Object.prototype.hasOwnProperty.call(v,d)&&(o[d]=v[d])}}function I(o){var h=1;o=o.split(":");const d=[];for(;0<h&&o.length;)d.push(o.shift()),h--;return o.length&&d.push(o.join(":")),d}function C(o){l.setTimeout(()=>{throw o},0)}function x(){var o=Ae;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class Nt{constructor(){this.h=this.g=null}add(h,d){const v=bn.get();v.set(h,d),this.h?this.h.next=v:this.g=v,this.h=v}}var bn=new S(()=>new G,o=>o.reset());class G{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,W=!1,Ae=new Nt,Ue=()=>{const o=l.Promise.resolve(void 0);Z=()=>{o.then(wi)}};var wi=()=>{for(var o;o=x();){try{o.h.call(o.g)}catch(d){C(d)}var h=bn;h.j(o),100>h.h&&(h.h++,o.next=h.g,h.g=o)}W=!1};function Tt(){this.s=this.s,this.C=this.C}Tt.prototype.s=!1,Tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pe(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var on=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};l.addEventListener("test",d,h),l.removeEventListener("test",d,h)}catch{}return o}();function z(o,h){if(Pe.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,v=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget){if(P){e:{try{M(h.nodeName);var N=!0;break e}catch{}N=!1}N||(h=null)}}else d=="mouseover"?h=o.fromElement:d=="mouseout"&&(h=o.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:fe[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&z.aa.h.call(this)}}R(z,Pe);var fe={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Lt(o,h,d,v,N){this.listener=o,this.proxy=null,this.src=h,this.type=d,this.capture=!!v,this.ha=N,this.key=++Xe,this.da=this.fa=!1}function Et(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Yn(o){this.src=o,this.g={},this.h=0}Yn.prototype.add=function(o,h,d,v,N){var V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);var q=wh(o,h,v,N);return-1<q?(h=o[q],d||(h.fa=!1)):(h=new Lt(h,this.src,V,!!v,N),h.fa=d,o.push(h)),h};function xh(o,h){var d=h.type;if(d in o.g){var v=o.g[d],N=Array.prototype.indexOf.call(v,h,void 0),V;(V=0<=N)&&Array.prototype.splice.call(v,N,1),V&&(Et(h),o.g[d].length==0&&(delete o.g[d],o.h--))}}function wh(o,h,d,v){for(var N=0;N<o.length;++N){var V=o[N];if(!V.da&&V.listener==h&&V.capture==!!d&&V.ha==v)return N}return-1}var Rh="closure_lm_"+(1e6*Math.random()|0),Ih={};function vm(o,h,d,v,N){if(Array.isArray(h)){for(var V=0;V<h.length;V++)vm(o,h[V],d,v,N);return null}return d=Tm(d),o&&o[Be]?o.K(h,d,c(v)?!!v.capture:!1,N):pA(o,h,d,!1,v,N)}function pA(o,h,d,v,N,V){if(!h)throw Error("Invalid event type");var q=c(N)?!!N.capture:!!N,xe=Dh(o);if(xe||(o[Rh]=xe=new Yn(o)),d=xe.add(h,d,v,q,V),d.proxy)return d;if(v=gA(),d.proxy=v,v.src=o,v.listener=d,o.addEventListener)on||(N=q),N===void 0&&(N=!1),o.addEventListener(h.toString(),v,N);else if(o.attachEvent)o.attachEvent(bm(h.toString()),v);else if(o.addListener&&o.removeListener)o.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return d}function gA(){function o(d){return h.call(o.src,o.listener,d)}const h=mA;return o}function _m(o,h,d,v,N){if(Array.isArray(h))for(var V=0;V<h.length;V++)_m(o,h[V],d,v,N);else v=c(v)?!!v.capture:!!v,d=Tm(d),o&&o[Be]?(o=o.i,h=String(h).toString(),h in o.g&&(V=o.g[h],d=wh(V,d,v,N),-1<d&&(Et(V[d]),Array.prototype.splice.call(V,d,1),V.length==0&&(delete o.g[h],o.h--)))):o&&(o=Dh(o))&&(h=o.g[h.toString()],o=-1,h&&(o=wh(h,d,v,N)),(d=-1<o?h[o]:null)&&Ch(d))}function Ch(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[Be])xh(h.i,o);else{var d=o.type,v=o.proxy;h.removeEventListener?h.removeEventListener(d,v,o.capture):h.detachEvent?h.detachEvent(bm(d),v):h.addListener&&h.removeListener&&h.removeListener(v),(d=Dh(h))?(xh(d,o),d.h==0&&(d.src=null,h[Rh]=null)):Et(o)}}}function bm(o){return o in Ih?Ih[o]:Ih[o]="on"+o}function mA(o,h){if(o.da)o=!0;else{h=new z(h,this);var d=o.listener,v=o.ha||o.src;o.fa&&Ch(o),o=d.call(v,h)}return o}function Dh(o){return o=o[Rh],o instanceof Yn?o:null}var Oh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tm(o){return typeof o=="function"?o:(o[Oh]||(o[Oh]=function(h){return o.handleEvent(h)}),o[Oh])}function St(){Tt.call(this),this.i=new Yn(this),this.M=this,this.F=null}R(St,Tt),St.prototype[Be]=!0,St.prototype.removeEventListener=function(o,h,d,v){_m(this,o,h,d,v)};function Mt(o,h){var d,v=o.F;if(v)for(d=[];v;v=v.F)d.push(v);if(o=o.M,v=h.type||h,typeof h=="string")h=new Pe(h,o);else if(h instanceof Pe)h.target=h.target||o;else{var N=h;h=new Pe(v,o),A(h,N)}if(N=!0,d)for(var V=d.length-1;0<=V;V--){var q=h.g=d[V];N=Rl(q,v,!0,h)&&N}if(q=h.g=o,N=Rl(q,v,!0,h)&&N,N=Rl(q,v,!1,h)&&N,d)for(V=0;V<d.length;V++)q=h.g=d[V],N=Rl(q,v,!1,h)&&N}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var o=this.i,h;for(h in o.g){for(var d=o.g[h],v=0;v<d.length;v++)Et(d[v]);delete o.g[h],o.h--}}this.F=null},St.prototype.K=function(o,h,d,v){return this.i.add(String(o),h,!1,d,v)},St.prototype.L=function(o,h,d,v){return this.i.add(String(o),h,!0,d,v)};function Rl(o,h,d,v){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();for(var N=!0,V=0;V<h.length;++V){var q=h[V];if(q&&!q.da&&q.capture==d){var xe=q.listener,ft=q.ha||q.src;q.fa&&xh(o.i,q),N=xe.call(ft,v)!==!1&&N}}return N&&!v.defaultPrevented}function Em(o,h,d){if(typeof o=="function")d&&(o=g(o,d));else if(o&&typeof o.handleEvent=="function")o=g(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(o,h||0)}function Sm(o){o.g=Em(()=>{o.g=null,o.i&&(o.i=!1,Sm(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class yA extends Tt{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Sm(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oa(o){Tt.call(this),this.h=o,this.g={}}R(Oa,Tt);var Am=[];function xm(o){B(o.g,function(h,d){this.g.hasOwnProperty(d)&&Ch(h)},o),o.g={}}Oa.prototype.N=function(){Oa.aa.N.call(this),xm(this)},Oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nh=l.JSON.stringify,vA=l.JSON.parse,_A=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Mh(){}Mh.prototype.h=null;function wm(o){return o.h||(o.h=o.i())}function Rm(){}var Na={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vh(){Pe.call(this,"d")}R(Vh,Pe);function kh(){Pe.call(this,"c")}R(kh,Pe);var wr={},Im=null;function Il(){return Im=Im||new St}wr.La="serverreachability";function Cm(o){Pe.call(this,wr.La,o)}R(Cm,Pe);function Ma(o){const h=Il();Mt(h,new Cm(h))}wr.STAT_EVENT="statevent";function Dm(o,h){Pe.call(this,wr.STAT_EVENT,o),this.stat=h}R(Dm,Pe);function Vt(o){const h=Il();Mt(h,new Dm(h,o))}wr.Ma="timingevent";function Om(o,h){Pe.call(this,wr.Ma,o),this.size=h}R(Om,Pe);function Va(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},h)}function ka(){this.g=!0}ka.prototype.xa=function(){this.g=!1};function bA(o,h,d,v,N,V){o.info(function(){if(o.g)if(V)for(var q="",xe=V.split("&"),ft=0;ft<xe.length;ft++){var pe=xe[ft].split("=");if(1<pe.length){var At=pe[0];pe=pe[1];var xt=At.split("_");q=2<=xt.length&&xt[1]=="type"?q+(At+"="+pe+"&"):q+(At+"=redacted&")}}else q=null;else q=V;return"XMLHTTP REQ ("+v+") [attempt "+N+"]: "+h+`
`+d+`
`+q})}function TA(o,h,d,v,N,V,q){o.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+N+"]: "+h+`
`+d+`
`+V+" "+q})}function ps(o,h,d,v){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+SA(o,d)+(v?" "+v:"")})}function EA(o,h){o.info(function(){return"TIMEOUT: "+h})}ka.prototype.info=function(){};function SA(o,h){if(!o.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var v=d[o];if(!(2>v.length)){var N=v[1];if(Array.isArray(N)&&!(1>N.length)){var V=N[0];if(V!="noop"&&V!="stop"&&V!="close")for(var q=1;q<N.length;q++)N[q]=""}}}}return Nh(d)}catch{return h}}var Cl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jh;function Dl(){}R(Dl,Mh),Dl.prototype.g=function(){return new XMLHttpRequest},Dl.prototype.i=function(){return{}},jh=new Dl;function Ri(o,h,d,v){this.j=o,this.i=h,this.l=d,this.R=v||1,this.U=new Oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mm}function Mm(){this.i=null,this.g="",this.h=!1}var Vm={},Uh={};function Lh(o,h,d){o.L=1,o.v=Vl(Kn(h)),o.m=d,o.P=!0,km(o,null)}function km(o,h){o.F=Date.now(),Ol(o),o.A=Kn(o.v);var d=o.A,v=o.R;Array.isArray(v)||(v=[String(v)]),Xm(d.i,"t",v),o.C=0,d=o.j.J,o.h=new Mm,o.g=dy(o.j,d?h:null,!o.m),0<o.O&&(o.M=new yA(g(o.Y,o,o.g),o.O)),h=o.U,d=o.g,v=o.ca;var N="readystatechange";Array.isArray(N)||(N&&(Am[0]=N.toString()),N=Am);for(var V=0;V<N.length;V++){var q=vm(d,N[V],v||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,h)):(o.u="GET",o.g.ea(o.A,o.u,null,h)),Ma(),bA(o.i,o.u,o.A,o.l,o.R,o.m)}Ri.prototype.ca=function(o){o=o.target;const h=this.M;h&&Xn(o)==3?h.j():this.Y(o)},Ri.prototype.Y=function(o){try{if(o==this.g)e:{const xt=Xn(this.g);var h=this.g.Ba();const ys=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||ny(this.g)))){this.J||xt!=4||h==7||(h==8||0>=ys?Ma(3):Ma(2)),Ph(this);var d=this.g.Z();this.X=d;t:if(jm(this)){var v=ny(this.g);o="";var N=v.length,V=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rr(this),ja(this);var q="";break t}this.h.i=new l.TextDecoder}for(h=0;h<N;h++)this.h.h=!0,o+=this.h.i.decode(v[h],{stream:!(V&&h==N-1)});v.length=0,this.h.g+=o,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=d==200,TA(this.i,this.u,this.A,this.l,this.R,xt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,ft=this.g;if((xe=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(xe)){var pe=xe;break t}}pe=null}if(d=pe)ps(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zh(this,d);else{this.o=!1,this.s=3,Vt(12),Rr(this),ja(this);break e}}if(this.P){d=!0;let Tn;for(;!this.J&&this.C<q.length;)if(Tn=AA(this,q),Tn==Uh){xt==4&&(this.s=4,Vt(14),d=!1),ps(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==Vm){this.s=4,Vt(15),ps(this.i,this.l,q,"[Invalid Chunk]"),d=!1;break}else ps(this.i,this.l,Tn,null),zh(this,Tn);if(jm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||q.length!=0||this.h.h||(this.s=1,Vt(16),d=!1),this.o=this.o&&d,!d)ps(this.i,this.l,q,"[Invalid Chunked Response]"),Rr(this),ja(this);else if(0<q.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Qh(At),At.M=!0,Vt(11))}}else ps(this.i,this.l,q,null),zh(this,q);xt==4&&Rr(this),this.o&&!this.J&&(xt==4?uy(this.j,this):(this.o=!1,Ol(this)))}else BA(this.g),d==400&&0<q.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Rr(this),ja(this)}}}catch{}finally{}};function jm(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function AA(o,h){var d=o.C,v=h.indexOf(`
`,d);return v==-1?Uh:(d=Number(h.substring(d,v)),isNaN(d)?Vm:(v+=1,v+d>h.length?Uh:(h=h.slice(v,v+d),o.C=v+d,h)))}Ri.prototype.cancel=function(){this.J=!0,Rr(this)};function Ol(o){o.S=Date.now()+o.I,Um(o,o.I)}function Um(o,h){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Va(g(o.ba,o),h)}function Ph(o){o.B&&(l.clearTimeout(o.B),o.B=null)}Ri.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(EA(this.i,this.A),this.L!=2&&(Ma(),Vt(17)),Rr(this),this.s=2,ja(this)):Um(this,this.S-o)};function ja(o){o.j.G==0||o.J||uy(o.j,o)}function Rr(o){Ph(o);var h=o.M;h&&typeof h.ma=="function"&&h.ma(),o.M=null,xm(o.U),o.g&&(h=o.g,o.g=null,h.abort(),h.ma())}function zh(o,h){try{var d=o.j;if(d.G!=0&&(d.g==o||Bh(d.h,o))){if(!o.K&&Bh(d.h,o)&&d.G==3){try{var v=d.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var N=v;if(N[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)zl(d),Ll(d);else break e;Gh(d),Vt(18)}}else d.za=N[1],0<d.za-d.T&&37500>N[2]&&d.F&&d.v==0&&!d.C&&(d.C=Va(g(d.Za,d),6e3));if(1>=zm(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Cr(d,11)}else if((o.K||d.g==o)&&zl(d),!E(h))for(N=d.Da.g.parse(h),h=0;h<N.length;h++){let pe=N[h];if(d.T=pe[0],pe=pe[1],d.G==2)if(pe[0]=="c"){d.K=pe[1],d.ia=pe[2];const At=pe[3];At!=null&&(d.la=At,d.j.info("VER="+d.la));const xt=pe[4];xt!=null&&(d.Aa=xt,d.j.info("SVER="+d.Aa));const ys=pe[5];ys!=null&&typeof ys=="number"&&0<ys&&(v=1.5*ys,d.L=v,d.j.info("backChannelRequestTimeoutMs_="+v)),v=d;const Tn=o.g;if(Tn){const ql=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ql){var V=v.h;V.g||ql.indexOf("spdy")==-1&&ql.indexOf("quic")==-1&&ql.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(qh(V,V.h),V.h=null))}if(v.D){const Yh=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yh&&(v.ya=Yh,De(v.I,v.D,Yh))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),v=d;var q=o;if(v.qa=fy(v,v.J?v.ia:null,v.W),q.K){Bm(v.h,q);var xe=q,ft=v.L;ft&&(xe.I=ft),xe.B&&(Ph(xe),Ol(xe)),v.g=q}else oy(v);0<d.i.length&&Pl(d)}else pe[0]!="stop"&&pe[0]!="close"||Cr(d,7);else d.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Cr(d,7):Fh(d):pe[0]!="noop"&&d.l&&d.l.ta(pe),d.v=0)}}Ma(4)}catch{}}var xA=class{constructor(o,h){this.g=o,this.map=h}};function Lm(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pm(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function zm(o){return o.h?1:o.g?o.g.size:0}function Bh(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function qh(o,h){o.g?o.g.add(h):o.h=h}function Bm(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}Lm.prototype.cancel=function(){if(this.i=qm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function qm(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const d of o.g.values())h=h.concat(d.D);return h}return O(o.i)}function wA(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var h=[],d=o.length,v=0;v<d;v++)h.push(o[v]);return h}h=[],d=0;for(v in o)h[d++]=o[v];return h}function RA(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var h=[];o=o.length;for(var d=0;d<o;d++)h.push(d);return h}h=[],d=0;for(const v in o)h[d++]=v;return h}}}function Hm(o,h){if(o.forEach&&typeof o.forEach=="function")o.forEach(h,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,h,void 0);else for(var d=RA(o),v=wA(o),N=v.length,V=0;V<N;V++)h.call(void 0,v[V],d&&d[V],o)}var Fm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IA(o,h){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var v=o[d].indexOf("="),N=null;if(0<=v){var V=o[d].substring(0,v);N=o[d].substring(v+1)}else V=o[d];h(V,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Ir(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Ir){this.h=o.h,Nl(this,o.j),this.o=o.o,this.g=o.g,Ml(this,o.s),this.l=o.l;var h=o.i,d=new Pa;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),Gm(this,d),this.m=o.m}else o&&(h=String(o).match(Fm))?(this.h=!1,Nl(this,h[1]||"",!0),this.o=Ua(h[2]||""),this.g=Ua(h[3]||"",!0),Ml(this,h[4]),this.l=Ua(h[5]||"",!0),Gm(this,h[6]||"",!0),this.m=Ua(h[7]||"")):(this.h=!1,this.i=new Pa(null,this.h))}Ir.prototype.toString=function(){var o=[],h=this.j;h&&o.push(La(h,Qm,!0),":");var d=this.g;return(d||h=="file")&&(o.push("//"),(h=this.o)&&o.push(La(h,Qm,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(La(d,d.charAt(0)=="/"?OA:DA,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",La(d,MA)),o.join("")};function Kn(o){return new Ir(o)}function Nl(o,h,d){o.j=d?Ua(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function Ml(o,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);o.s=h}else o.s=null}function Gm(o,h,d){h instanceof Pa?(o.i=h,VA(o.i,o.h)):(d||(h=La(h,NA)),o.i=new Pa(h,o.h))}function De(o,h,d){o.i.set(h,d)}function Vl(o){return De(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Ua(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function La(o,h,d){return typeof o=="string"?(o=encodeURI(o).replace(h,CA),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function CA(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Qm=/[#\/\?@]/g,DA=/[#\?:]/g,OA=/[#\?]/g,NA=/[#\?@]/g,MA=/#/g;function Pa(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function Ii(o){o.g||(o.g=new Map,o.h=0,o.i&&IA(o.i,function(h,d){o.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=Pa.prototype,t.add=function(o,h){Ii(this),this.i=null,o=gs(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(h),this.h+=1,this};function Ym(o,h){Ii(o),h=gs(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function Km(o,h){return Ii(o),h=gs(o,h),o.g.has(h)}t.forEach=function(o,h){Ii(this),this.g.forEach(function(d,v){d.forEach(function(N){o.call(h,N,v,this)},this)},this)},t.na=function(){Ii(this);const o=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let v=0;v<h.length;v++){const N=o[v];for(let V=0;V<N.length;V++)d.push(h[v])}return d},t.V=function(o){Ii(this);let h=[];if(typeof o=="string")Km(this,o)&&(h=h.concat(this.g.get(gs(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)h=h.concat(o[d])}return h},t.set=function(o,h){return Ii(this),this.i=null,o=gs(this,o),Km(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=this.V(o),0<o.length?String(o[0]):h):h};function Xm(o,h,d){Ym(o,h),0<d.length&&(o.i=null,o.g.set(gs(o,h),O(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var v=h[d];const V=encodeURIComponent(String(v)),q=this.V(v);for(v=0;v<q.length;v++){var N=V;q[v]!==""&&(N+="="+encodeURIComponent(String(q[v]))),o.push(N)}}return this.i=o.join("&")};function gs(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function VA(o,h){h&&!o.j&&(Ii(o),o.i=null,o.g.forEach(function(d,v){var N=v.toLowerCase();v!=N&&(Ym(this,v),Xm(this,N,d))},o)),o.j=h}function kA(o,h){const d=new ka;if(l.Image){const v=new Image;v.onload=_(Ci,d,"TestLoadImage: loaded",!0,h,v),v.onerror=_(Ci,d,"TestLoadImage: error",!1,h,v),v.onabort=_(Ci,d,"TestLoadImage: abort",!1,h,v),v.ontimeout=_(Ci,d,"TestLoadImage: timeout",!1,h,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=o}else h(!1)}function jA(o,h){const d=new ka,v=new AbortController,N=setTimeout(()=>{v.abort(),Ci(d,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:v.signal}).then(V=>{clearTimeout(N),V.ok?Ci(d,"TestPingServer: ok",!0,h):Ci(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(N),Ci(d,"TestPingServer: error",!1,h)})}function Ci(o,h,d,v,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),v(d)}catch{}}function UA(){this.g=new _A}function LA(o,h,d){const v=d||"";try{Hm(o,function(N,V){let q=N;c(N)&&(q=Nh(N)),h.push(v+V+"="+encodeURIComponent(q))})}catch(N){throw h.push(v+"type="+encodeURIComponent("_badmap")),N}}function kl(o){this.l=o.Ub||null,this.j=o.eb||!1}R(kl,Mh),kl.prototype.g=function(){return new jl(this.l,this.j)},kl.prototype.i=function(o){return function(){return o}}({});function jl(o,h){St.call(this),this.D=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(jl,St),t=jl.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=h,this.readyState=1,Ba(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(h.body=o),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,za(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ba(this)),this.g&&(this.readyState=3,Ba(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$m(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function $m(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?za(this):Ba(this),this.readyState==3&&$m(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,za(this))},t.Qa=function(o){this.g&&(this.response=o,za(this))},t.ga=function(){this.g&&za(this)};function za(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Ba(o)}t.setRequestHeader=function(o,h){this.u.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=h.next();return o.join(`\r
`)};function Ba(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(jl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Wm(o){let h="";return B(o,function(d,v){h+=v,h+=":",h+=d,h+=`\r
`}),h}function Hh(o,h,d){e:{for(v in d){var v=!1;break e}v=!0}v||(d=Wm(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):De(o,h,d))}function qe(o){St.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(qe,St);var PA=/^https?$/i,zA=["POST","PUT"];t=qe.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,h,d,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jh.g(),this.v=this.o?wm(this.o):wm(jh),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(V){Jm(this,V);return}if(o=d||"",d=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var N in v)d.set(N,v[N]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const V of v.keys())d.set(V,v.get(V));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(d.keys()).find(V=>V.toLowerCase()=="content-type"),N=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(zA,h,void 0))||v||N||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,q]of d)this.g.setRequestHeader(V,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ty(this),this.u=!0,this.g.send(o),this.u=!1}catch(V){Jm(this,V)}};function Jm(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.m=5,Zm(o),Ul(o)}function Zm(o){o.A||(o.A=!0,Mt(o,"complete"),Mt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Mt(this,"complete"),Mt(this,"abort"),Ul(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ul(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ey(this):this.bb())},t.bb=function(){ey(this)};function ey(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Xn(o)!=4||o.Z()!=2)){if(o.u&&Xn(o)==4)Em(o.Ea,0,o);else if(Mt(o,"readystatechange"),Xn(o)==4){o.h=!1;try{const q=o.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var v;if(v=q===0){var N=String(o.D).match(Fm)[1]||null;!N&&l.self&&l.self.location&&(N=l.self.location.protocol.slice(0,-1)),v=!PA.test(N?N.toLowerCase():"")}d=v}if(d)Mt(o,"complete"),Mt(o,"success");else{o.m=6;try{var V=2<Xn(o)?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.Z()+"]",Zm(o)}}finally{Ul(o)}}}}function Ul(o,h){if(o.g){ty(o);const d=o.g,v=o.v[0]?()=>{}:null;o.g=null,o.v=null,h||Mt(o,"ready");try{d.onreadystatechange=v}catch{}}}function ty(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function Xn(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),vA(h)}};function ny(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function BA(o){const h={};o=(o.g&&2<=Xn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<o.length;v++){if(E(o[v]))continue;var d=I(o[v]);const N=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const V=h[N]||[];h[N]=V,V.push(d)}T(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(o,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||h}function iy(o){this.Aa=0,this.i=[],this.j=new ka,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qa("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qa("baseRetryDelayMs",5e3,o),this.cb=qa("retryDelaySeedMs",1e4,o),this.Wa=qa("forwardChannelMaxRetries",2,o),this.wa=qa("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Lm(o&&o.concurrentRequestLimit),this.Da=new UA,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iy.prototype,t.la=8,t.G=1,t.connect=function(o,h,d,v){Vt(0),this.W=o,this.H=h||{},d&&v!==void 0&&(this.H.OSID=d,this.H.OAID=v),this.F=this.X,this.I=fy(this,null,this.W),Pl(this)};function Fh(o){if(ry(o),o.G==3){var h=o.U++,d=Kn(o.I);if(De(d,"SID",o.K),De(d,"RID",h),De(d,"TYPE","terminate"),Ha(o,d),h=new Ri(o,o.j,h),h.L=2,h.v=Vl(Kn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=h.v,d=!0),d||(h.g=dy(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ol(h)}hy(o)}function Ll(o){o.g&&(Qh(o),o.g.cancel(),o.g=null)}function ry(o){Ll(o),o.u&&(l.clearTimeout(o.u),o.u=null),zl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Pl(o){if(!Pm(o.h)&&!o.s){o.s=!0;var h=o.Ga;Z||Ue(),W||(Z(),W=!0),Ae.add(h,o),o.B=0}}function qA(o,h){return zm(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=h.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Va(g(o.Ga,o,h),cy(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const N=new Ri(this,this.j,o);let V=this.o;if(this.S&&(V?(V=y(V),A(V,this.S)):V=this.S),this.m!==null||this.O||(N.H=V,V=null),this.P)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var v=this.i[d];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=ay(this,N,h),d=Kn(this.I),De(d,"RID",o),De(d,"CVER",22),this.D&&De(d,"X-HTTP-Session-Id",this.D),Ha(this,d),V&&(this.O?h="headers="+encodeURIComponent(String(Wm(V)))+"&"+h:this.m&&Hh(d,this.m,V)),qh(this.h,N),this.Ua&&De(d,"TYPE","init"),this.P?(De(d,"$req",h),De(d,"SID","null"),N.T=!0,Lh(N,d,null)):Lh(N,d,h),this.G=2}}else this.G==3&&(o?sy(this,o):this.i.length==0||Pm(this.h)||sy(this))};function sy(o,h){var d;h?d=h.l:d=o.U++;const v=Kn(o.I);De(v,"SID",o.K),De(v,"RID",d),De(v,"AID",o.T),Ha(o,v),o.m&&o.o&&Hh(v,o.m,o.o),d=new Ri(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),h&&(o.i=h.D.concat(o.i)),h=ay(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),qh(o.h,d),Lh(d,v,h)}function Ha(o,h){o.H&&B(o.H,function(d,v){De(h,v,d)}),o.l&&Hm({},function(d,v){De(h,v,d)})}function ay(o,h,d){d=Math.min(o.i.length,d);var v=o.l?g(o.l.Na,o.l,o):null;e:{var N=o.i;let V=-1;for(;;){const q=["count="+d];V==-1?0<d?(V=N[0].g,q.push("ofs="+V)):V=0:q.push("ofs="+V);let xe=!0;for(let ft=0;ft<d;ft++){let pe=N[ft].g;const At=N[ft].map;if(pe-=V,0>pe)V=Math.max(0,N[ft].g-100),xe=!1;else try{LA(At,q,"req"+pe+"_")}catch{v&&v(At)}}if(xe){v=q.join("&");break e}}}return o=o.i.splice(0,d),h.D=o,v}function oy(o){if(!o.g&&!o.u){o.Y=1;var h=o.Fa;Z||Ue(),W||(Z(),W=!0),Ae.add(h,o),o.v=0}}function Gh(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Va(g(o.Fa,o),cy(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,ly(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Va(g(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Ll(this),ly(this))};function Qh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function ly(o){o.g=new Ri(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var h=Kn(o.qa);De(h,"RID","rpc"),De(h,"SID",o.K),De(h,"AID",o.T),De(h,"CI",o.F?"0":"1"),!o.F&&o.ja&&De(h,"TO",o.ja),De(h,"TYPE","xmlhttp"),Ha(o,h),o.m&&o.o&&Hh(h,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=Vl(Kn(h)),d.m=null,d.P=!0,km(d,o)}t.Za=function(){this.C!=null&&(this.C=null,Ll(this),Gh(this),Vt(19))};function zl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function uy(o,h){var d=null;if(o.g==h){zl(o),Qh(o),o.g=null;var v=2}else if(Bh(o.h,h))d=h.D,Bm(o.h,h),v=1;else return;if(o.G!=0){if(h.o)if(v==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var N=o.B;v=Il(),Mt(v,new Om(v,d)),Pl(o)}else oy(o);else if(N=h.s,N==3||N==0&&0<h.X||!(v==1&&qA(o,h)||v==2&&Gh(o)))switch(d&&0<d.length&&(h=o.h,h.i=h.i.concat(d)),N){case 1:Cr(o,5);break;case 4:Cr(o,10);break;case 3:Cr(o,6);break;default:Cr(o,2)}}}function cy(o,h){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*h}function Cr(o,h){if(o.j.info("Error code "+h),h==2){var d=g(o.fb,o),v=o.Xa;const N=!v;v=new Ir(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Nl(v,"https"),Vl(v),N?kA(v.toString(),d):jA(v.toString(),d)}else Vt(2);o.G=0,o.l&&o.l.sa(h),hy(o),ry(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function hy(o){if(o.G=0,o.ka=[],o.l){const h=qm(o.h);(h.length!=0||o.i.length!=0)&&(D(o.ka,h),D(o.ka,o.i),o.h.i.length=0,O(o.i),o.i.length=0),o.l.ra()}}function fy(o,h,d){var v=d instanceof Ir?Kn(d):new Ir(d);if(v.g!="")h&&(v.g=h+"."+v.g),Ml(v,v.s);else{var N=l.location;v=N.protocol,h=h?h+"."+N.hostname:N.hostname,N=+N.port;var V=new Ir(null);v&&Nl(V,v),h&&(V.g=h),N&&Ml(V,N),d&&(V.l=d),v=V}return d=o.D,h=o.ya,d&&h&&De(v,d,h),De(v,"VER",o.la),Ha(o,v),v}function dy(o,h,d){if(h&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Ca&&!o.pa?new qe(new kl({eb:d})):new qe(o.pa),h.Ha(o.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function py(){}t=py.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bl(){}Bl.prototype.g=function(o,h){return new Kt(o,h)};function Kt(o,h){St.call(this),this.g=new iy(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(o?o["X-WebChannel-Client-Profile"]=h.va:o={"X-WebChannel-Client-Profile":h.va}),this.g.S=o,(o=h&&h.Sb)&&!E(o)&&(this.g.m=o),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!E(h)&&(this.g.D=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new ms(this)}R(Kt,St),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){Fh(this.g)},Kt.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=Nh(o),o=d);h.i.push(new xA(h.Ya++,o)),h.G==3&&Pl(h)},Kt.prototype.N=function(){this.g.l=null,delete this.j,Fh(this.g),delete this.g,Kt.aa.N.call(this)};function gy(o){Vh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(const d in h){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}R(gy,Vh);function my(){kh.call(this),this.status=1}R(my,kh);function ms(o){this.g=o}R(ms,py),ms.prototype.ua=function(){Mt(this.g,"a")},ms.prototype.ta=function(o){Mt(this.g,new gy(o))},ms.prototype.sa=function(o){Mt(this.g,new my)},ms.prototype.ra=function(){Mt(this.g,"b")},Bl.prototype.createWebChannel=Bl.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,B1=function(){return new Bl},z1=function(){return Il()},P1=wr,Jd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cl.NO_ERROR=0,Cl.TIMEOUT=8,Cl.HTTP_ERROR=6,Du=Cl,Nm.COMPLETE="complete",L1=Nm,Rm.EventType=Na,Na.OPEN="a",Na.CLOSE="b",Na.ERROR="c",Na.MESSAGE="d",St.prototype.listen=St.prototype.K,no=Rm,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,U1=qe}).apply(typeof au<"u"?au:typeof self<"u"?self:typeof window<"u"?window:{});const C_="@firebase/firestore",D_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new yg("@firebase/firestore");function Ss(){return ns.logLevel}function Q(t,...e){if(ns.logLevel<=le.DEBUG){const n=e.map(Og);ns.debug(`Firestore (${wa}): ${t}`,...n)}}function bi(t,...e){if(ns.logLevel<=le.ERROR){const n=e.map(Og);ns.error(`Firestore (${wa}): ${t}`,...n)}}function dr(t,...e){if(ns.logLevel<=le.WARN){const n=e.map(Og);ns.warn(`Firestore (${wa}): ${t}`,...n)}}function Og(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,q1(t,i,n)}function q1(t,e,n){let i=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw bi(i),new Error(i)}function ye(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||q1(e,r,i)}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class wO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RO{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ye(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fi,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ye(typeof i.accessToken=="string",31837,{l:i}),new H1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string",2055,{h:e}),new Rt(e)}}class IO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new IO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ye(this.o===void 0,3512);const i=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new O_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=OO(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function se(t,e){return t<e?-1:t>e?1:0}function Zd(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),r=e.codePointAt(n);if(i!==r){if(i<128&&r<128)return se(i,r);{const s=F1(),a=NO(s.encode(N_(t,n)),s.encode(N_(e,n)));return a!==0?a:se(i,r)}}n+=i>65535?2:1}return se(t.length,e.length)}function N_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function NO(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return se(t[n],e[n]);return se(t.length,e.length)}function ua(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="__name__";class Nn{constructor(e,n,i){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&X(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Nn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=Nn.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return se(e.length,n.length)}static compareSegments(e,n){const i=Nn.isNumericId(e),r=Nn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?Nn.extractNumericId(e).compare(Nn.extractNumericId(n)):Zd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}}class Ie extends Nn{construct(e,n,i){return new Ie(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new F(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const MO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends Nn{construct(e,n,i){return new yt(e,n,i)}static isValidIdentifier(e){return MO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M_}static keyField(){return new yt([M_])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new F(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new F(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new F(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Ie.fromString(e))}static fromName(e){return new Y(Ie.fromString(e).popFirst(5))}static empty(){return new Y(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Ie(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t,e,n){if(!n)throw new F(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VO(t,e,n,i){if(e===!0&&i===!0)throw new F(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function V_(t){if(!Y.isDocumentKey(t))throw new F(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function k_(t){if(Y.isDocumentKey(t))throw new F(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Q1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function Rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rh(t);throw new F(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e){const n={typeString:t};return e&&(n.value=e),n}function vl(t,e){if(!Q1(t))throw new F(j.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new F(j.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=-62135596800,U_=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*U_);return new Ve(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<j_)throw new F(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U_}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vl(e,Ve._jsonSchema))return new Ve(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:it("string",Ve._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Ve(0,0))}static max(){return new ee(new Ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=-1;function kO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ee.fromTimestamp(i===1e9?new Ve(n+1,0):new Ve(n,i));return new pr(r,Y.empty(),e)}function jO(t){return new pr(t.readTime,t.key,Go)}class pr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new pr(ee.min(),Y.empty(),Go)}static max(){return new pr(ee.max(),Y.empty(),Go)}}function UO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==LO)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,i)=>{n(e)})}static reject(e){return new L((n,i)=>{i(e)})}static waitFor(e){return new L((n,i)=>{let r=0,s=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(e){let n=L.resolve(!1);for(const i of e)n=n.next(r=>r?L.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new L((i,r)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{a[c]=f,++l,l===s&&i(a)},f=>r(f))}})}static doWhile(e,n){return new L((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function zO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ia(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}sh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg=-1;function ah(t){return t==null}function _c(t){return t===0&&1/t==-1/0}function BO(t){return typeof t=="number"&&Number.isInteger(t)&&!_c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="";function qO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=L_(e)),e=HO(t.get(n),e);return L_(e)}function HO(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case Y1:n+="";break;default:n+=s}}return n}function L_(t){return t+Y1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ar(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function K1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ou(this.root,e,this.comparator,!0)}}class ou{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??pt.RED,this.left=r??pt.EMPTY,this.right=s??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new pt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return pt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z_(this.data.getIterator())}getIteratorFrom(e){return new z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new Zt([])}unionWith(e){let n=new at(yt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new X1("Invalid base64 string: "+s):s}}(e);return new bt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const FO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(t){if(ye(!!t,39018),typeof t=="string"){let e=0;const n=FO.exec(t);if(ye(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mr(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="server_timestamp",W1="__type__",J1="__previous_value__",Z1="__local_write_time__";function Vg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[W1])===null||n===void 0?void 0:n.stringValue)===$1}function oh(t){const e=t.mapValue.fields[J1];return Vg(e)?oh(e):e}function Qo(t){const e=gr(t.mapValue.fields[Z1].timestampValue);return new Ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n,i,r,s,a,l,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f}}const bc="(default)";class Yo{constructor(e,n){this.projectId=e,this.database=n||bc}static empty(){return new Yo("","")}get isDefaultDatabase(){return this.database===bc}isEqual(e){return e instanceof Yo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="__type__",QO="__max__",lu={mapValue:{}},tS="__vector__",Tc="value";function yr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vg(t)?4:KO(t)?9007199254740991:YO(t)?10:11:X(28295,{value:t})}function Fn(t,e){if(t===e)return!0;const n=yr(t);if(n!==yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qo(t).isEqual(Qo(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=gr(r.timestampValue),l=gr(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return mr(r.bytesValue).isEqual(mr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ge(r.geoPointValue.latitude)===Ge(s.geoPointValue.latitude)&&Ge(r.geoPointValue.longitude)===Ge(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ge(r.integerValue)===Ge(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Ge(r.doubleValue),l=Ge(s.doubleValue);return a===l?_c(a)===_c(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return ua(t.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(P_(a)!==P_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Fn(a[u],l[u])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function Ko(t,e){return(t.values||[]).find(n=>Fn(n,e))!==void 0}function ca(t,e){if(t===e)return 0;const n=yr(t),i=yr(e);if(n!==i)return se(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Ge(s.integerValue||s.doubleValue),u=Ge(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return B_(t.timestampValue,e.timestampValue);case 4:return B_(Qo(t),Qo(e));case 5:return Zd(t.stringValue,e.stringValue);case 6:return function(s,a){const l=mr(s),u=mr(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=se(l[c],u[c]);if(f!==0)return f}return se(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=se(Ge(s.latitude),Ge(a.latitude));return l!==0?l:se(Ge(s.longitude),Ge(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return q_(t.arrayValue,e.arrayValue);case 10:return function(s,a){var l,u,c,f;const p=s.fields||{},g=a.fields||{},_=(l=p[Tc])===null||l===void 0?void 0:l.arrayValue,R=(u=g[Tc])===null||u===void 0?void 0:u.arrayValue,O=se(((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0,((f=R==null?void 0:R.values)===null||f===void 0?void 0:f.length)||0);return O!==0?O:q_(_,R)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===lu.mapValue&&a===lu.mapValue)return 0;if(s===lu.mapValue)return 1;if(a===lu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=a.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=Zd(u[p],f[p]);if(g!==0)return g;const _=ca(l[u[p]],c[f[p]]);if(_!==0)return _}return se(u.length,f.length)}(t.mapValue,e.mapValue);default:throw X(23264,{le:n})}}function B_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=gr(t),i=gr(e),r=se(n.seconds,i.seconds);return r!==0?r:se(n.nanos,i.nanos)}function q_(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=ca(n[r],i[r]);if(s)return s}return se(n.length,i.length)}function ha(t){return ep(t)}function ep(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=gr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return mr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=ep(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${ep(n.fields[a])}`;return r+"}"}(t.mapValue):X(61005,{value:t})}function Ou(t){switch(yr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oh(t);return e?16+Ou(e):16;case 5:return 2*t.stringValue.length;case 6:return mr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Ou(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return Ar(i.fields,(s,a)=>{r+=s.length+Ou(a)}),r}(t.mapValue);default:throw X(13486,{value:t})}}function H_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tp(t){return!!t&&"integerValue"in t}function kg(t){return!!t&&"arrayValue"in t}function F_(t){return!!t&&"nullValue"in t}function G_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nu(t){return!!t&&"mapValue"in t}function YO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[eS])===null||n===void 0?void 0:n.stringValue)===tS}function So(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ar(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=So(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=So(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===QO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Nu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=So(n)}setAll(e){let n=yt.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=So(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Nu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Nu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Ar(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Ft(So(this.value))}}function nS(t){const e=[];return Ar(t.fields,(n,i)=>{const r=new yt([n]);if(Nu(i)){const s=nS(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new Zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,i,r,s,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new It(e,0,ee.min(),ee.min(),ee.min(),Ft.empty(),0)}static newFoundDocument(e,n,i,r){return new It(e,1,n,ee.min(),i,r,0)}static newNoDocument(e,n){return new It(e,2,n,ee.min(),ee.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,ee.min(),ee.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.position=e,this.inclusive=n}}function Q_(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=Y.comparator(Y.fromName(a.referenceValue),n.key):i=ca(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Y_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n="asc"){this.field=e,this.dir=n}}function XO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{}class tt extends iS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new WO(e,n,i):n==="array-contains"?new e4(e,i):n==="in"?new t4(e,i):n==="not-in"?new n4(e,i):n==="array-contains-any"?new i4(e,i):new tt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new JO(e,i):new ZO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ca(n,this.value)):n!==null&&yr(this.value)===yr(n)&&this.matchesComparison(ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class In extends iS{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new In(e,n)}matches(e){return rS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function rS(t){return t.op==="and"}function sS(t){return $O(t)&&rS(t)}function $O(t){for(const e of t.filters)if(e instanceof In)return!1;return!0}function np(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+ha(t.value);if(sS(t))return t.filters.map(e=>np(e)).join(",");{const e=t.filters.map(n=>np(n)).join(",");return`${t.op}(${e})`}}function aS(t,e){return t instanceof tt?function(i,r){return r instanceof tt&&i.op===r.op&&i.field.isEqual(r.field)&&Fn(i.value,r.value)}(t,e):t instanceof In?function(i,r){return r instanceof In&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&aS(a,r.filters[l]),!0):!1}(t,e):void X(19439)}function oS(t){return t instanceof tt?function(n){return`${n.field.canonicalString()} ${n.op} ${ha(n.value)}`}(t):t instanceof In?function(n){return n.op.toString()+" {"+n.getFilters().map(oS).join(" ,")+"}"}(t):"Filter"}class WO extends tt{constructor(e,n,i){super(e,n,i),this.key=Y.fromName(i.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class JO extends tt{constructor(e,n){super(e,"in",n),this.keys=lS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ZO extends tt{constructor(e,n){super(e,"not-in",n),this.keys=lS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Y.fromName(i.referenceValue))}class e4 extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kg(n)&&Ko(n.arrayValue,this.value)}}class t4 extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ko(this.value.arrayValue,n)}}class n4 extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ko(this.value.arrayValue,n)}}class i4 extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ko(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n=null,i=[],r=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Pe=null}}function K_(t,e=null,n=[],i=[],r=null,s=null,a=null){return new r4(t,e,n,i,r,s,a)}function jg(t){const e=te(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>np(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ha(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ha(i)).join(",")),e.Pe=n}return e.Pe}function Ug(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Y_(t.startAt,e.startAt)&&Y_(t.endAt,e.endAt)}function ip(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function s4(t,e,n,i,r,s,a,l){return new Ca(t,e,n,i,r,s,a,l)}function lh(t){return new Ca(t)}function X_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uS(t){return t.collectionGroup!==null}function Ao(t){const e=te(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new at(yt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Xo(s,i))}),n.has(yt.keyField().canonicalString())||e.Te.push(new Xo(yt.keyField(),i))}return e.Te}function Ln(t){const e=te(t);return e.Ie||(e.Ie=a4(e,Ao(t))),e.Ie}function a4(t,e){if(t.limitType==="F")return K_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Xo(r.field,s)});const n=t.endAt?new Ec(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ec(t.startAt.position,t.startAt.inclusive):null;return K_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function rp(t,e){const n=t.filters.concat([e]);return new Ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sc(t,e,n){return new Ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uh(t,e){return Ug(Ln(t),Ln(e))&&t.limitType===e.limitType}function cS(t){return`${jg(Ln(t))}|lt:${t.limitType}`}function As(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>oS(r)).join(", ")}]`),ah(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ha(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ha(r)).join(",")),`Target(${i})`}(Ln(t))}; limitType=${t.limitType})`}function ch(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Y.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of Ao(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,u){const c=Q_(a,l,u);return a.inclusive?c<=0:c<0}(i.startAt,Ao(i),r)||i.endAt&&!function(a,l,u){const c=Q_(a,l,u);return a.inclusive?c>=0:c>0}(i.endAt,Ao(i),r))}(t,e)}function o4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hS(t){return(e,n)=>{let i=!1;for(const r of Ao(t)){const s=l4(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function l4(t,e,n){const i=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),c=l.data.field(s);return u!==null&&c!==null?ca(u,c):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ar(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return K1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new ze(Y.comparator);function Ti(){return u4}const fS=new ze(Y.comparator);function io(...t){let e=fS;for(const n of t)e=e.insert(n.key,n);return e}function dS(t){let e=fS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ur(){return xo()}function pS(){return xo()}function xo(){return new fs(t=>t.toString(),(t,e)=>t.isEqual(e))}const c4=new ze(Y.comparator),h4=new at(Y.comparator);function ue(...t){let e=h4;for(const n of t)e=e.add(n);return e}const f4=new at(se);function d4(){return f4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function gS(t){return{integerValue:""+t}}function p4(t,e){return BO(e)?gS(e):Lg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function g4(t,e,n){return t instanceof $o?function(r,s){const a={fields:{[W1]:{stringValue:$1},[Z1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Vg(s)&&(s=oh(s)),s&&(a.fields[J1]=s),{mapValue:a}}(n,e):t instanceof Wo?yS(t,e):t instanceof Jo?vS(t,e):function(r,s){const a=mS(r,s),l=$_(a)+$_(r.Ee);return tp(a)&&tp(r.Ee)?gS(l):Lg(r.serializer,l)}(t,e)}function m4(t,e,n){return t instanceof Wo?yS(t,e):t instanceof Jo?vS(t,e):n}function mS(t,e){return t instanceof Ac?function(i){return tp(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class $o extends hh{}class Wo extends hh{constructor(e){super(),this.elements=e}}function yS(t,e){const n=_S(e);for(const i of t.elements)n.some(r=>Fn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Jo extends hh{constructor(e){super(),this.elements=e}}function vS(t,e){let n=_S(e);for(const i of t.elements)n=n.filter(r=>!Fn(r,i));return{arrayValue:{values:n}}}class Ac extends hh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function $_(t){return Ge(t.integerValue||t.doubleValue)}function _S(t){return kg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n){this.field=e,this.transform=n}}function v4(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Wo&&r instanceof Wo||i instanceof Jo&&r instanceof Jo?ua(i.elements,r.elements,Fn):i instanceof Ac&&r instanceof Ac?Fn(i.Ee,r.Ee):i instanceof $o&&r instanceof $o}(t.transform,e.transform)}class _4{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fh{}function bS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ES(t.key,Pn.none()):new _l(t.key,t.data,Pn.none());{const n=t.data,i=Ft.empty();let r=new at(yt.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new xr(t.key,i,new Zt(r.toArray()),Pn.none())}}function b4(t,e,n){t instanceof _l?function(r,s,a){const l=r.value.clone(),u=J_(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof xr?function(r,s,a){if(!Mu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=J_(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(TS(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function wo(t,e,n,i){return t instanceof _l?function(s,a,l,u){if(!Mu(s.precondition,a))return l;const c=s.value.clone(),f=Z_(s.fieldTransforms,u,a);return c.setAll(f),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof xr?function(s,a,l,u){if(!Mu(s.precondition,a))return l;const c=Z_(s.fieldTransforms,u,a),f=a.data;return f.setAll(TS(s)),f.setAll(c),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,i):function(s,a,l){return Mu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function T4(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=mS(i.transform,r||null);s!=null&&(n===null&&(n=Ft.empty()),n.set(i.field,s))}return n||null}function W_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ua(i,r,(s,a)=>v4(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _l extends fh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xr extends fh{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function TS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function J_(t,e,n){const i=new Map;ye(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,l=e.data.field(s.field);i.set(s.field,m4(a,l,n[r]))}return i}function Z_(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,g4(s,a,e))}return i}class ES extends fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E4 extends fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&b4(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=wo(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=wo(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=pS();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=bS(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(ee.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,(n,i)=>W_(n,i))&&ua(this.baseMutations,e.baseMutations,(n,i)=>W_(n,i))}}class Pg{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){ye(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let r=function(){return c4}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Pg(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,de;function w4(t){switch(t){case j.OK:return X(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function SS(t){if(t===void 0)return bi("GRPC error has no .code"),j.UNKNOWN;switch(t){case We.OK:return j.OK;case We.CANCELLED:return j.CANCELLED;case We.UNKNOWN:return j.UNKNOWN;case We.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case We.INTERNAL:return j.INTERNAL;case We.UNAVAILABLE:return j.UNAVAILABLE;case We.UNAUTHENTICATED:return j.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case We.NOT_FOUND:return j.NOT_FOUND;case We.ALREADY_EXISTS:return j.ALREADY_EXISTS;case We.PERMISSION_DENIED:return j.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case We.ABORTED:return j.ABORTED;case We.OUT_OF_RANGE:return j.OUT_OF_RANGE;case We.UNIMPLEMENTED:return j.UNIMPLEMENTED;case We.DATA_LOSS:return j.DATA_LOSS;default:return X(39323,{code:t})}}(de=We||(We={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=new or([4294967295,4294967295],0);function e0(t){const e=F1().encode(t),n=new j1;return n.update(e),new Uint8Array(n.digest())}function t0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new or([n,i],0),new or([r,s],0)]}class zg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ro(`Invalid padding: ${n}`);if(i<0)throw new ro(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ro(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=or.fromNumber(this.fe)}pe(e,n,i){let r=e.add(n.multiply(or.fromNumber(i)));return r.compare(R4)===1&&(r=new or([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=e0(e),[i,r]=t0(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);if(!this.ye(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new zg(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.fe===0)return;const n=e0(e),[i,r]=t0(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);this.we(a)}}we(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,bl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new dh(ee.min(),r,new ze(se),Ti(),ue())}}class bl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new bl(i,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,i,r){this.Se=e,this.removedTargetIds=n,this.key=i,this.be=r}}class AS{constructor(e,n){this.targetId=e,this.De=n}}class xS{constructor(e,n,i=bt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class n0{constructor(){this.ve=0,this.Ce=i0(),this.Fe=bt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ue(),n=ue(),i=ue();return this.Ce.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:X(38017,{changeType:s})}}),new bl(this.Fe,this.Me,e,n,i)}ke(){this.xe=!1,this.Ce=i0()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ye(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class I4{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ti(),this.je=uu(),this.Je=uu(),this.He=new ze(se)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const i=this.tt(n);switch(e.state){case 0:this.nt(n)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((i,r)=>{this.nt(r)&&n(r)})}it(e){const n=e.targetId,i=e.De.count,r=this.st(n);if(r){const s=r.target;if(ip(s))if(i===0){const a=new Y(s.path);this.Xe(n,a,It.newNoDocument(a,ee.min()))}else ye(i===1,20013,{expectedCount:i});else{const a=this.ot(n);if(a!==i){const l=this._t(e),u=l?this.ut(l,e,a):1;if(u!==0){this.rt(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=mr(i).toUint8Array()}catch(u){if(u instanceof X1)return dr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new zg(a,r,s)}catch(u){return dr(u instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.fe===0?null:l}ut(e,n,i){return n.De.count===i-this.ht(e,n.targetId)?0:2}ht(e,n){const i=this.We.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.We.lt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,s,null),r++)}),r}Pt(e){const n=new Map;this.Ge.forEach((s,a)=>{const l=this.st(a);if(l){if(s.current&&ip(l.target)){const u=new Y(l.target.path);this.Tt(u).has(a)||this.It(a,u)||this.Xe(a,u,It.newNoDocument(u,e))}s.Ne&&(n.set(a,s.Le()),s.ke())}});let i=ue();this.Je.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.st(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.ze.forEach((s,a)=>a.setReadTime(e));const r=new dh(e,n,this.He,this.ze,i);return this.ze=Ti(),this.je=uu(),this.Je=uu(),this.He=new ze(se),r}Ze(e,n){if(!this.nt(e))return;const i=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,i){if(!this.nt(e))return;const r=this.tt(e);this.It(e,n)?r.qe(n,1):r.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new n0,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new at(se),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new at(se),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new n0),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function uu(){return new ze(Y.comparator)}function i0(){return new ze(Y.comparator)}const C4={asc:"ASCENDING",desc:"DESCENDING"},D4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O4={and:"AND",or:"OR"};class N4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sp(t,e){return t.useProto3Json||ah(e)?e:{value:e}}function xc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function M4(t,e){return xc(t,e.toTimestamp())}function zn(t){return ye(!!t,49232),ee.fromTimestamp(function(n){const i=gr(n);return new Ve(i.seconds,i.nanos)}(t))}function Bg(t,e){return ap(t,e).canonicalString()}function ap(t,e){const n=function(r){return new Ie(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function RS(t){const e=Ie.fromString(t);return ye(NS(e),10190,{key:e.toString()}),e}function op(t,e){return Bg(t.databaseId,e.path)}function zf(t,e){const n=RS(e);if(n.get(1)!==t.databaseId.projectId)throw new F(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(CS(n))}function IS(t,e){return Bg(t.databaseId,e)}function V4(t){const e=RS(t);return e.length===4?Ie.emptyPath():CS(e)}function lp(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CS(t){return ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function r0(t,e,n){return{name:op(t,e),fields:n.value.mapValue.fields}}function k4(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(ye(f===void 0||typeof f=="string",58123),bt.fromBase64String(f||"")):(ye(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),bt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(c){const f=c.code===void 0?j.UNKNOWN:SS(c.code);return new F(f,c.message||"")}(a);n=new xS(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=zf(t,i.document.name),s=zn(i.document.updateTime),a=i.document.createTime?zn(i.document.createTime):ee.min(),l=new Ft({mapValue:{fields:i.document.fields}}),u=It.newFoundDocument(r,s,a,l),c=i.targetIds||[],f=i.removedTargetIds||[];n=new Vu(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=zf(t,i.document),s=i.readTime?zn(i.readTime):ee.min(),a=It.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Vu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=zf(t,i.document),s=i.removedTargetIds||[];n=new Vu([],s,r,null)}else{if(!("filter"in e))return X(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new x4(r,s),l=i.targetId;n=new AS(l,a)}}return n}function j4(t,e){let n;if(e instanceof _l)n={update:r0(t,e.key,e.value)};else if(e instanceof ES)n={delete:op(t,e.key)};else if(e instanceof xr)n={update:r0(t,e.key,e.data),updateMask:G4(e.fieldMask)};else{if(!(e instanceof E4))return X(16599,{Rt:e.type});n={verify:op(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof $o)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Wo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Jo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ac)return{fieldPath:a.field.canonicalString(),increment:l.Ee};throw X(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:M4(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X(27497)}(t,e.precondition)),n}function U4(t,e){return t&&t.length>0?(ye(e!==void 0,14353),t.map(n=>function(r,s){let a=r.updateTime?zn(r.updateTime):zn(s);return a.isEqual(ee.min())&&(a=zn(s)),new _4(a,r.transformResults||[])}(n,e))):[]}function L4(t,e){return{documents:[IS(t,e.path)]}}function P4(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=IS(t,r);const s=function(c){if(c.length!==0)return OS(In.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(f=>function(g){return{field:xs(g.field),direction:q4(g.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=sp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:r}}function z4(t){let e=V4(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ye(i===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const g=DS(p);return g instanceof In&&sS(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(g=>function(R){return new Xo(ws(R.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,ah(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,_=p.values||[];return new Ec(_,g)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const g=!p.before,_=p.values||[];return new Ec(_,g)}(n.endAt)),s4(e,r,a,s,l,"F",u,c)}function B4(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ws(n.unaryFilter.field);return tt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ws(n.unaryFilter.field);return tt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ws(n.unaryFilter.field);return tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ws(n.unaryFilter.field);return tt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return tt.create(ws(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return In.create(n.compositeFilter.filters.map(i=>DS(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function q4(t){return C4[t]}function H4(t){return D4[t]}function F4(t){return O4[t]}function xs(t){return{fieldPath:t.canonicalString()}}function ws(t){return yt.fromServerFormat(t.fieldPath)}function OS(t){return t instanceof tt?function(n){if(n.op==="=="){if(G_(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NAN"}};if(F_(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G_(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NOT_NAN"}};if(F_(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(n.field),op:H4(n.op),value:n.value}}}(t):t instanceof In?function(n){const i=n.getFilters().map(r=>OS(r));return i.length===1?i[0]:{compositeFilter:{op:F4(n.op),filters:i}}}(t):X(54877,{filter:t})}function G4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,i,r,s=ee.min(),a=ee.min(),l=bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.gt=e}}function Y4(t){const e=z4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.Dn=new X4}addToCollectionParentIndex(e,n){return this.Dn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(pr.min())}updateCollectionGroup(e,n,i){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class X4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new at(Ie.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new at(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MS=41943040;class Ht{static withCacheSize(e){return new Ht(e,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht(MS,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new fa(0)}static ur(){return new fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="LruGarbageCollector",$4=1048576;function o0([t,e],[n,i]){const r=se(t,n);return r===0?se(e,i):r}class W4{constructor(e){this.Tr=e,this.buffer=new at(o0),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();o0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class J4{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Q(a0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ia(n)?Q(a0,"Ignoring IndexedDB error during garbage collection: ",n):await Ra(n)}await this.Rr(3e5)})}}class Z4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return L.resolve(sh.ue);const i=new W4(n);return this.Vr.forEachTarget(e,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(e,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(s0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s0):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let i,r,s,a,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(i=p,l=Date.now(),this.removeTargets(e,i,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(c=Date.now(),Ss()<=le.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p})))}}function eN(t,e){return new Z4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.changes=new fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?L.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&wo(i.mutation,r,Zt.empty(),Ve.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ue()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ue()){const r=Ur();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=io();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Ur();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ue()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let s=Ti();const a=xo(),l=function(){return xo()}();return n.forEach((u,c)=>{const f=i.get(c.key);r.has(c.key)&&(f===void 0||f.mutation instanceof xr)?s=s.insert(c.key,c):f!==void 0?(a.set(c.key,f.mutation.getFieldMask()),wo(f.mutation,c,f.mutation.getFieldMask(),Ve.now())):a.set(c.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>a.set(c,f)),n.forEach((c,f)=>{var p;return l.set(c,new nN(f,(p=a.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const i=xo();let r=new ze((a,l)=>a-l),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=i.get(u)||Zt.empty();f=l.applyToLocalView(c,f),i.set(u,f);const p=(r.get(l.batchId)||ue()).add(u);r=r.insert(l.batchId,p)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,p=pS();f.forEach(g=>{if(!s.has(g)){const _=bS(n.get(g),i.get(g));_!==null&&p.set(g,_),s=s.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,p))}return L.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return Y.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):L.resolve(Ur());let l=Go,u=s;return a.next(c=>L.forEach(c,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ue())).next(f=>({batchId:l,changes:dS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(i=>{let r=io();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let a=io();return this.indexManager.getCollectionParents(e,s).next(l=>L.forEach(l,u=>{const c=function(p,g){return new Ca(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(f=>{f.forEach((p,g)=>{a=a.insert(p,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(a=>{s.forEach((u,c)=>{const f=c.getKey();a.get(f)===null&&(a=a.insert(f,It.newInvalidDocument(f)))});let l=io();return a.forEach((u,c)=>{const f=s.get(u);f!==void 0&&wo(f.mutation,c,Zt.empty(),Ve.now()),ch(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return L.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(r){return{id:r.id,version:r.version,createTime:zn(r.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(r){return{name:r.name,query:Y4(r.bundledQuery),readTime:zn(r.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.overlays=new ze(Y.comparator),this.kr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ur();return L.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.wt(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(i)),L.resolve()}getOverlaysForCollection(e,n,i){const r=Ur(),s=n.length+1,a=new Y(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return L.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new ze((c,f)=>c-f);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=s.get(c.largestBatchId);f===null&&(f=Ur(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Ur(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=r)););return L.resolve(l)}wt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new A4(n,i));let s=this.kr.get(n);s===void 0&&(s=ue(),this.kr.set(n,s)),this.kr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.qr=new at(lt.Qr),this.$r=new at(lt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const i=new lt(e,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new lt(e,n))}Gr(e,n){e.forEach(i=>this.removeReference(i,n))}zr(e){const n=new Y(new Ie([])),i=new lt(n,e),r=new lt(n,e+1),s=[];return this.$r.forEachInRange([i,r],a=>{this.Wr(a),s.push(a.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Y(new Ie([])),i=new lt(n,e),r=new lt(n,e+1);let s=ue();return this.$r.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new lt(e,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class lt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Y.comparator(e.key,n.key)||se(e.Hr,n.Hr)}static Ur(e,n){return se(e.Hr,n.Hr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new at(lt.Qr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new S4(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Yr=this.Yr.add(new lt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,n){return L.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Xr(i),s=r<0?0:r;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?Mg:this.er-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new lt(n,0),r=new lt(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([i,r],a=>{const l=this.Zr(a.Hr);s.push(l)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new at(se);return n.forEach(r=>{const s=new lt(r,0),a=new lt(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],l=>{i=i.add(l.Hr)})}),L.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;Y.isDocumentKey(s)||(s=s.child(""));const a=new lt(new Y(s),0);let l=new at(se);return this.Yr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(l=l.add(u.Hr)),!0)},a),L.resolve(this.ei(l))}ei(e){const n=[];return e.forEach(i=>{const r=this.Zr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ye(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return L.forEach(n.mutations,r=>{const s=new lt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,n){const i=new lt(n,0),r=this.Yr.firstAfterOrEqual(i);return L.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.ni=e,this.docs=function(){return new ze(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return L.resolve(i?i.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let i=Ti();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():It.newInvalidDocument(r))}),L.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Ti();const a=n.path,l=new Y(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||UO(jO(f),i)<=0||(r.has(f.key)||ch(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,i,r){X(9500)}ri(e,n){return L.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new uN(this)}getSize(e){return L.resolve(this.size)}}class uN extends tN{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Or.addEntry(e,r)):this.Or.removeEntry(i)}),L.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.persistence=e,this.ii=new fs(n=>jg(n),Ug),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.si=0,this.oi=new qg,this.targetCount=0,this._i=fa.ar()}forEachTarget(e,n){return this.ii.forEach((i,r)=>n(r)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),L.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new fa(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.hr(n),L.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.ii.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),L.waitFor(s).next(()=>r)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const i=this.ii.get(n)||null;return L.resolve(i)}addMatchingKeys(e,n,i){return this.oi.Kr(n,i),L.resolve()}removeMatchingKeys(e,n,i){this.oi.Gr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const i=this.oi.Jr(n);return L.resolve(i)}containsKey(e,n){return L.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.ai={},this.overlays={},this.ui=new sh(0),this.ci=!1,this.ci=!0,this.li=new aN,this.referenceDelegate=e(this),this.hi=new cN(this),this.indexManager=new K4,this.remoteDocumentCache=function(r){return new lN(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new Q4(n),this.Ti=new rN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ai[e.toKey()];return i||(i=new oN(n,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,i){Q("MemoryPersistence","Starting transaction:",e);const r=new hN(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ei(e,n){return L.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,n)))}}class hN extends PO{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.Ai=new qg,this.Ri=null}static Vi(e){return new Hg(e)}get mi(){if(this.Ri)return this.Ri;throw X(60996)}addReference(e,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),L.resolve()}removeReference(e,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(r=>this.mi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.mi.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.mi,i=>{const r=Y.fromPath(i);return this.fi(e,r).next(s=>{s||n.removeEntry(r,ee.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return L.or([()=>L.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class wc{constructor(e,n){this.persistence=e,this.gi=new fs(i=>qO(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=eN(this,n)}static Vi(e,n){return new wc(e,n)}Ii(){}di(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}yr(e){let n=0;return this.gr(e,i=>{n++}).next(()=>n)}gr(e,n){return L.forEach(this.gi,(i,r)=>this.Sr(e,i,r).next(s=>s?L.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ri(e,a=>this.Sr(e,a,n).next(l=>{l||(i++,s.removeEntry(a,ee.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),L.resolve()}removeReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),L.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ou(e.data.value)),n}Sr(e,n,i){return L.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.gi.get(n);return L.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Is=i,this.ds=r}static Es(e,n){let i=ue(),r=ue();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Fg(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return aI()?8:zO(Ct())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ps(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ys(e,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new fN;return this.ws(e,n,a).next(l=>{if(s.result=l,this.Rs)return this.Ss(e,n,a,l.size)})}).next(()=>s.result)}Ss(e,n,i,r){return i.documentReadCount<this.Vs?(Ss()<=le.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",As(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(Ss()<=le.DEBUG&&Q("QueryEngine","Query:",As(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(Ss()<=le.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",As(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ln(n))):L.resolve())}ps(e,n){if(X_(n))return L.resolve(null);let i=Ln(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Sc(n,null,"F"),i=Ln(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=ue(...s);return this.gs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const c=this.bs(n,l);return this.Ds(n,c,a,u.readTime)?this.ps(e,Sc(n,null,"F")):this.vs(e,c,n,u)}))})))}ys(e,n,i,r){return X_(n)||r.isEqual(ee.min())?L.resolve(null):this.gs.getDocuments(e,i).next(s=>{const a=this.bs(n,s);return this.Ds(n,a,i,r)?L.resolve(null):(Ss()<=le.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),As(n)),this.vs(e,a,n,kO(r,Go)).next(l=>l))})}bs(e,n){let i=new at(hS(e));return n.forEach((r,s)=>{ch(e,s)&&(i=i.add(s))}),i}Ds(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ws(e,n,i){return Ss()<=le.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",As(n)),this.gs.getDocumentsMatchingQuery(e,n,pr.min(),i)}vs(e,n,i,r){return this.gs.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="LocalStore",pN=3e8;class gN{constructor(e,n,i,r){this.persistence=e,this.Cs=n,this.serializer=r,this.Fs=new ze(se),this.Ms=new fs(s=>jg(s),Ug),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function mN(t,e,n,i){return new gN(t,e,n,i)}async function kS(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=ue();for(const c of r){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Bs:c,removedBatchIds:a,addedBatchIds:l}))})})}function yN(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const p=c.batch,g=p.keys();let _=L.resolve();return g.forEach(R=>{_=_.next(()=>f.getEntry(u,R)).next(O=>{const D=c.docVersions.get(R);ye(D!==null,48541),O.version.compareTo(D)<0&&(p.applyToRemoteDocument(O,c),O.isValidDocument()&&(O.setReadTime(c.commitVersion),f.addEntry(O)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=ue();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function jS(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function vN(t,e){const n=te(t),i=e.snapshotVersion;let r=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Os.newChangeBuffer({trackRemovals:!0});r=n.Fs;const l=[];e.targetChanges.forEach((f,p)=>{const g=r.get(p);if(!g)return;l.push(n.hi.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.hi.addMatchingKeys(s,f.addedDocuments,p)));let _=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(bt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,i)),r=r.insert(p,_),function(O,D,S){return O.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=pN?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,_,f)&&l.push(n.hi.updateTargetData(s,_))});let u=Ti(),c=ue();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(_N(s,a,e.documentUpdates).next(f=>{u=f.Ls,c=f.ks})),!i.isEqual(ee.min())){const f=n.hi.getLastRemoteSnapshotVersion(s).next(p=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return L.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Fs=r,s))}function _N(t,e,n){let i=ue(),r=ue();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=Ti();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):Q(Gg,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ls:a,ks:r}})}function bN(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Mg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function TN(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.hi.getTargetData(i,e).next(s=>s?(r=s,L.resolve(r)):n.hi.allocateTargetId(i).next(a=>(r=new Ki(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(e,i.targetId)),i})}async function up(t,e,n){const i=te(t),r=i.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Ia(a))throw a;Q(Gg,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(r.target)}function l0(t,e,n){const i=te(t);let r=ee.min(),s=ue();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,f){const p=te(u),g=p.Ms.get(f);return g!==void 0?L.resolve(p.Fs.get(g)):p.hi.getTargetData(c,f)}(i,a,Ln(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,n?r:ee.min(),n?s:ue())).next(l=>(EN(i,o4(e),l),{documents:l,qs:s})))}function EN(t,e,n){let i=t.xs.get(e)||ee.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.xs.set(e,i)}class u0{constructor(){this.activeTargetIds=d4()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SN{constructor(){this.Fo=new u0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,i){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new u0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="ConnectivityMonitor";class h0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Q(c0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Q(c0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu=null;function cp(){return cu===null?cu=function(){return 268435456+Math.round(2147483648*Math.random())}():cu++,"0x"+cu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="RestConnection",xN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wN{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===bc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,n,i,r,s){const a=cp(),l=this.Go(e,n.toUriEncodedString());Q(Bf,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,r,s);const{host:c}=new URL(l),f=Sa(c);return this.jo(e,l,u,i,f).then(p=>(Q(Bf,`Received RPC '${e}' ${a}: `,p),p),p=>{throw dr(Bf,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Jo(e,n,i,r,s,a){return this.Wo(e,n,i,r,s)}zo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}Go(e,n){const i=xN[e];return`${this.$o}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class IN extends wN{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,i,r,s){const a=cp();return new Promise((l,u)=>{const c=new U1;c.setWithCredentials(!0),c.listenOnce(L1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Du.NO_ERROR:const p=c.getResponseJson();Q(wt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Du.TIMEOUT:Q(wt,`RPC '${e}' ${a} timed out`),u(new F(j.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const g=c.getStatus();if(Q(wt,`RPC '${e}' ${a} failed with status:`,g,"response text:",c.getResponseText()),g>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const R=_==null?void 0:_.error;if(R&&R.status&&R.message){const O=function(S){const E=S.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(E)>=0?E:j.UNKNOWN}(R.status);u(new F(O,R.message))}else u(new F(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new F(j.UNAVAILABLE,"Connection failed."));break;default:X(9055,{c_:e,streamId:a,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{Q(wt,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(r);Q(wt,`RPC '${e}' ${a} sending request:`,r),c.send(n,"POST",f,i,15)})}P_(e,n,i){const r=cp(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=B1(),l=z1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const f=s.join("");Q(wt,`Creating RPC '${e}' stream ${r}: ${f}`,u);const p=a.createWebChannel(f,u);this.T_(p);let g=!1,_=!1;const R=new RN({Ho:D=>{_?Q(wt,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(g||(Q(wt,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),Q(wt,`RPC '${e}' stream ${r} sending:`,D),p.send(D))},Yo:()=>p.close()}),O=(D,S,E)=>{D.listen(S,w=>{try{E(w)}catch(M){setTimeout(()=>{throw M},0)}})};return O(p,no.EventType.OPEN,()=>{_||(Q(wt,`RPC '${e}' stream ${r} transport opened.`),R.s_())}),O(p,no.EventType.CLOSE,()=>{_||(_=!0,Q(wt,`RPC '${e}' stream ${r} transport closed`),R.__(),this.I_(p))}),O(p,no.EventType.ERROR,D=>{_||(_=!0,dr(wt,`RPC '${e}' stream ${r} transport errored. Name:`,D.name,"Message:",D.message),R.__(new F(j.UNAVAILABLE,"The operation could not be completed")))}),O(p,no.EventType.MESSAGE,D=>{var S;if(!_){const E=D.data[0];ye(!!E,16349);const w=E,M=(w==null?void 0:w.error)||((S=w[0])===null||S===void 0?void 0:S.error);if(M){Q(wt,`RPC '${e}' stream ${r} received error:`,M);const P=M.status;let B=function(b){const A=We[b];if(A!==void 0)return SS(A)}(P),T=M.message;B===void 0&&(B=j.INTERNAL,T="Unknown error status: "+P+" with message "+M.message),_=!0,R.__(new F(B,T)),p.close()}else Q(wt,`RPC '${e}' stream ${r} received:`,E),R.a_(E)}}),O(l,P1.STAT_EVENT,D=>{D.stat===Jd.PROXY?Q(wt,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===Jd.NOPROXY&&Q(wt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{R.o_()},0),R}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t){return new N4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=i,this.E_=r,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,n-i);r>0&&Q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="PersistentStream";class LS{constructor(e,n,i,r,s,a,l,u){this.Fi=e,this.w_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new US(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(bi(n.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===n&&this.W_(i,r)},i=>{e(()=>{const r=new F(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(e,n){const i=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Q(f0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Q(f0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CN extends LS{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=k4(this.serializer,e),i=function(s){if(!("targetChange"in s))return ee.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ee.min():a.readTime?zn(a.readTime):ee.min()}(e);return this.listener.J_(n,i)}H_(e){const n={};n.database=lp(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=ip(u)?{documents:L4(s,u)}:{query:P4(s,u).Vt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=wS(s,a.resumeToken);const c=sp(s,a.expectedCount);c!==null&&(l.expectedCount=c)}else if(a.snapshotVersion.compareTo(ee.min())>0){l.readTime=xc(s,a.snapshotVersion.toTimestamp());const c=sp(s,a.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const i=B4(this.serializer,e);i&&(n.labels=i),this.k_(n)}Y_(e){const n={};n.database=lp(this.serializer),n.removeTarget=e,this.k_(n)}}class DN extends LS{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=U4(e.writeResults,e.commitTime),i=zn(e.commitTime);return this.listener.ta(i,n)}na(){const e={};e.database=lp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>j4(this.serializer,i))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{}class NN extends ON{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new F(j.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,ap(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(j.UNKNOWN,s.toString())})}Jo(e,n,i,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Jo(e,ap(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new F(j.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class MN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(bi(n),this._a=!1):Q("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="RemoteStore";class VN{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(a=>{i.enqueueAndForget(async()=>{ds(this)&&(Q(is,"Restarting streams for network reachability change."),await async function(u){const c=te(u);c.Ia.add(4),await Tl(c),c.Aa.set("Unknown"),c.Ia.delete(4),await gh(c)}(this))})}),this.Aa=new MN(i,r)}}async function gh(t){if(ds(t))for(const e of t.da)await e(!0)}async function Tl(t){for(const e of t.da)await e(!1)}function PS(t,e){const n=te(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Xg(n)?Kg(n):Da(n).x_()&&Yg(n,e))}function Qg(t,e){const n=te(t),i=Da(n);n.Ta.delete(e),i.x_()&&zS(n,e),n.Ta.size===0&&(i.x_()?i.B_():ds(n)&&n.Aa.set("Unknown"))}function Yg(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Da(t).H_(e)}function zS(t,e){t.Ra.$e(e),Da(t).Y_(e)}function Kg(t){t.Ra=new I4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Da(t).start(),t.Aa.aa()}function Xg(t){return ds(t)&&!Da(t).M_()&&t.Ta.size>0}function ds(t){return te(t).Ia.size===0}function BS(t){t.Ra=void 0}async function kN(t){t.Aa.set("Online")}async function jN(t){t.Ta.forEach((e,n)=>{Yg(t,e)})}async function UN(t,e){BS(t),Xg(t)?(t.Aa.la(e),Kg(t)):t.Aa.set("Unknown")}async function LN(t,e,n){if(t.Aa.set("Online"),e instanceof xS&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ta.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ta.delete(l),r.Ra.removeTarget(l))}(t,e)}catch(i){Q(is,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Rc(t,i)}else if(e instanceof Vu?t.Ra.Ye(e):e instanceof AS?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ee.min()))try{const i=await jS(t.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.Ra.Pt(a);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ta.get(c);f&&s.Ta.set(c,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,c)=>{const f=s.Ta.get(u);if(!f)return;s.Ta.set(u,f.withResumeToken(bt.EMPTY_BYTE_STRING,f.snapshotVersion)),zS(s,u);const p=new Ki(f.target,u,c,f.sequenceNumber);Yg(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){Q(is,"Failed to raise snapshot:",i),await Rc(t,i)}}async function Rc(t,e,n){if(!Ia(e))throw e;t.Ia.add(1),await Tl(t),t.Aa.set("Offline"),n||(n=()=>jS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(is,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await gh(t)})}function qS(t,e){return e().catch(n=>Rc(t,n,e))}async function mh(t){const e=te(t),n=vr(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Mg;for(;PN(e);)try{const r=await bN(e.localStore,i);if(r===null){e.Pa.length===0&&n.B_();break}i=r.batchId,zN(e,r)}catch(r){await Rc(e,r)}HS(e)&&FS(e)}function PN(t){return ds(t)&&t.Pa.length<10}function zN(t,e){t.Pa.push(e);const n=vr(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function HS(t){return ds(t)&&!vr(t).M_()&&t.Pa.length>0}function FS(t){vr(t).start()}async function BN(t){vr(t).na()}async function qN(t){const e=vr(t);for(const n of t.Pa)e.X_(n.mutations)}async function HN(t,e,n){const i=t.Pa.shift(),r=Pg.from(i,e,n);await qS(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await mh(t)}async function FN(t,e){e&&vr(t).Z_&&await async function(i,r){if(function(a){return w4(a)&&a!==j.ABORTED}(r.code)){const s=i.Pa.shift();vr(i).N_(),await qS(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await mh(i)}}(t,e),HS(t)&&FS(t)}async function d0(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),Q(is,"RemoteStore received new credentials");const i=ds(n);n.Ia.add(3),await Tl(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await gh(n)}async function GN(t,e){const n=te(t);e?(n.Ia.delete(2),await gh(n)):e||(n.Ia.add(2),await Tl(n),n.Aa.set("Unknown"))}function Da(t){return t.Va||(t.Va=function(n,i,r){const s=te(n);return s.ia(),new CN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:kN.bind(null,t),e_:jN.bind(null,t),n_:UN.bind(null,t),J_:LN.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Xg(t)?Kg(t):t.Aa.set("Unknown")):(await t.Va.stop(),BS(t))})),t.Va}function vr(t){return t.ma||(t.ma=function(n,i,r){const s=te(n);return s.ia(),new DN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:BN.bind(null,t),n_:FN.bind(null,t),ea:qN.bind(null,t),ta:HN.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await mh(t)):(await t.ma.stop(),t.Pa.length>0&&(Q(is,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,l=new $g(e,n,a,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wg(t,e){if(bi("AsyncQueue",`${e}: ${t}`),Ia(t))return new F(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{static emptySet(e){return new Xs(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Y.comparator(n.key,i.key):(n,i)=>Y.comparator(n.key,i.key),this.keyedMap=io(),this.sortedSet=new ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Xs;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.fa=new ze(Y.comparator)}track(e){const n=e.doc.key,i=this.fa.get(n);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(n,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(n):e.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):X(63341,{At:e,ga:i}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,i)=>{e.push(i)}),e}}class da{constructor(e,n,i,r,s,a,l,u,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new da(e,n,Xs.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class YN{constructor(){this.queries=g0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const r=te(n),s=r.queries;r.queries=g0(),s.forEach((a,l)=>{for(const u of l.wa)u.onError(i)})})(this,new F(j.ABORTED,"Firestore shutting down"))}}function g0(){return new fs(t=>cS(t),uh)}async function Jg(t,e){const n=te(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.Sa()&&e.ba()&&(i=2):(s=new QN,i=e.ba()?0:1);try{switch(i){case 0:s.ya=await n.onListen(r,!0);break;case 1:s.ya=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Wg(a,`Initialization of query '${As(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&em(n)}async function Zg(t,e){const n=te(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?r=e.ba()?0:1:!s.Sa()&&e.ba()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function KN(t,e){const n=te(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.wa)l.Ca(r)&&(i=!0);a.ya=r}}i&&em(n)}function XN(t,e,n){const i=te(t),r=i.queries.get(e);if(r)for(const s of r.wa)s.onError(n);i.queries.delete(e)}function em(t){t.Da.forEach(e=>{e.next()})}var hp,m0;(m0=hp||(hp={})).Fa="default",m0.Cache="cache";class tm{constructor(e,n,i){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new da(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const i=n!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.key=e}}class QS{constructor(e){this.key=e}}class $N{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=hS(e),this.eu=new Xs(this.Xa)}get tu(){return this.Ha}nu(e,n){const i=n?n.ru:new p0,r=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,p)=>{const g=r.get(f),_=ch(this.query,p)?p:null,R=!!g&&this.mutatedKeys.has(g.key),O=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let D=!1;g&&_?g.data.isEqual(_.data)?R!==O&&(i.track({type:3,doc:_}),D=!0):this.iu(g,_)||(i.track({type:2,doc:_}),D=!0,(u&&this.Xa(_,u)>0||c&&this.Xa(_,c)<0)&&(l=!0)):!g&&_?(i.track({type:0,doc:_}),D=!0):g&&!_&&(i.track({type:1,doc:g}),D=!0,(u||c)&&(l=!0)),D&&(_?(a=a.add(_),s=O?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{eu:a,ru:i,Ds:l,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((f,p)=>function(_,R){const O=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{At:D})}};return O(_)-O(R)}(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(i),r=r!=null&&r;const l=n&&!r?this.ou():[],u=this.Za.size===0&&this.current&&!r?1:0,c=u!==this.Ya;return this.Ya=u,a.length!==0||c?{snapshot:new da(this.query,e.eu,s,a,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new p0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ue(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const n=[];return e.forEach(i=>{this.Za.has(i)||n.push(new QS(i))}),this.Za.forEach(i=>{e.has(i)||n.push(new GS(i))}),n}uu(e){this.Ha=e.qs,this.Za=ue();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return da.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const nm="SyncEngine";class WN{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class JN{constructor(e){this.key=e,this.lu=!1}}class ZN{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new fs(l=>cS(l),uh),this.Tu=new Map,this.Iu=new Set,this.du=new ze(Y.comparator),this.Eu=new Map,this.Au=new qg,this.Ru={},this.Vu=new Map,this.mu=fa.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function eM(t,e,n=!0){const i=JS(t);let r;const s=i.Pu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.cu()):r=await YS(i,e,n,!0),r}async function tM(t,e){const n=JS(t);await YS(n,e,!0,!1)}async function YS(t,e,n,i){const r=await TN(t.localStore,Ln(e)),s=r.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await nM(t,e,s,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&PS(t.remoteStore,r),l}async function nM(t,e,n,i,r){t.gu=(p,g,_)=>async function(O,D,S,E){let w=D.view.nu(S);w.Ds&&(w=await l0(O.localStore,D.query,!1).then(({documents:T})=>D.view.nu(T,w)));const M=E&&E.targetChanges.get(D.targetId),P=E&&E.targetMismatches.get(D.targetId)!=null,B=D.view.applyChanges(w,O.isPrimaryClient,M,P);return v0(O,D.targetId,B._u),B.snapshot}(t,p,g,_);const s=await l0(t.localStore,e,!0),a=new $N(e,s.qs),l=a.nu(s.documents),u=bl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=a.applyChanges(l,t.isPrimaryClient,u);v0(t,n,c._u);const f=new WN(e,n,a);return t.Pu.set(e,f),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function iM(t,e,n){const i=te(t),r=i.Pu.get(e),s=i.Tu.get(r.targetId);if(s.length>1)return i.Tu.set(r.targetId,s.filter(a=>!uh(a,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await up(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Qg(i.remoteStore,r.targetId),fp(i,r.targetId)}).catch(Ra)):(fp(i,r.targetId),await up(i.localStore,r.targetId,!0))}async function rM(t,e){const n=te(t),i=n.Pu.get(e),r=n.Tu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Qg(n.remoteStore,i.targetId))}async function sM(t,e,n){const i=fM(t);try{const r=await function(a,l){const u=te(a),c=Ve.now(),f=l.reduce((_,R)=>_.add(R.key),ue());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let R=Ti(),O=ue();return u.Os.getEntries(_,f).next(D=>{R=D,R.forEach((S,E)=>{E.isValidDocument()||(O=O.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,R)).next(D=>{p=D;const S=[];for(const E of l){const w=T4(E,p.get(E.key).overlayedDocument);w!=null&&S.push(new xr(E.key,w,nS(w.value.mapValue),Pn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,S,l)}).next(D=>{g=D;const S=D.applyToLocalDocumentSet(p,O);return u.documentOverlayCache.saveOverlays(_,D.batchId,S)})}).then(()=>({batchId:g.batchId,changes:dS(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let c=a.Ru[a.currentUser.toKey()];c||(c=new ze(se)),c=c.insert(l,u),a.Ru[a.currentUser.toKey()]=c}(i,r.batchId,n),await El(i,r.changes),await mh(i.remoteStore)}catch(r){const s=Wg(r,"Failed to persist write");n.reject(s)}}async function KS(t,e){const n=te(t);try{const i=await vN(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.Eu.get(s);a&&(ye(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.lu=!0:r.modifiedDocuments.size>0?ye(a.lu,14607):r.removedDocuments.size>0&&(ye(a.lu,42227),a.lu=!1))}),await El(n,i,e)}catch(i){await Ra(i)}}function y0(t,e,n){const i=te(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Pu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=te(a);u.onlineState=l;let c=!1;u.queries.forEach((f,p)=>{for(const g of p.wa)g.va(l)&&(c=!0)}),c&&em(u)}(i.eventManager,e),r.length&&i.hu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function aM(t,e,n){const i=te(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Eu.get(e),s=r&&r.key;if(s){let a=new ze(Y.comparator);a=a.insert(s,It.newNoDocument(s,ee.min()));const l=ue().add(s),u=new dh(ee.min(),new Map,new ze(se),a,l);await KS(i,u),i.du=i.du.remove(s),i.Eu.delete(e),im(i)}else await up(i.localStore,e,!1).then(()=>fp(i,e,n)).catch(Ra)}async function oM(t,e){const n=te(t),i=e.batch.batchId;try{const r=await yN(n.localStore,e);$S(n,i,null),XS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await El(n,r)}catch(r){await Ra(r)}}async function lM(t,e,n){const i=te(t);try{const r=await function(a,l){const u=te(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(ye(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(i.localStore,e);$S(i,e,n),XS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await El(i,r)}catch(r){await Ra(r)}}function XS(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function $S(t,e,n){const i=te(t);let r=i.Ru[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ru[i.currentUser.toKey()]=r}}function fp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Tu.get(e))t.Pu.delete(i),n&&t.hu.pu(i,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(i=>{t.Au.containsKey(i)||WS(t,i)})}function WS(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Qg(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),im(t))}function v0(t,e,n){for(const i of n)i instanceof GS?(t.Au.addReference(i.key,e),uM(t,i)):i instanceof QS?(Q(nm,"Document no longer in limbo: "+i.key),t.Au.removeReference(i.key,e),t.Au.containsKey(i.key)||WS(t,i.key)):X(19791,{yu:i})}function uM(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Iu.has(i)||(Q(nm,"New document in limbo: "+n),t.Iu.add(i),im(t))}function im(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Y(Ie.fromString(e)),i=t.mu.next();t.Eu.set(i,new JN(n)),t.du=t.du.insert(n,i),PS(t.remoteStore,new Ki(Ln(lh(n.path)),i,"TargetPurposeLimboResolution",sh.ue))}}async function El(t,e,n){const i=te(t),r=[],s=[],a=[];i.Pu.isEmpty()||(i.Pu.forEach((l,u)=>{a.push(i.gu(u,e,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const p=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){r.push(c);const p=Fg.Es(u.targetId,c);s.push(p)}}))}),await Promise.all(a),i.hu.J_(r),await async function(u,c){const f=te(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(c,g=>L.forEach(g.Is,_=>f.persistence.referenceDelegate.addReference(p,g.targetId,_)).next(()=>L.forEach(g.ds,_=>f.persistence.referenceDelegate.removeReference(p,g.targetId,_)))))}catch(p){if(!Ia(p))throw p;Q(Gg,"Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const _=f.Fs.get(g),R=_.snapshotVersion,O=_.withLastLimboFreeSnapshotVersion(R);f.Fs=f.Fs.insert(g,O)}}}(i.localStore,s))}async function cM(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){Q(nm,"User change. New user:",e.toKey());const i=await kS(n.localStore,e);n.currentUser=e,function(s,a){s.Vu.forEach(l=>{l.forEach(u=>{u.reject(new F(j.CANCELLED,a))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await El(n,i.Bs)}}function hM(t,e){const n=te(t),i=n.Eu.get(e);if(i&&i.lu)return ue().add(i.key);{let r=ue();const s=n.Tu.get(e);if(!s)return r;for(const a of s){const l=n.Pu.get(a);r=r.unionWith(l.view.tu)}return r}}function JS(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aM.bind(null,e),e.hu.J_=KN.bind(null,e.eventManager),e.hu.pu=XN.bind(null,e.eventManager),e}function fM(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lM.bind(null,e),e}class Ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ph(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return mN(this.persistence,new dN,e.initialUser,this.serializer)}Du(e){return new VS(Hg.Vi,this.serializer)}bu(e){return new SN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ic.provider={build:()=>new Ic};class dM extends Ic{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ye(this.persistence.referenceDelegate instanceof wc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new J4(i,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Ht.withCacheSize(this.cacheSizeBytes):Ht.DEFAULT;return new VS(i=>wc.Vi(i,n),this.serializer)}}class dp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>y0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=cM.bind(null,this.syncEngine),await GN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YN}()}createDatastore(e){const n=ph(e.databaseInfo.databaseId),i=function(s){return new IN(s)}(e.databaseInfo);return function(s,a,l,u){return new NN(s,a,l,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,a,l){return new VN(i,r,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>y0(this.syncEngine,n,0),function(){return h0.C()?new h0:new AN}())}createSyncEngine(e,n){return function(r,s,a,l,u,c,f){const p=new ZN(r,s,a,l,u,c);return f&&(p.fu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=te(r);Q(is,"RemoteStore shutting down."),s.Ia.add(5),await Tl(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dp.provider={build:()=>new dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="FirestoreClient";class pM{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Rt.UNAUTHENTICATED,this.clientId=Ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{Q(_r,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(Q(_r,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Wg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Hf(t,e){t.asyncQueue.verifyOperationInProgress(),Q(_r,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await kS(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>{dr("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Q("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{dr("Terminating Firestore due to IndexedDb database deletion failed",r)})}),t._offlineComponents=e}async function _0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gM(t);Q(_r,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>d0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>d0(e.remoteStore,r)),t._onlineComponents=e}async function gM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(_r,"Using user provided OfflineComponentProvider");try{await Hf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===j.FAILED_PRECONDITION||r.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;dr("Error using user provided cache. Falling back to memory cache: "+n),await Hf(t,new Ic)}}else Q(_r,"Using default OfflineComponentProvider"),await Hf(t,new dM(void 0));return t._offlineComponents}async function ZS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(_r,"Using user provided OnlineComponentProvider"),await _0(t,t._uninitializedComponentsProvider._online)):(Q(_r,"Using default OnlineComponentProvider"),await _0(t,new dp))),t._onlineComponents}function mM(t){return ZS(t).then(e=>e.syncEngine)}async function Cc(t){const e=await ZS(t),n=e.eventManager;return n.onListen=eM.bind(null,e.syncEngine),n.onUnlisten=iM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rM.bind(null,e.syncEngine),n}function yM(t,e,n={}){const i=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,c){const f=new rm({next:g=>{f.Ou(),a.enqueueAndForget(()=>Zg(s,p));const _=g.docs.has(l);!_&&g.fromCache?c.reject(new F(j.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&u&&u.source==="server"?c.reject(new F(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new tm(lh(l.path),f,{includeMetadataChanges:!0,ka:!0});return Jg(s,p)}(await Cc(t),t.asyncQueue,e,n,i)),i.promise}function vM(t,e,n={}){const i=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,c){const f=new rm({next:g=>{f.Ou(),a.enqueueAndForget(()=>Zg(s,p)),g.fromCache&&u.source==="server"?c.reject(new F(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new tm(l,f,{includeMetadataChanges:!0,ka:!0});return Jg(s,p)}(await Cc(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firestore.googleapis.com",T0=!0;class E0{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new F(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tA,this.ssl=T0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:T0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$4)throw new F(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new xO;switch(i.type){case"firstParty":return new CO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new F(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=b0.get(n);i&&(Q("ComponentProvider","Removing Datastore"),b0.delete(n),i.terminate())}(this),Promise.resolve()}}function _M(t,e,n,i={}){var r;t=Rn(t,yh);const s=Sa(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;s&&(JE(`https://${u}`),ZE("Firestore",!0)),a.host!==tA&&a.host!==u&&dr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:i});if(!Zr(c,l)&&(t._setSettings(c),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Rt.MOCK_USER;else{f=WR(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new F(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Rt(g)}t._authCredentials=new wO(new H1(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new xi(this.firestore,e,this._query)}}class Ye{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(vl(n,Ye._jsonSchema))return new Ye(e,i||null,new Y(Ie.fromString(n.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:it("string",Ye._jsonSchemaVersion),referencePath:it("string")};class lr extends xi{constructor(e,n,i){super(e,n,lh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new Y(e))}withConverter(e){return new lr(this.firestore,e,this._path)}}function _n(t,e,...n){if(t=Dt(t),G1("collection","path",e),t instanceof yh){const i=Ie.fromString(e,...n);return k_(i),new lr(t,null,i)}{if(!(t instanceof Ye||t instanceof lr))throw new F(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ie.fromString(e,...n));return k_(i),new lr(t.firestore,null,i)}}function Sl(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=Ng.newId()),G1("doc","path",e),t instanceof yh){const i=Ie.fromString(e,...n);return V_(i),new Ye(t,null,new Y(i))}{if(!(t instanceof Ye||t instanceof lr))throw new F(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ie.fromString(e,...n));return V_(i),new Ye(t.firestore,t instanceof lr?t.converter:null,new Y(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="AsyncQueue";class A0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new US(this,"async_queue_retry"),this.oc=()=>{const i=qf();i&&Q(S0,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const n=qf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=qf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new fi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ia(e))throw e;Q(S0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,bi("INTERNAL UNHANDLED ERROR: ",x0(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(e,n,i){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const r=$g.createAndSchedule(this,e,n,i,s=>this.lc(s));return this.ec.push(r),r}ac(){this.tc&&X(47125,{hc:x0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function x0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}class rs extends yh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new A0,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A0(e),this._firestoreClient=void 0,await e}}}function bM(t,e){const n=typeof t=="object"?t:i1(),i=typeof t=="string"?t:bc,r=_g(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=XR("firestore");s&&_M(r,...s)}return r}function vh(t){if(t._terminated)throw new F(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TM(t),t._firestoreClient}function TM(t){var e,n,i;const r=t._freezeSettings(),s=function(l,u,c,f){return new GO(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,eA(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new pM(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gn(bt.fromBase64String(e))}catch(n){throw new F(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gn(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vl(e,gn._jsonSchema))return gn.fromBase64String(e.bytes)}}gn._jsonSchemaVersion="firestore/bytes/1.0",gn._jsonSchema={type:it("string",gn._jsonSchemaVersion),bytes:it("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bn._jsonSchemaVersion}}static fromJSON(e){if(vl(e,Bn._jsonSchema))return new Bn(e.latitude,e.longitude)}}Bn._jsonSchemaVersion="firestore/geoPoint/1.0",Bn._jsonSchema={type:it("string",Bn._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:qn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vl(e,qn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new qn(e.vectorValues);throw new F(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qn._jsonSchemaVersion="firestore/vectorValue/1.0",qn._jsonSchema={type:it("string",qn._jsonSchemaVersion),vectorValues:it("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=/^__.*__$/;class SM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new _l(e,this.data,n,this.fieldTransforms)}}class nA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ec:t})}}class sm{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new sm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Rc({path:i,mc:!1});return r.fc(e),r}gc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Dc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(iA(this.Ec)&&EM.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class AM{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||ph(e)}Dc(e,n,i,r=!1){return new sm({Ec:e,methodName:n,bc:i,path:yt.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function am(t){const e=t._freezeSettings(),n=ph(t._databaseId);return new AM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xM(t,e,n,i,r,s={}){const a=t.Dc(s.merge||s.mergeFields?2:0,e,n,r);lm("Data must be an object, but it was:",a,i);const l=rA(i,a);let u,c;if(s.merge)u=new Zt(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const g=pp(e,p,n);if(!a.contains(g))throw new F(j.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);aA(f,g)||f.push(g)}u=new Zt(f),c=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=a.fieldTransforms;return new SM(new Ft(l),u,c)}class Th extends bh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Th}}class om extends bh{_toFieldTransform(e){return new y4(e.path,new $o)}isEqual(e){return e instanceof om}}function wM(t,e,n,i){const r=t.Dc(1,e,n);lm("Data must be an object, but it was:",r,i);const s=[],a=Ft.empty();Ar(i,(u,c)=>{const f=um(e,u,n);c=Dt(c);const p=r.gc(f);if(c instanceof Th)s.push(f);else{const g=Al(c,p);g!=null&&(s.push(f),a.set(f,g))}});const l=new Zt(s);return new nA(a,l,r.fieldTransforms)}function RM(t,e,n,i,r,s){const a=t.Dc(1,e,n),l=[pp(e,i,n)],u=[r];if(s.length%2!=0)throw new F(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(pp(e,s[g])),u.push(s[g+1]);const c=[],f=Ft.empty();for(let g=l.length-1;g>=0;--g)if(!aA(c,l[g])){const _=l[g];let R=u[g];R=Dt(R);const O=a.gc(_);if(R instanceof Th)c.push(_);else{const D=Al(R,O);D!=null&&(c.push(_),f.set(_,D))}}const p=new Zt(c);return new nA(f,p,a.fieldTransforms)}function IM(t,e,n,i=!1){return Al(n,t.Dc(i?4:3,e))}function Al(t,e){if(sA(t=Dt(t)))return lm("Unsupported field value:",e,t),rA(t,e);if(t instanceof bh)return function(i,r){if(!iA(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=Al(l,r.yc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Dt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return p4(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ve.fromDate(i);return{timestampValue:xc(r.serializer,s)}}if(i instanceof Ve){const s=new Ve(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:xc(r.serializer,s)}}if(i instanceof Bn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gn)return{bytesValue:wS(r.serializer,i._byteString)};if(i instanceof Ye){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Bg(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof qn)return function(a,l){return{mapValue:{fields:{[eS]:{stringValue:tS},[Tc]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.wc("VectorValues must only contain numeric values.");return Lg(l.serializer,c)})}}}}}}(i,r);throw r.wc(`Unsupported field value: ${rh(i)}`)}(t,e)}function rA(t,e){const n={};return K1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ar(t,(i,r)=>{const s=Al(r,e.Vc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function sA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof Bn||t instanceof gn||t instanceof Ye||t instanceof bh||t instanceof qn)}function lm(t,e,n){if(!sA(n)||!Q1(n)){const i=rh(n);throw i==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+i)}}function pp(t,e,n){if((e=Dt(e))instanceof _h)return e._internalPath;if(typeof e=="string")return um(t,e);throw Dc("Field path arguments must be of type string or ",t,!1,void 0,n)}const CM=new RegExp("[~\\*/\\[\\]]");function um(t,e,n){if(e.search(CM)>=0)throw Dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _h(...e.split("."))._internalPath}catch{throw Dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dc(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new F(j.INVALID_ARGUMENT,l+t+u)}function aA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Eh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DM extends oA{data(){return super.data()}}function Eh(t,e){return typeof e=="string"?um(t,e):e instanceof _h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cm{}class hm extends cm{}function br(t,e,...n){let i=[];e instanceof cm&&i.push(e),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof fm).length,l=s.filter(u=>u instanceof Sh).length;if(a>1||a>0&&l>0)throw new F(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class Sh extends hm{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Sh(e,n,i)}_apply(e){const n=this._parse(e);return uA(e._query,n),new xi(e.firestore,e.converter,rp(e._query,n))}_parse(e){const n=am(e.firestore);return function(s,a,l,u,c,f,p){let g;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new F(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){I0(p,f);const R=[];for(const O of p)R.push(R0(u,s,O));g={arrayValue:{values:R}}}else g=R0(u,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||I0(p,f),g=IM(l,a,p,f==="in"||f==="not-in");return tt.create(c,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pa(t,e,n){const i=e,r=Eh("where",t);return Sh._create(r,i,n)}class fm extends cm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fm(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:In.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)uA(a,u),a=rp(a,u)}(e._query,n),new xi(e.firestore,e.converter,rp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dm extends hm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dm(e,n)}_apply(e){const n=function(r,s,a){if(r.startAt!==null)throw new F(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new F(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xo(s,a)}(e._query,this._field,this._direction);return new xi(e.firestore,e.converter,function(r,s){const a=r.explicitOrderBy.concat([s]);return new Ca(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function xl(t,e="asc"){const n=e,i=Eh("orderBy",t);return dm._create(i,n)}class pm extends hm{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new pm(e,n,i)}_apply(e){return new xi(e.firestore,e.converter,Sc(e._query,this._limit,this._limitType))}}function OM(t){return pm._create("limit",t,"F")}function R0(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new F(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uS(e)&&n.indexOf("/")!==-1)throw new F(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ie.fromString(n));if(!Y.isDocumentKey(i))throw new F(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return H_(t,new Y(i))}if(n instanceof Ye)return H_(t,n._key);throw new F(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rh(n)}.`)}function I0(t,e){if(!Array.isArray(t)||t.length===0)throw new F(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uA(t,e){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class NM{convertValue(e,n="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ar(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n[Tc].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>Ge(a.doubleValue));return new qn(s)}convertGeoPoint(e){return new Bn(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=oh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Qo(e));default:return null}}convertTimestamp(e){const n=gr(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ie.fromString(e);ye(NS(i),9688,{name:e});const r=new Yo(i.get(1),i.get(3)),s=new Y(i.popFirst(5));return r.isEqual(n)||bi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class so{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qr extends oA{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Eh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new F(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:it("string",Qr._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};class ku extends Qr{data(e={}){return super.data(e)}}class Yr{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new so(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ku(this._firestore,this._userDataWriter,i.key,i,new so(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new ku(r._firestore,r._userDataWriter,l.doc.key,l.doc,new so(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new ku(r._firestore,r._userDataWriter,l.doc.key,l.doc,new so(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,f=-1;return l.type!==0&&(c=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:VM(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new F(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Yr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){t=Rn(t,Ye);const e=Rn(t.firestore,rs);return yM(vh(e),t._key).then(n=>hA(e,t,n))}Yr._jsonSchemaVersion="firestore/querySnapshot/1.0",Yr._jsonSchema={type:it("string",Yr._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};class gm extends NM{constructor(e){super(),this.firestore=e}convertBytes(e){return new gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,n)}}function ss(t){t=Rn(t,xi);const e=Rn(t.firestore,rs),n=vh(e),i=new gm(e);return lA(t._query),vM(n,t._query).then(r=>new Yr(e,i,t,r))}function mm(t,e,n,...i){t=Rn(t,Ye);const r=Rn(t.firestore,rs),s=am(r);let a;return a=typeof(e=Dt(e))=="string"||e instanceof _h?RM(s,"updateDoc",t._key,e,n,i):wM(s,"updateDoc",t._key,e),cA(r,[a.toMutation(t._key,Pn.exists(!0))])}function Ah(t,e){const n=Rn(t.firestore,rs),i=Sl(t),r=MM(t.converter,e);return cA(n,[xM(am(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Pn.exists(!1))]).then(()=>i)}function jM(t,...e){var n,i,r;t=Dt(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||w0(e[a])||(s=e[a++]);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(w0(e[a])){const p=e[a];e[a]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[a+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),e[a+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}let u,c,f;if(t instanceof Ye)c=Rn(t.firestore,rs),f=lh(t._key.path),u={next:p=>{e[a]&&e[a](hA(c,t,p))},error:e[a+1],complete:e[a+2]};else{const p=Rn(t,xi);c=Rn(p.firestore,rs),f=p._query;const g=new gm(c);u={next:_=>{e[a]&&e[a](new Yr(c,g,p,_))},error:e[a+1],complete:e[a+2]},lA(t._query)}return function(g,_,R,O){const D=new rm(O),S=new tm(_,D,R);return g.asyncQueue.enqueueAndForget(async()=>Jg(await Cc(g),S)),()=>{D.Ou(),g.asyncQueue.enqueueAndForget(async()=>Zg(await Cc(g),S))}}(vh(c),f,l,u)}function cA(t,e){return function(i,r){const s=new fi;return i.asyncQueue.enqueueAndForget(async()=>sM(await mM(i),r,s)),s.promise}(vh(t),e)}function hA(t,e,n){const i=n.docs.get(e._key),r=new gm(t);return new Qr(t,r,e._key,i,new so(n.hasPendingWrites,n.fromCache),e.converter)}function Ei(){return new om("serverTimestamp")}(function(e,n=!0){(function(r){wa=r})(Aa),oa(new es("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new rs(new RO(i.getProvider("auth-internal")),new DO(a,i.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new F(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(c.options.projectId,f)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ar(C_,D_,e),ar(C_,D_,"esm2017")})();const UM={apiKey:"AIzaSyAJ5jAARBVNimSc4W6F2d0hVNwgkhtaWX0",authDomain:"hangout-673c1.firebaseapp.com",projectId:"hangout-673c1",storageBucket:"hangout-673c1.firebasestorage.app",messagingSenderId:"662234246980",appId:"1:662234246980:web:3763ec326b9563fecf3111"},fA=n1(UM),LM=SO(fA),Ot=bM(fA),PM=new ii,zM=async()=>{try{const e=(await ND(LM,PM)).user,n={email:e.email,name:e.displayName,uid:e.uid,photo:e.photoURL,phone:e.phoneNumber||""};return localStorage.setItem("hanggOutUser",JSON.stringify(n)),n}catch(t){throw console.error("Google sign-in error:",t),t}},BM=()=>{const t=localStorage.getItem("hanggOutUser");return t?JSON.parse(t):null},qM=()=>{localStorage.removeItem("hanggOutUser")},wl=()=>{const[t,e]=k.useState(null),[n,i]=k.useState(!0);return k.useEffect(()=>{const r=BM();e(r),i(!1)},[]),{user:t,loading:n}},C0="/Hanggout/assets/Hang2-BSB2Y21A.png";function HM(){const t=Dn(),{user:e}=wl(),[n,i]=k.useState(!1),r=k.useRef(null);k.useEffect(()=>{function a(l){r.current&&!r.current.contains(l.target)&&i(!1)}return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]);const s=()=>{qM(),i(!1),t("/"),window.location.reload()};return m.jsx("header",{style:Re.header,children:m.jsxs("div",{className:"container",style:Re.headerContent,children:[m.jsxs("div",{style:Re.logo,onClick:()=>t("/"),children:[m.jsx("img",{src:C0,alt:"Hangg-Out",style:Re.logoImg}),m.jsx("span",{style:Re.logoText,children:"Hangg-Out"})]}),m.jsx("nav",{style:Re.nav,children:e?m.jsxs("div",{style:Re.profileSection,ref:r,children:[m.jsxs("button",{style:{...Re.profileBtn,...n?Re.profileBtnActive:{}},onClick:()=>i(!n),children:[m.jsx("img",{src:e.photo||C0,alt:e.name,style:Re.profileImg}),m.jsx("span",{children:e.name}),m.jsx("span",{style:{...Re.arrowIcon,transform:n?"rotate(180deg)":"rotate(0deg)"},children:""})]}),n&&m.jsxs("div",{style:Re.dropdown,children:[m.jsx("div",{style:Re.dropdownArrow}),m.jsxs("button",{style:Re.dropdownItem,onClick:()=>{t("/profile"),i(!1)},onMouseEnter:a=>{a.currentTarget.style.background="rgba(255, 214, 10, 0.1)",a.currentTarget.style.paddingLeft="24px"},onMouseLeave:a=>{a.currentTarget.style.background="none",a.currentTarget.style.paddingLeft="20px"},children:[m.jsx("span",{style:Re.itemIcon,children:""}),m.jsx("span",{children:"Profile"})]}),m.jsxs("button",{style:Re.dropdownItem,onClick:()=>{t("/my-vacants"),i(!1)},onMouseEnter:a=>{a.currentTarget.style.background="rgba(255, 214, 10, 0.1)",a.currentTarget.style.paddingLeft="24px"},onMouseLeave:a=>{a.currentTarget.style.background="none",a.currentTarget.style.paddingLeft="20px"},children:[m.jsx("span",{style:Re.itemIcon,children:""}),m.jsx("span",{children:"My Vacants"})]}),m.jsxs("button",{style:Re.dropdownItem,onClick:()=>{t("/your-requests"),i(!1)},onMouseEnter:a=>{a.currentTarget.style.background="rgba(255, 214, 10, 0.1)",a.currentTarget.style.paddingLeft="24px"},onMouseLeave:a=>{a.currentTarget.style.background="none",a.currentTarget.style.paddingLeft="20px"},children:[m.jsx("span",{style:Re.itemIcon,children:""}),m.jsx("span",{children:"My Requests"})]}),m.jsxs("button",{style:Re.dropdownItem,onClick:()=>{t("/create-vacant"),i(!1)},onMouseEnter:a=>{a.currentTarget.style.background="rgba(255, 214, 10, 0.1)",a.currentTarget.style.paddingLeft="24px"},onMouseLeave:a=>{a.currentTarget.style.background="none",a.currentTarget.style.paddingLeft="20px"},children:[m.jsx("span",{style:Re.itemIcon,children:""}),m.jsx("span",{children:"Create Vacant"})]}),m.jsx("div",{style:Re.divider}),m.jsxs("button",{style:Re.logoutItem,onClick:s,onMouseEnter:a=>{a.currentTarget.style.background="linear-gradient(135deg, #ff4757 0%, #ff6348 100%)",a.currentTarget.style.paddingLeft="24px",a.currentTarget.style.boxShadow="0 4px 15px rgba(255, 71, 87, 0.4)";const l=a.currentTarget.querySelector("[data-logout-icon]");l&&(l.style.transform="rotate(20deg) scale(1.15)")},onMouseLeave:a=>{a.currentTarget.style.background="rgba(255, 107, 107, 0.08)",a.currentTarget.style.paddingLeft="20px",a.currentTarget.style.boxShadow="none";const l=a.currentTarget.querySelector("[data-logout-icon]");l&&(l.style.transform="rotate(0deg) scale(1)")},children:[m.jsx("span",{style:Re.logoutIcon,"data-logout-icon":!0,children:""}),m.jsx("span",{style:Re.logoutText,children:"Logout"})]})]})]}):m.jsx("button",{style:Re.btnLogin,onClick:()=>t("/login"),children:"Login"})})]})})}const Re={header:{background:"var(--bg-card)",borderBottom:"1px solid var(--border)",padding:"16px 0",position:"sticky",top:0,opacity:.98,zIndex:1e3},headerContent:{display:"flex",justifyContent:"space-between",alignItems:"center"},logo:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"25px",fontWeight:"bold",background:"linear-gradient(267deg, #da7c25 .36%, #b923e1 102.06%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},logoImg:{height:"65px",width:"95px",opacity:.8,borderRadius:"80px"},logoText:{color:"var(--yellow)"},nav:{display:"flex",alignItems:"center",gap:"16px"},btnLogin:{background:"var(--yellow)",color:"var(--bg-black)",border:"none",padding:"10px 20px",borderRadius:"var(--radius)",fontWeight:"600",cursor:"pointer",fontSize:"14px"},profileSection:{position:"relative"},profileBtn:{display:"flex",alignItems:"center",gap:"8px",background:"transparent",border:"1px solid transparent",color:"var(--white)",cursor:"pointer",padding:"8px 16px",borderRadius:"var(--radius)",fontSize:"14px",transition:"all 0.2s ease",position:"relative"},profileBtnActive:{background:"rgba(255, 214, 10, 0.1)",borderColor:"var(--yellow)"},profileImg:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid var(--yellow)",objectFit:"cover"},arrowIcon:{fontSize:"12px",marginLeft:"4px",transition:"transform 0.3s ease",color:"var(--yellow)"},dropdown:{position:"absolute",top:"calc(100% + 15px)",right:0,background:"var(--bg-black)",border:"1px solid var(--border)",borderRadius:"12px",minWidth:"240px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)",overflow:"hidden",zIndex:1001,marginTop:"0"},dropdownArrow:{position:"absolute",top:"-8px",right:"20px",width:"16px",height:"16px",background:"var(--bg-black)",borderTop:"1px solid var(--border)",borderLeft:"1px solid var(--border)",transform:"rotate(45deg)",zIndex:1},dropdownItem:{display:"flex",alignItems:"center",gap:"12px",width:"100%",padding:"14px 20px",background:"none",border:"none",color:"var(--white)",textAlign:"left",cursor:"pointer",fontSize:"14px",borderBottom:"1px solid rgba(255, 255, 255, 0.05)",transition:"all 0.3s ease",fontWeight:"500",position:"relative",zIndex:2},itemIcon:{fontSize:"18px",display:"flex",alignItems:"center",justifyContent:"center",width:"20px"},divider:{height:"1px",background:"rgba(255, 255, 255, 0.1)",margin:"8px 0"},logoutItem:{display:"flex",alignItems:"center",gap:"12px",width:"100%",padding:"14px 20px",background:"rgba(255, 107, 107, 0.08)",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",transition:"all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)",fontWeight:"600",borderTop:"1px solid rgba(255, 107, 107, 0.2)",position:"relative",zIndex:2},logoutIcon:{fontSize:"18px",display:"flex",alignItems:"center",justifyContent:"center",width:"20px",transition:"transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},logoutText:{color:"white",fontWeight:"700",letterSpacing:"0.5px",textTransform:"uppercase",fontSize:"13px"}},FM=async(t,e)=>{try{console.log("Creating vacant with data:",t);const n={...t,creatorUid:e,createdAt:Ei(),status:"open",applicants:[],requiredPersons:Number(t.requiredPersons)},i=await Ah(_n(Ot,"vacants"),n);return console.log("Vacant created successfully with ID:",i.id),i.id}catch(n){throw console.error("Error creating vacant:",n),console.error("Error details:",n.message),n}},Oc=async t=>{try{const e=Sl(Ot,"vacants",t),n=await kM(e);return n.exists()?{id:n.id,...n.data()}:(console.log("No vacant found with ID:",t),null)}catch(e){throw console.error("Error getting vacant:",e),e}},GM=async()=>{try{const t=br(_n(Ot,"vacants"),xl("createdAt","desc")),n=(await ss(t)).docs.map(i=>({id:i.id,...i.data()}));return console.log(`Fetched ${n.length} vacants`),n}catch(t){throw console.error("Error getting vacants:",t),t}},QM=async t=>{try{const e=br(_n(Ot,"vacants"),pa("creatorUid","==",t),xl("createdAt","desc"));return(await ss(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(e){throw console.error("Error getting user vacants:",e),e}},YM=async(t,e)=>{try{const n=Sl(Ot,"users",t);await mm(n,{...e,updatedAt:Ei()}),console.log("User profile updated successfully")}catch(n){throw console.error("Error saving user profile:",n),n}},KM="/Hanggout/assets/cricket-BxLU1oue.png",XM="/Hanggout/assets/badminton-D7cv9H4e.png",$M="/Hanggout/assets/Travel-DC1ZRdFS.png",WM="/Hanggout/assets/chess-25hr7PsU.png";function JM(){var B,T;const t=Dn(),{user:e}=wl(),[n,i]=k.useState([]),[r,s]=k.useState([]),[a,l]=k.useState("all"),[u,c]=k.useState(""),[f,p]=k.useState(""),[g,_]=k.useState(!0),[R,O]=k.useState(!1),D=[{id:"all",name:"All",icon:"",isEmoji:!0},{id:"Cricket",name:"Cricket",icon:KM,isEmoji:!1},{id:"Badminton",name:"Badminton",icon:XM,isEmoji:!1},{id:"Roaming",name:"Roaming",icon:$M,isEmoji:!1},{id:"Chess",name:"Chess",icon:WM,isEmoji:!1}];k.useEffect(()=>{S()},[]),k.useEffect(()=>{E()},[n,a,u,f]),k.useEffect(()=>(R?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[R]);const S=async()=>{try{_(!0);const b=(await GM()).filter(A=>!e||A.creatorUid!==e.uid);i(b)}catch(y){console.error("Error loading vacants:",y)}finally{_(!1)}},E=()=>{let y=n;a!=="all"&&(y=y.filter(b=>b.category===a)),u&&(y=y.filter(b=>b.title.toLowerCase().includes(u.toLowerCase()))),f&&(y=y.filter(b=>b.city.toLowerCase().includes(f.toLowerCase())||b.area.toLowerCase().includes(f.toLowerCase()))),s(y)},w=()=>{t(e?"/create-vacant":"/login")},M=()=>{O(!R)},P=y=>{O(!1),t(y)};return m.jsxs("div",{style:H.container,children:[m.jsx("section",{style:H.searchSection,children:m.jsxs("div",{className:"container",style:H.searchContainer,children:[m.jsx("button",{style:H.hamburgerButton,onClick:M,"aria-label":"Toggle Menu","aria-expanded":R,children:m.jsx("span",{style:H.hamburgerIcon,children:""})}),m.jsxs("div",{style:H.searchInputWrapper,children:[m.jsx("span",{style:H.searchIcon,children:""}),m.jsx("input",{type:"text",placeholder:"Search vacants...",value:u,onChange:y=>c(y.target.value),style:H.searchInput})]}),m.jsxs("div",{style:H.locationInputWrapper,children:[m.jsx("span",{style:H.locationIcon,children:""}),m.jsx("input",{type:"text",placeholder:"Enter location...",value:f,onChange:y=>p(y.target.value),style:H.locationInput})]})]})}),m.jsx("div",{style:{...H.overlay,opacity:R?1:0,pointerEvents:R?"auto":"none"},onClick:()=>O(!1)}),m.jsxs("div",{style:{...H.sidebar,transform:R?"translateX(0)":"translateX(-100%)"},children:[m.jsxs("div",{style:H.sidebarHeader,children:[m.jsxs("div",{style:H.logoContainer,children:[m.jsx("div",{style:H.logoIcon,children:"H"}),m.jsx("h2",{style:H.logoText,children:"Hangg Out"})]}),m.jsx("button",{style:H.closeButton,onClick:()=>O(!1),"aria-label":"Close Menu",children:""})]}),e&&m.jsxs("div",{style:H.userInfo,children:[m.jsx("div",{style:H.userAvatar,children:e.photo?m.jsx("img",{src:e.photo,alt:e.name,style:H.avatarImg}):m.jsx("span",{style:H.avatarFallback,children:((B=e.name)==null?void 0:B.charAt(0).toUpperCase())||((T=e.email)==null?void 0:T.charAt(0).toUpperCase())})}),m.jsxs("div",{style:H.userDetails,children:[m.jsx("div",{style:H.userName,children:e.name||"User"}),m.jsx("div",{style:H.userEmail,children:e.email})]})]}),m.jsxs("nav",{style:H.sidebarNav,children:[m.jsxs("button",{onClick:()=>P("/"),style:H.navItem,onMouseEnter:y=>{y.currentTarget.style.background="rgba(255, 214, 10, 0.15)",y.currentTarget.style.transform="translateX(5px)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.transform="translateX(0)"},children:[m.jsx("span",{style:H.navIcon,children:""}),m.jsx("span",{children:"Home"})]}),e?m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>P("/profile"),style:H.navItem,onMouseEnter:y=>{y.currentTarget.style.background="rgba(255, 214, 10, 0.15)",y.currentTarget.style.transform="translateX(5px)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.transform="translateX(0)"},children:[m.jsx("span",{style:H.navIcon,children:""}),m.jsx("span",{children:"Profile"})]}),m.jsxs("button",{onClick:()=>P("/my-vacants"),style:H.navItem,onMouseEnter:y=>{y.currentTarget.style.background="rgba(255, 214, 10, 0.15)",y.currentTarget.style.transform="translateX(5px)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.transform="translateX(0)"},children:[m.jsx("span",{style:H.navIcon,children:""}),m.jsx("span",{children:"My Vacants"})]}),m.jsxs("button",{onClick:()=>P("/your-requests"),style:H.navItem,onMouseEnter:y=>{y.currentTarget.style.background="rgba(255, 214, 10, 0.15)",y.currentTarget.style.transform="translateX(5px)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.transform="translateX(0)"},children:[m.jsx("span",{style:H.navIcon,children:""}),m.jsx("span",{children:"My Requests"})]}),m.jsxs("button",{onClick:()=>P("/create-vacant"),style:H.navItem,onMouseEnter:y=>{y.currentTarget.style.background="rgba(255, 214, 10, 0.15)",y.currentTarget.style.transform="translateX(5px)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.transform="translateX(0)"},children:[m.jsx("span",{style:H.navIcon,children:""}),m.jsx("span",{children:"Create Vacant"})]}),m.jsx("div",{style:H.divider}),m.jsxs("button",{onClick:()=>P("/logout"),style:{...H.navItem,color:"#ff6b6b"},onMouseEnter:y=>{y.currentTarget.style.background="rgba(255, 107, 107, 0.15)",y.currentTarget.style.transform="translateX(5px)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.transform="translateX(0)"},children:[m.jsx("span",{style:H.navIcon,children:""}),m.jsx("span",{children:"Logout"})]})]}):m.jsxs("button",{onClick:()=>P("/login"),style:H.navItem,onMouseEnter:y=>{y.currentTarget.style.background="rgba(255, 214, 10, 0.15)",y.currentTarget.style.transform="translateX(5px)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.transform="translateX(0)"},children:[m.jsx("span",{style:H.navIcon,children:""}),m.jsx("span",{children:"Login"})]})]}),m.jsxs("div",{style:H.sidebarFooter,children:[m.jsx("p",{style:H.footerText,children:" 2024 Hangg Out"}),m.jsx("p",{style:H.footerSubtext,children:"Version 1.0.0"})]})]}),m.jsxs("section",{style:H.heroSection,children:[m.jsx("h1",{style:H.heroTitle,children:"Join People. Create Vacants. Hangout Together."}),m.jsx("p",{style:H.heroSubtitle,children:"Find open spots in games, trips, activities  or create your own vacant."})]}),m.jsx("section",{style:H.categorySection,children:m.jsx("div",{className:"container",children:m.jsxs("div",{style:H.categoriesGrid,children:[D.map(y=>m.jsxs("div",{style:H.tabContainer,children:[m.jsx("div",{style:{...H.tabItem,...a===y.id?H.tabItemActive:{}},onClick:()=>l(y.id),onMouseEnter:b=>{a!==y.id&&(b.currentTarget.style.transform="translateY(-5px)",b.currentTarget.style.boxShadow="0 8px 16px rgba(255, 214, 10, 0.3)")},onMouseLeave:b=>{a!==y.id&&(b.currentTarget.style.transform="translateY(0)",b.currentTarget.style.boxShadow="none")},children:y.isEmoji?m.jsx("span",{style:H.tabIconEmoji,children:y.icon}):m.jsx("img",{src:y.icon,alt:y.name,style:H.tabIconImg,onError:b=>{b.target.style.display="none"}})}),m.jsx("span",{style:H.tabName,children:y.name})]},y.id)),m.jsxs("div",{style:H.tabContainer,children:[m.jsx("div",{style:H.tabItemCreate,onClick:w,onMouseEnter:y=>{y.currentTarget.style.transform="translateY(-5px)",y.currentTarget.style.boxShadow="0 8px 16px rgba(255, 214, 10, 0.5)"},onMouseLeave:y=>{y.currentTarget.style.transform="translateY(0)",y.currentTarget.style.boxShadow="none"},children:m.jsx("span",{style:H.createIcon,children:"+"})}),m.jsx("span",{style:H.tabName,children:"Create Vacant"})]})]})})}),m.jsx("section",{style:H.vacantsSection,children:m.jsxs("div",{className:"container",children:[m.jsx("h2",{style:H.sectionTitle,children:"Available Vacants"}),g?m.jsxs("div",{style:H.loadingContainer,children:[m.jsx("div",{style:H.spinner}),m.jsx("p",{style:H.loadingText,children:"Loading vacants..."})]}):r.length===0?m.jsxs("div",{style:H.emptyState,children:[m.jsx("span",{style:H.emptyIcon,children:""}),m.jsx("p",{style:H.noResults,children:"No vacants found"}),m.jsx("p",{style:H.emptySubtext,children:"Try adjusting your search or filters"})]}):m.jsx("div",{style:H.vacantsGrid,children:r.map(y=>m.jsxs("div",{style:H.vacantCard,onClick:()=>t(`/vacant/${y.id}`),onMouseEnter:b=>{b.currentTarget.style.transform="translateY(-5px)",b.currentTarget.style.boxShadow="0 10px 20px rgba(255, 214, 10, 0.2)"},onMouseLeave:b=>{b.currentTarget.style.transform="translateY(0)",b.currentTarget.style.boxShadow="none"},children:[m.jsxs("div",{style:H.cardHeader,children:[m.jsx("h3",{style:H.cardTitle,children:y.title}),m.jsx("span",{style:H.categoryBadge,children:y.category})]}),m.jsxs("div",{style:H.cardBody,children:[m.jsxs("p",{children:[" ",y.area,", ",y.city]}),m.jsxs("p",{children:[" ",y.date," ",y.time&&` ${y.time}`]}),m.jsxs("p",{children:[" Need ",y.requiredPersons," person(s)"]}),m.jsxs("p",{style:H.creatorText,children:["By: ",y.creatorName]})]})]},y.id))})]})}),e&&m.jsx("button",{style:H.floatingButton,onClick:()=>t("/your-requests"),onMouseEnter:y=>{y.currentTarget.style.transform="scale(1.1) rotate(5deg)",y.currentTarget.style.boxShadow="0 8px 20px rgba(255, 214, 10, 0.6)"},onMouseLeave:y=>{y.currentTarget.style.transform="scale(1) rotate(0deg)",y.currentTarget.style.boxShadow="0 4px 12px rgba(255, 214, 10, 0.4)"},title:"My Requests","aria-label":"My Requests",children:m.jsx("span",{style:H.floatingButtonIcon,children:""})})]})}const H={container:{minHeight:"100vh",background:"var(--bg-black)",position:"relative"},searchSection:{background:"var(--yellow",padding:"14px 20px",marginBottom:"20px",position:"sticky",top:0,zIndex:100,boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)"},searchContainer:{display:"flex",gap:"20px",alignItems:"center",maxWidth:"1200px",margin:"0 auto",flexWrap:"wrap"},hamburgerButton:{background:"transparent",border:"none",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",borderRadius:"0",zIndex:1001,transition:"all 0.3s ease",boxShadow:"none",outline:"none"},hamburgerIcon:{fontSize:"28px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},searchInputWrapper:{position:"relative",flex:"1",minWidth:"250px",display:"flex",alignItems:"center"},searchIcon:{position:"absolute",left:"16px",fontSize:"18px",zIndex:1,pointerEvents:"none"},searchInput:{width:"100%",padding:"12px 16px 12px 45px",borderRadius:"15px",border:"none",fontSize:"18px",fontWeight:"bold",background:"white",height:"50px"},locationInputWrapper:{position:"relative",flex:"1",minWidth:"250px",display:"flex",alignItems:"center"},locationIcon:{position:"absolute",left:"18px",fontSize:"22px",zIndex:1,pointerEvents:"none"},locationInput:{width:"100%",padding:"12px 16px 12px 45px",borderRadius:"15px",border:"none",fontSize:"18px",fontWeight:"bold",background:"white",height:"50px"},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(2px)",zIndex:998,transition:"opacity 0.3s ease"},sidebar:{position:"fixed",top:0,left:0,width:"300px",height:"100vh",background:"linear-gradient(180deg, #1a1f2e 0%, #0f1419 100%)",zIndex:999,padding:"0",boxShadow:"4px 0 20px rgba(0, 0, 0, 0.5)",transition:"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",flexDirection:"column",overflow:"hidden"},sidebarHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 214, 10, 0.05)"},logoContainer:{display:"flex",alignItems:"center",gap:"12px"},logoIcon:{width:"45px",height:"45px",background:"black",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"26px",fontWeight:"bold",color:"yellow",boxShadow:"0 4px 10px rgba(255, 214, 10, 0.3)"},logoText:{fontSize:"22px",fontWeight:"bold",background:"linear-gradient(135deg, #ffd60a 0%, #ffa500 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",margin:0},closeButton:{background:"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",transition:"all 0.2s ease"},userInfo:{display:"flex",alignItems:"center",gap:"15px",padding:"20px",background:"rgba(255, 214, 10, 0.05)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},userAvatar:{width:"50px",height:"50px",borderRadius:"50%",background:"var(--yellow)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",boxShadow:"0 2px 8px rgba(255, 214, 10, 0.3)"},avatarImg:{width:"100%",height:"100%",objectFit:"cover"},avatarFallback:{fontSize:"24px",fontWeight:"bold",color:"#000"},userDetails:{flex:1,overflow:"hidden"},userName:{color:"#fff",fontSize:"16px",fontWeight:"600",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},userEmail:{color:"#999",fontSize:"13px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},sidebarNav:{flex:1,display:"flex",flexDirection:"column",gap:"2px",padding:"20px",overflowY:"auto"},navItem:{display:"flex",alignItems:"center",gap:"15px",padding:"15px 20px",color:"#fff",background:"transparent",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"500",transition:"all 0.2s ease",cursor:"pointer",textAlign:"left",width:"100%"},navIcon:{fontSize:"22px",width:"28px",display:"flex",alignItems:"center",justifyContent:"center"},divider:{height:"1px",background:"rgba(255, 255, 255, 0.1)",margin:"10px 0"},sidebarFooter:{padding:"20px",borderTop:"1px solid rgba(255, 255, 255, 0.1)",textAlign:"center"},footerText:{color:"#666",fontSize:"12px",margin:"0 0 4px 0"},footerSubtext:{color:"#555",fontSize:"11px",margin:0},heroSection:{padding:"40px 20px",textAlign:"center"},heroTitle:{fontSize:"32px",fontWeight:"bold",marginBottom:"12px",color:"var(--white)"},heroSubtitle:{fontSize:"20px",color:"var(--gray)"},categorySection:{padding:"20px 0"},categoriesGrid:{display:"flex",gap:"20px",justifyContent:"center",flexWrap:"wrap"},tabContainer:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",cursor:"pointer"},tabItem:{width:"100px",height:"100px",background:"var(--bg-card)",border:"2px solid var(--border)",borderRadius:"var(--radius)",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",cursor:"pointer",overflow:"hidden"},tabItemActive:{borderColor:"var(--yellow)",backgroundColor:"rgba(255, 214, 10, 0.1)",transform:"translateY(-5px)",boxShadow:"0 8px 16px rgba(255, 214, 10, 0.3)"},tabItemCreate:{width:"100px",height:"100px",background:"var(--yellow)",border:"2px solid var(--yellow)",borderRadius:"var(--radius)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease"},tabIconEmoji:{fontSize:"55px"},tabIconImg:{width:"90px",height:"90px",objectFit:"contain",filter:"brightness(1.2) contrast(1.1)"},createIcon:{fontSize:"80px",fontWeight:"bold",color:"var(--bg-black)",marginTop:"-20px"},tabName:{fontSize:"16.5px",fontWeight:"400",color:"var(--white)",textAlign:"center"},vacantsSection:{padding:"40px 20px"},sectionTitle:{color:"var(--yellow)",marginBottom:"20px",fontSize:"25px"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 20px"},spinner:{width:"50px",height:"50px",border:"4px solid rgba(255, 214, 10, 0.2)",borderTop:"4px solid var(--yellow)",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"},loadingText:{color:"var(--yellow)",textAlign:"center",fontSize:"17px"},emptyState:{textAlign:"center",padding:"60px 20px"},emptyIcon:{fontSize:"80px",display:"block",marginBottom:"20px",opacity:.5},noResults:{color:"var(--gray)",textAlign:"center",fontSize:"20px",marginBottom:"10px"},emptySubtext:{color:"#666",fontSize:"14px"},vacantsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gap:"20px"},vacantCard:{background:"#1a2332",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"18px",cursor:"pointer",transition:"all 0.3s ease",position:"relative"},cardHeader:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"16px"},cardTitle:{color:"var(--yellow)",margin:0,fontSize:"22px",fontWeight:"600",flex:1,paddingRight:"12px"},categoryBadge:{background:"var(--yellow)",color:"#000",padding:"8px 22px",borderRadius:"20px",fontSize:"18px",fontWeight:"700",textTransform:"capitalize",whiteSpace:"nowrap"},cardBody:{color:"#a0aec0",fontSize:"18px",lineHeight:"1.8",display:"flex",flexDirection:"column",gap:"8px"},creatorText:{color:"#6b7280",fontSize:"18px",marginTop:"4px",fontStyle:"italic"},floatingButton:{position:"fixed",bottom:"20px",right:"20px",width:"65px",height:"65px",borderRadius:"50%",background:"linear-gradient(135deg, #ffd700 0%, #ffed4e 50%, #ffd700 100%)",color:"#0a0a0a",border:"none",fontSize:"28px",cursor:"pointer",boxShadow:"0 4px 12px rgba(255, 214, 10, 0.4)",zIndex:999,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",animation:"pulse 2s infinite"},floatingButtonIcon:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"30px"}},ym="/Hanggout/assets/logo-CpgA66DM.png";function ZM(){const t=Dn(),[e,n]=Lr.useState(!1),[i,r]=Lr.useState(""),s=async()=>{try{n(!0),r(""),await zM(),t("/"),window.location.reload()}catch(a){r("Failed to sign in with Google. Please try again."),console.error("Sign in error:",a)}finally{n(!1)}};return m.jsx("div",{style:Ni.container,children:m.jsxs("div",{style:Ni.loginBox,children:[m.jsx("img",{src:ym,alt:"Hangg-Out",style:Ni.logo}),m.jsx("h1",{style:Ni.title,children:"Welcome to Hangg-Out"}),m.jsx("p",{style:Ni.subtitle,children:"Find your people. Create vacants. Have fun together."}),i&&m.jsx("p",{style:Ni.errorMsg,children:i}),m.jsx("button",{onClick:s,disabled:e,style:Ni.googleBtn,children:e?"Signing in...":" Sign in with Google"}),m.jsx("p",{style:Ni.helpText,children:"We only use your Google account for secure authentication. No passwords needed!"})]})})}const Ni={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, var(--bg-black) 0%, var(--bg-card) 100%)",padding:"20px"},loginBox:{background:"#ade6e285",border:"1px solid var(--border)",borderRadius:"var(--radius)",padding:"40px",maxWidth:"400px",width:"100%",textAlign:"center",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},logo:{width:"80px",height:"80px",marginBottom:"20px"},title:{fontSize:"28px",fontWeight:"bold",marginBottom:"12px",color:"var(--yellow)"},subtitle:{fontSize:"13px",fontWeight:"400",color:"var(--gray)",marginBottom:"32px"},googleBtn:{width:"100%",padding:"14px",background:"var(--yellow)",color:"var(--bg-black)",border:"none",borderRadius:"var(--radius)",fontWeight:"600",fontSize:"16px",cursor:"pointer",transition:"background 0.3s ease",marginBottom:"20px",disabled:{opacity:.6,cursor:"not-allowed"}},helpText:{fontSize:"12px",color:"var(--gray)",margin:0},errorMsg:{color:"#ff6b6b",marginBottom:"20px",padding:"12px",background:"rgba(255, 107, 107, 0.1)",borderRadius:"var(--radius)",fontSize:"14px"}},eV=["Cricket","Badminton","Chess","Roaming","Other"];function tV(){const t=Dn(),{user:e}=wl(),[n,i]=k.useState(!1),[r,s]=k.useState(""),[a,l]=k.useState(!1),[u,c]=k.useState({title:"",category:"Cricket",description:"",area:"",city:"",date:"",time:"",requiredPersons:1}),f=new Date().toISOString().split("T")[0];if(!e)return m.jsx("div",{style:re.container,children:m.jsxs("div",{style:re.card,children:[m.jsx("p",{style:re.errorText,children:"Please login to create a vacant"}),m.jsx("button",{style:re.btn,onClick:()=>t("/login"),children:"Go to Login"})]})});const p=R=>{const{name:O,value:D}=R.target;c(S=>({...S,[O]:O==="requiredPersons"?parseInt(D)||1:D})),r&&s("")},g=()=>u.title.trim()?u.area.trim()?u.city.trim()?u.date?u.requiredPersons<1||u.requiredPersons>20?(s("Required persons must be between 1 and 20"),!1):!0:(s("Date is required"),!1):(s("City is required"),!1):(s("Area/Venue is required"),!1):(s("Title is required"),!1),_=async R=>{if(R.preventDefault(),s(""),l(!1),!!g()){i(!0);try{const O={title:u.title.trim(),category:u.category,description:u.description.trim(),area:u.area.trim(),city:u.city.trim(),date:u.date,time:u.time||"TBD",requiredPersons:Number(u.requiredPersons),creatorName:e.name||e.email,creatorEmail:e.email};console.log("Submitting vacant data:",O);const D=await FM(O,e.uid);console.log("Vacant created successfully with ID:",D),l(!0),setTimeout(()=>{t("/")},1500)}catch(O){console.error("Error creating vacant:",O),s(O.message||"Failed to create vacant. Please try again.")}finally{i(!1)}}};return m.jsx("div",{style:re.container,children:m.jsx("div",{className:"container",children:m.jsxs("div",{style:re.card,children:[m.jsx("h1",{style:re.title,children:"Create a New Vacant"}),r&&m.jsxs("div",{style:re.errorBox,children:[m.jsx("strong",{children:"Error:"})," ",r]}),a&&m.jsxs("div",{style:re.successBox,children:[m.jsx("strong",{children:"Success!"})," Vacant created successfully. Redirecting..."]}),m.jsxs("form",{onSubmit:_,style:re.form,children:[m.jsxs("div",{style:re.formGroup,children:[m.jsx("label",{style:re.label,children:"Vacant Title *"}),m.jsx("input",{type:"text",name:"title",value:u.title,onChange:p,placeholder:"e.g., Cricket match - Need 2 players",required:!0,style:re.input,disabled:n})]}),m.jsxs("div",{style:re.formGroup,children:[m.jsx("label",{style:re.label,children:"Category *"}),m.jsx("select",{name:"category",value:u.category,onChange:p,style:re.input,disabled:n,children:eV.map(R=>m.jsx("option",{value:R,children:R},R))})]}),m.jsxs("div",{style:re.formGroup,children:[m.jsx("label",{style:re.label,children:"Description"}),m.jsx("textarea",{name:"description",value:u.description,onChange:p,placeholder:"Describe your vacant... (optional)",style:re.textarea,disabled:n})]}),m.jsxs("div",{style:re.row,children:[m.jsxs("div",{style:re.formGroup,children:[m.jsx("label",{style:re.label,children:"Area/Venue *"}),m.jsx("input",{type:"text",name:"area",value:u.area,onChange:p,placeholder:"e.g., Koramangala",required:!0,style:re.input,disabled:n})]}),m.jsxs("div",{style:re.formGroup,children:[m.jsx("label",{style:re.label,children:"City *"}),m.jsx("input",{type:"text",name:"city",value:u.city,onChange:p,placeholder:"e.g., Bangalore",required:!0,style:re.input,disabled:n})]})]}),m.jsxs("div",{style:re.row,children:[m.jsxs("div",{style:re.formGroup,children:[m.jsx("label",{style:re.label,children:"Date *"}),m.jsx("input",{type:"date",name:"date",value:u.date,onChange:p,min:f,required:!0,style:re.input,disabled:n})]}),m.jsxs("div",{style:re.formGroup,children:[m.jsx("label",{style:re.label,children:"Time"}),m.jsx("input",{type:"time",name:"time",value:u.time,onChange:p,style:re.input,disabled:n})]})]}),m.jsxs("div",{style:re.formGroup,children:[m.jsx("label",{style:re.label,children:"People Needed *"}),m.jsx("input",{type:"number",name:"requiredPersons",value:u.requiredPersons,onChange:p,min:"1",max:"20",required:!0,style:re.input,disabled:n}),m.jsx("small",{style:re.helpText,children:"How many people do you need? (1-20)"})]}),m.jsxs("div",{style:re.buttonGroup,children:[m.jsx("button",{type:"submit",disabled:n||a,style:{...re.submitBtn,opacity:n||a?.6:1,cursor:n||a?"not-allowed":"pointer"},children:n?"Creating...":a?"Created!":"Create Vacant"}),m.jsx("button",{type:"button",onClick:()=>t("/"),style:re.cancelBtn,disabled:n,children:"Cancel"})]})]})]})})})}const re={container:{minHeight:"100vh",background:"var(--bg-black)",padding:"40px 20px"},card:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"var(--radius)",padding:"32px",maxWidth:"600px",margin:"0 auto"},title:{color:"var(--yellow)",marginBottom:"24px",fontSize:"28px",margin:"0 0 24px 0"},errorBox:{background:"rgba(255, 107, 107, 0.1)",color:"#ff6b6b",padding:"12px 16px",borderRadius:"var(--radius)",marginBottom:"20px",fontSize:"14px",border:"1px solid rgba(255, 107, 107, 0.3)"},successBox:{background:"rgba(76, 175, 80, 0.1)",color:"#4caf50",padding:"12px 16px",borderRadius:"var(--radius)",marginBottom:"20px",fontSize:"14px",border:"1px solid rgba(76, 175, 80, 0.3)"},form:{display:"flex",flexDirection:"column",gap:"20px"},formGroup:{display:"flex",flexDirection:"column",flex:1},label:{color:"var(--white)",marginBottom:"8px",fontWeight:"500",fontSize:"14px"},input:{padding:"10px 12px",background:"var(--bg-black)",border:"1px solid var(--border)",borderRadius:"var(--radius)",color:"var(--white)",fontSize:"14px",fontFamily:"inherit",transition:"border-color 0.2s"},textarea:{padding:"10px 12px",background:"var(--bg-black)",border:"1px solid var(--border)",borderRadius:"var(--radius)",color:"var(--white)",fontSize:"14px",fontFamily:"inherit",minHeight:"100px",resize:"vertical"},helpText:{color:"var(--gray)",fontSize:"12px",marginTop:"4px"},row:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},buttonGroup:{display:"flex",gap:"12px",marginTop:"24px"},submitBtn:{flex:1,padding:"12px 24px",background:"var(--yellow)",color:"var(--bg-black)",border:"none",borderRadius:"var(--radius)",fontWeight:"600",cursor:"pointer",fontSize:"16px",transition:"opacity 0.2s"},cancelBtn:{flex:1,padding:"12px 24px",background:"var(--bg-black)",color:"var(--white)",border:"1px solid var(--border)",borderRadius:"var(--radius)",fontWeight:"600",cursor:"pointer",fontSize:"16px"},errorText:{color:"var(--gray)",textAlign:"center",marginBottom:"16px"},btn:{background:"var(--yellow)",color:"var(--bg-black)",border:"none",padding:"10px 20px",borderRadius:"var(--radius)",cursor:"pointer",fontWeight:"600",width:"100%"}};function nV(){const{id:t}=vR(),e=Dn(),[n,i]=k.useState(null),[r,s]=k.useState(!0),[a,l]=k.useState(!1),[u,c]=k.useState(!1);k.useEffect(()=>{f()},[t]);const f=async()=>{try{s(!0);const g=await Oc(t);i(g)}catch(g){console.error("Error loading vacant:",g)}finally{s(!1)}},p=()=>{e(`/raise-request?vacantId=${t}`)};return r?m.jsx("div",{style:be.container,children:m.jsx("p",{children:"Loading..."})}):n?m.jsx("div",{style:be.container,children:m.jsxs("div",{className:"container",children:[m.jsx("button",{style:{...be.backBtn,background:a?"black":"yellow",color:a?"yellow":"black",borderColor:a?"yellow":"var(--border)"},onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onClick:()=>e("/"),children:" Back"}),m.jsxs("div",{style:be.detailsCard,children:[m.jsxs("div",{style:be.header,children:[m.jsx("h1",{style:be.title,children:n.title}),m.jsx("span",{style:be.badge,children:n.category})]}),m.jsxs("div",{style:be.infoGrid,children:[m.jsxs("div",{style:be.infoItem,children:[m.jsx("span",{style:be.label,children:" Location"}),m.jsxs("p",{children:[n.area,", ",n.city]})]}),m.jsxs("div",{style:be.infoItem,children:[m.jsx("span",{style:be.label,children:" Date"}),m.jsx("p",{children:n.date})]}),m.jsxs("div",{style:be.infoItem,children:[m.jsx("span",{style:be.label,children:" Time"}),m.jsx("p",{children:n.time||"Not specified"})]}),m.jsxs("div",{style:be.infoItem,children:[m.jsx("span",{style:be.label,children:" People Needed"}),m.jsx("p",{children:n.requiredPersons})]})]}),m.jsxs("div",{style:be.descriptionSection,children:[m.jsx("h3",{style:be.sectionTitle,children:"Description"}),m.jsx("p",{children:n.description||"No description provided"})]}),m.jsxs("div",{style:be.creatorSection,children:[m.jsx("h3",{style:be.sectionTitle,children:"Created by"}),m.jsxs("div",{style:be.creatorInfo,children:[m.jsx("img",{src:ym,alt:n.creatorName,style:be.creatorImg}),m.jsxs("div",{children:[m.jsx("p",{style:be.creatorName,children:n.creatorName}),m.jsx("p",{style:be.creatorEmail,children:n.creatorEmail})]})]})]}),m.jsx("button",{style:{...be.joinBtn,background:u?"var(--bg-black)":"var(--yellow)",color:u?"var(--yellow)":"var(--bg-black)",border:u?"2px solid var(--yellow)":"none"},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:p,children:"Join This Vacant"})]})]})}):m.jsxs("div",{style:be.container,children:[m.jsx("p",{style:be.errorText,children:"Vacant not found"}),m.jsx("button",{style:be.btn,onClick:()=>e("/"),children:"Back to Home"})]})}const be={container:{minHeight:"100vh",background:"var(--bg-black)",padding:"20px"},backBtn:{border:"1px solid var(--border)",padding:"10px 16px",borderRadius:"var(--radius)",cursor:"pointer",marginBottom:"20px",fontWeight:"bold",transition:"all 0.3s ease"},detailsCard:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"var(--radius)",padding:"32px",maxWidth:"800px",margin:"0 auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"24px"},title:{color:"var(--yellow)",margin:0,fontSize:"28px"},badge:{background:"var(--yellow)",color:"var(--bg-black)",padding:"8px 16px",borderRadius:"20px",fontWeight:"600",fontSize:"14px"},infoGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px",marginBottom:"32px"},infoItem:{borderLeft:"3px solid var(--yellow)",paddingLeft:"16px"},label:{display:"block",color:"var(--gray)",fontSize:"12px",marginBottom:"4px"},descriptionSection:{marginBottom:"32px",borderTop:"1px solid var(--border)",paddingTop:"24px"},sectionTitle:{color:"var(--yellow)",margin:"0 0 12px 0",fontSize:"18px"},creatorSection:{marginBottom:"32px",borderTop:"1px solid var(--border)",paddingTop:"24px"},creatorInfo:{display:"flex",alignItems:"center",gap:"16px"},creatorImg:{width:"60px",height:"60px",borderRadius:"50%",border:"2px solid var(--yellow)",objectFit:"cover"},creatorName:{margin:0,color:"var(--white)",fontWeight:"600"},creatorEmail:{margin:"4px 0 0 0",color:"var(--gray)",fontSize:"14px"},joinBtn:{width:"100%",padding:"16px",background:"var(--yellow)",color:"var(--bg-black)",border:"none",borderRadius:"var(--radius)",fontWeight:"600",fontSize:"16px",cursor:"pointer",transition:"all 0.3s ease"},errorText:{color:"var(--gray)",textAlign:"center"},btn:{background:"var(--yellow)",color:"var(--bg-black)",border:"none",padding:"10px 20px",borderRadius:"var(--radius)",cursor:"pointer",fontWeight:"600"}};function iV(){const t=Dn(),{user:e,loading:n}=wl(),[i,r]=k.useState([]),[s,a]=k.useState(!0);k.useEffect(()=>{if(!n&&!e){t("/login");return}e&&l()},[e,n,t]);const l=async()=>{try{a(!0);const u=await QM(e.uid);r(u)}catch(u){console.error("Error loading vacants:",u)}finally{a(!1)}};return n?m.jsx("div",{style:$e.container,children:m.jsx("div",{style:$e.loadingContainer,children:m.jsx("p",{style:$e.loadingText,children:"Loading..."})})}):e?m.jsx("div",{style:$e.container,children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{style:$e.header,children:[m.jsx("h1",{style:$e.title,children:"My Vacants"}),m.jsx("button",{style:$e.createBtn,onClick:()=>t("/create-vacant"),children:"+ Create New"})]}),s?m.jsx("p",{style:$e.loadingText,children:"Loading your vacants..."}):i.length===0?m.jsxs("div",{style:$e.emptyState,children:[m.jsx("p",{children:"You haven't created any vacants yet"}),m.jsx("button",{style:$e.primaryBtn,onClick:()=>t("/create-vacant"),children:"Create Your First Vacant"})]}):m.jsx("div",{style:$e.grid,children:i.map(u=>m.jsxs("div",{style:$e.card,children:[m.jsxs("div",{style:$e.cardHeader,children:[m.jsx("h3",{style:$e.cardTitle,children:u.title}),m.jsx("span",{style:$e.badge,children:u.category})]}),m.jsxs("div",{style:$e.cardBody,children:[m.jsxs("p",{children:[" ",u.area,", ",u.city]}),m.jsxs("p",{children:[" ",u.date," ",u.time&&` ${u.time}`]}),m.jsxs("p",{children:[" ",u.requiredPersons," person(s) needed"]}),m.jsxs("p",{style:$e.status,children:["Status: ",u.status||"open"]})]}),m.jsxs("div",{style:$e.cardActions,children:[m.jsx("button",{style:$e.viewBtn,onClick:()=>t(`/vacant/${u.id}`),children:"View Details"}),m.jsx("button",{style:$e.editBtn,onClick:()=>t(`/edit-vacant/${u.id}`),children:"Edit"})]})]},u.id))})]})}):null}const $e={container:{minHeight:"100vh",background:"var(--bg-black)",padding:"40px 20px",color:"var(--white)"},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},title:{color:"var(--yellow)",margin:0,fontSize:"28px"},createBtn:{background:"var(--yellow)",color:"var(--bg-black)",border:"none",padding:"10px 20px",borderRadius:"var(--radius)",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},loadingText:{color:"var(--gray)",textAlign:"center",fontSize:"18px"},emptyState:{textAlign:"center",padding:"60px 20px",color:"var(--gray)"},primaryBtn:{marginTop:"20px",background:"var(--yellow)",color:"var(--bg-black)",border:"none",padding:"12px 24px",borderRadius:"var(--radius)",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},card:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"var(--radius)",padding:"16px",transition:"transform 0.2s ease",":hover":{transform:"translateY(-2px)"}},cardHeader:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"12px"},cardTitle:{color:"var(--white)",margin:0,fontSize:"16px",fontWeight:"600"},badge:{background:"var(--yellow)",color:"var(--bg-black)",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},cardBody:{color:"var(--gray-light)",fontSize:"14px",marginBottom:"12px",lineHeight:"1.5"},status:{color:"var(--yellow)",fontSize:"12px",marginTop:"8px",fontWeight:"600"},cardActions:{display:"flex",gap:"8px",marginTop:"16px"},viewBtn:{flex:1,padding:"8px",background:"var(--yellow)",color:"var(--bg-black)",border:"none",borderRadius:"var(--radius)",fontWeight:"600",cursor:"pointer",fontSize:"12px",transition:"all 0.2s ease"},editBtn:{flex:1,padding:"8px",background:"transparent",color:"var(--white)",border:"1px solid var(--border)",borderRadius:"var(--radius)",fontWeight:"600",cursor:"pointer",fontSize:"12px",transition:"all 0.2s ease"}};function rV(){const t=Dn(),{user:e}=wl(),[n,i]=Lr.useState(!1),[r,s]=Lr.useState(""),[a,l]=Lr.useState({displayName:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",bio:"",favoriteGames:[]});if(!e)return m.jsx("div",{style:Ne.container,children:m.jsxs("div",{style:Ne.card,children:[m.jsx("p",{style:Ne.errorText,children:"Please login to view your profile"}),m.jsx("button",{style:Ne.btn,onClick:()=>t("/login"),children:"Go to Login"})]})});const u=f=>{const{name:p,value:g}=f.target;l(_=>({..._,[p]:g}))},c=async f=>{f.preventDefault(),i(!0);try{await YM(e.uid,a),s("Profile updated successfully!"),setTimeout(()=>s(""),3e3)}catch(p){console.error("Error updating profile:",p)}finally{i(!1)}};return m.jsx("div",{style:Ne.container,children:m.jsx("div",{className:"container",children:m.jsxs("div",{style:Ne.card,children:[m.jsxs("div",{style:Ne.profileHeader,children:[m.jsx("img",{src:e.photo||ym,alt:e.name,style:Ne.profileImg}),m.jsxs("div",{children:[m.jsx("h1",{style:Ne.name,children:e.name}),m.jsx("p",{style:Ne.email,children:e.email})]})]}),r&&m.jsx("p",{style:Ne.successBox,children:r}),m.jsxs("form",{onSubmit:c,style:Ne.form,children:[m.jsxs("div",{style:Ne.formGroup,children:[m.jsx("label",{style:Ne.label,children:"Display Name"}),m.jsx("input",{type:"text",name:"displayName",value:a.displayName,onChange:u,style:Ne.input})]}),m.jsxs("div",{style:Ne.formGroup,children:[m.jsx("label",{style:Ne.label,children:"Email"}),m.jsx("input",{type:"email",value:e.email,disabled:!0,style:{...Ne.input,opacity:.6}})]}),m.jsxs("div",{style:Ne.formGroup,children:[m.jsx("label",{style:Ne.label,children:"Phone"}),m.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:u,placeholder:"Your phone number",style:Ne.input})]}),m.jsxs("div",{style:Ne.formGroup,children:[m.jsx("label",{style:Ne.label,children:"Bio"}),m.jsx("textarea",{name:"bio",value:a.bio,onChange:u,placeholder:"Tell us about yourself...",style:Ne.textarea})]}),m.jsx("button",{type:"submit",disabled:n,style:{...Ne.submitBtn,opacity:n?.6:1},children:n?"Saving...":"Save Profile"})]})]})})})}const Ne={container:{minHeight:"100vh",background:"var(--bg-black)",padding:"40px 20px"},card:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"var(--radius)",padding:"32px",maxWidth:"600px",margin:"0 auto"},profileHeader:{display:"flex",alignItems:"center",gap:"20px",marginBottom:"32px",paddingBottom:"24px",borderBottom:"1px solid var(--border)"},profileImg:{width:"80px",height:"80px",borderRadius:"50%",border:"3px solid var(--yellow)",objectFit:"cover"},name:{margin:0,color:"var(--yellow)",fontSize:"24px"},email:{margin:"8px 0 0 0",color:"var(--gray)",fontSize:"14px"},successBox:{background:"rgba(74, 222, 128, 0.1)",color:"#4ade80",padding:"12px 16px",borderRadius:"var(--radius)",marginBottom:"20px",fontSize:"14px"},form:{display:"flex",flexDirection:"column",gap:"20px"},formGroup:{display:"flex",flexDirection:"column"},label:{color:"var(--white)",marginBottom:"8px",fontWeight:"500",fontSize:"14px"},input:{padding:"10px 12px",background:"var(--bg-black)",border:"1px solid var(--border)",borderRadius:"var(--radius)",color:"var(--white)",fontSize:"14px",fontFamily:"inherit"},textarea:{padding:"10px 12px",background:"var(--bg-black)",border:"1px solid var(--border)",borderRadius:"var(--radius)",color:"var(--white)",fontSize:"14px",fontFamily:"inherit",minHeight:"100px",resize:"vertical"},submitBtn:{padding:"12px 24px",background:"var(--yellow)",color:"var(--bg-black)",border:"none",borderRadius:"var(--radius)",fontWeight:"600",cursor:"pointer",fontSize:"16px",marginTop:"16px"},errorText:{color:"var(--gray)",textAlign:"center"},btn:{background:"var(--yellow)",color:"var(--bg-black)",border:"none",padding:"10px 20px",borderRadius:"var(--radius)",cursor:"pointer",fontWeight:"600"}},sV=async t=>{try{if(console.log("Creating request with data:",t),!t.vacantId)throw new Error("Vacant ID is required");if(!t.requesterUid)throw new Error("User authentication required");if(!t.numberOfPersons||t.numberOfPersons<1)throw new Error("Number of persons must be at least 1");const e={...t,numberOfPersons:Number(t.numberOfPersons),status:t.status||"pending",createdAt:Ei(),updatedAt:Ei()},n=await Ah(_n(Ot,"requests"),e);return console.log("Request created successfully with ID:",n.id),n.id}catch(e){throw console.error("Error raising request:",e),console.error("Error details:",e.message),e}},aV=async t=>{try{const e=br(_n(Ot,"requests"),pa("requesterUid","==",t),xl("createdAt","desc")),n=await ss(e),i=[];return n.forEach(r=>{i.push({id:r.id,...r.data()})}),console.log(`Fetched ${i.length} requests for user ${t}`),i}catch(e){throw console.error("Error getting user requests:",e),e}},D0=async(t,e,n={})=>{try{const i=Sl(Ot,"requests",t);return await mm(i,{status:e,...n,updatedAt:Ei()}),console.log("Request status updated to:",e),!0}catch(i){throw console.error("Error updating request status:",i),i}},oV=async t=>{try{const e=br(_n(Ot,"vacants"),pa("creatorUid","==",t)),n=await ss(e),i=[];if(n.forEach(a=>{i.push(a.id)}),i.length===0)return console.log("No vacants found for user"),[];console.log(`Found ${i.length} vacants for user`);const r=[],s=[];for(let a=0;a<i.length;a+=10)s.push(i.slice(a,a+10));for(const a of s){const l=br(_n(Ot,"requests"),pa("vacantId","in",a),xl("createdAt","desc"));(await ss(l)).forEach(c=>{r.push({id:c.id,...c.data()})})}return console.log(`Fetched ${r.length} requests for user's vacants`),r}catch(e){throw console.error("Error getting pending requests:",e),e}};function lV(){var P;const t=Dn(),[e]=zR(),n=e.get("vacantId"),[i,r]=k.useState({count:"",gender:"",message:"",tagUsers:"",vacantId:n||""}),[s,a]=k.useState({}),[l,u]=k.useState(""),[c,f]=k.useState(!1),[p,g]=k.useState(null),[_,R]=k.useState(null),[O,D]=k.useState(!1);k.useEffect(()=>{const B=JSON.parse(localStorage.getItem("hanggOutUser")||"null");if(R(B),!B){alert("Please login first"),t("/login");return}n?S(n):a({vacantId:"No vacant selected. Please go back and select a vacant."})},[n,t]);const S=async B=>{try{const T=await Oc(B);T?(g(T),console.log("Loaded vacant:",T)):a({vacantId:"Vacant not found"})}catch(T){console.error("Error loading vacant:",T),a({vacantId:"Error loading vacant details"})}},E=B=>{const{name:T,value:y}=B.target;r(b=>({...b,[T]:y})),s[T]&&a(b=>({...b,[T]:""})),l&&u("")},w=()=>{var T;const B={};if((!i.count||i.count<1)&&(B.count="Please enter a valid number (at least 1)"),i.count>20&&(B.count="Maximum 20 people allowed"),i.gender||(B.gender="Please select a gender"),i.vacantId||(B.vacantId="Vacant ID missing"),p&&i.count){const y=p.requiredPersons-(((T=p.applicants)==null?void 0:T.length)||0);parseInt(i.count)>y&&(B.count=`Only ${y} spot(s) available`)}return a(B),Object.keys(B).length===0},M=async B=>{if(B.preventDefault(),u(""),a({}),!_){alert("Please login first"),t("/login");return}if(w()){f(!0);try{const T={requesterUid:_.uid,requesterName:_.name||_.email.split("@")[0],requesterEmail:_.email,numberOfPersons:parseInt(i.count,10),gender:i.gender,message:i.message.trim()||"",tagUsers:i.tagUsers.trim()||"",vacantId:i.vacantId,status:"pending",vacantTitle:(p==null?void 0:p.title)||"",vacantCategory:(p==null?void 0:p.category)||""};console.log("Submitting request with payload:",T);const y=await sV(T);console.log("Request created successfully with ID:",y),u("Request submitted successfully! Redirecting..."),r({count:"",gender:"",message:"",tagUsers:"",vacantId:i.vacantId}),setTimeout(()=>{t(-1)},1500)}catch(T){console.error("Error submitting request:",T),a({submit:T.message||"Error submitting request. Please try again."})}finally{f(!1)}}};return _?m.jsx("div",{style:Te.container,children:m.jsxs("div",{style:Te.formBox,children:[m.jsx("button",{style:{...Te.backBtn,background:O?"black":"yellow",color:O?"yellow":"black",borderColor:O?"yellow":"var(--border)"},onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1),onClick:()=>t(-1),disabled:c,children:" Back"}),m.jsx("h2",{style:Te.title,children:"Raise Request"}),p&&m.jsxs("div",{style:Te.vacantInfo,children:[m.jsx("h3",{style:Te.vacantTitle,children:p.title}),m.jsxs("p",{style:Te.vacantDetail,children:[m.jsx("strong",{children:"Category:"})," ",p.category," |",m.jsx("strong",{children:" Location:"})," ",p.area,", ",p.city]}),m.jsxs("p",{style:Te.vacantDetail,children:[m.jsx("strong",{children:"Spots Available:"})," ",p.requiredPersons-(((P=p.applicants)==null?void 0:P.length)||0)," / ",p.requiredPersons]})]}),m.jsxs("form",{onSubmit:M,children:[m.jsxs("div",{style:Te.gridRow,children:[m.jsxs("div",{children:[m.jsx("label",{style:Te.label,htmlFor:"count",children:"How many joining? *"}),m.jsx("input",{id:"count",name:"count",type:"number",min:"1",max:"20",value:i.count,onChange:E,placeholder:"Enter Count",style:Te.input,disabled:c,required:!0}),s.count&&m.jsx("div",{style:Te.errorMessage,children:s.count})]}),m.jsxs("div",{children:[m.jsx("label",{style:Te.label,htmlFor:"gender",children:"Gender *"}),m.jsxs("select",{id:"gender",name:"gender",value:i.gender,onChange:E,style:Te.input,disabled:c,required:!0,children:[m.jsx("option",{value:"",children:"Select Gender"}),m.jsx("option",{value:"Male",children:"Male"}),m.jsx("option",{value:"Female",children:"Female"}),m.jsx("option",{value:"Mixed",children:"Mixed"}),m.jsx("option",{value:"Others",children:"Others"})]}),s.gender&&m.jsx("div",{style:Te.errorMessage,children:s.gender})]})]}),m.jsx("label",{style:Te.label,htmlFor:"message",children:"Description"}),m.jsx("textarea",{id:"message",name:"message",value:i.message,onChange:E,placeholder:"Tell something about your group... (optional)",style:{...Te.input,minHeight:"80px",fontFamily:"inherit",resize:"vertical"},disabled:c}),m.jsx("label",{style:Te.label,htmlFor:"tagUsers",children:"Tag Users (if more than 1)"}),m.jsx("input",{id:"tagUsers",name:"tagUsers",type:"text",value:i.tagUsers,onChange:E,placeholder:"@username1, @username2 (optional)",style:Te.input,disabled:c}),s.vacantId&&m.jsx("div",{style:Te.errorMessage,children:s.vacantId}),s.submit&&m.jsx("div",{style:Te.errorMessage,children:s.submit}),l&&m.jsx("div",{style:Te.successMessage,children:l}),m.jsx("div",{style:Te.btnArea,children:m.jsx("button",{type:"submit",style:{...Te.submitBtn,opacity:c?.6:1,cursor:c?"not-allowed":"pointer"},disabled:c,children:c?"Submitting...":"Submit Request"})})]})]})}):m.jsx("div",{style:Te.container,children:m.jsxs("div",{style:Te.formBox,children:[m.jsx("h2",{style:Te.title,children:"Authentication Required"}),m.jsx("p",{style:{color:"#fff",textAlign:"center"},children:"Please login to raise a request"}),m.jsx("button",{style:Te.submitBtn,onClick:()=>t("/login"),children:"Go to Login"})]})})}const Te={container:{minHeight:"100vh",background:"#0a0a0a",padding:"20px",display:"flex",justifyContent:"center",alignItems:"center"},formBox:{background:"#1a1a1a",border:"1px solid #333",borderRadius:"12px",padding:"32px",maxWidth:"600px",width:"100%"},backBtn:{background:"transparent",border:"1px solid #333",color:"#ffd700",padding:"8px 16px",borderRadius:"8px",cursor:"pointer",marginBottom:"20px",fontWeight:"bold",transition:"all 0.3s ease",fontSize:"15px"},title:{color:"#ffd700",marginBottom:"24px",fontSize:"24px",marginTop:0},vacantInfo:{background:"#111",border:"1px solid #333",borderRadius:"8px",padding:"16px",marginBottom:"24px"},vacantTitle:{color:"#ffd700",fontSize:"18px",marginTop:0,marginBottom:"8px"},vacantDetail:{color:"#ccc",fontSize:"14px",margin:"4px 0"},gridRow:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"16px"},label:{display:"block",marginTop:"16px",marginBottom:"6px",color:"#fff",fontWeight:"500",fontSize:"14px"},input:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #333",background:"#111",color:"#fff",fontSize:"14px",boxSizing:"border-box",transition:"border-color 0.2s"},errorMessage:{color:"#ff4444",fontSize:"13px",marginTop:"6px",display:"block"},successMessage:{color:"#4ade80",fontSize:"14px",marginTop:"16px",padding:"12px",background:"rgba(74, 222, 128, 0.1)",border:"1px solid rgba(74, 222, 128, 0.3)",borderRadius:"8px",textAlign:"center",fontWeight:"500"},btnArea:{marginTop:"24px",textAlign:"center"},submitBtn:{background:"#ffd700",color:"#0a0a0a",border:"none",padding:"14px 40px",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"16px",transition:"all 0.3s ease",width:"100%"}},uV=async(t,e,n,i,r,s,a)=>{try{console.log("Creating chat for request:",t);const l=br(_n(Ot,"chats"),pa("requestId","==",t)),u=await ss(l);if(!u.empty)return console.log("Chat already exists"),u.docs[0].id;const c={requestId:t,vacantId:e,vacantTitle:a,participants:[n,r],participantNames:{[n]:i,[r]:s},creatorUid:n,requesterUid:r,lastMessage:"",lastMessageTime:Ei(),createdAt:Ei()},f=await Ah(_n(Ot,"chats"),c);return console.log("Chat created successfully:",f.id),await dA(f.id,"system"," Chat started! You can now communicate about this vacant."),f.id}catch(l){throw console.error("Error creating chat:",l),l}},dA=async(t,e,n,i="User")=>{try{if(!n.trim())throw new Error("Message cannot be empty");const r={chatId:t,senderUid:e,senderName:i,text:n.trim(),createdAt:Ei(),read:!1},s=await Ah(_n(Ot,"chats",t,"messages"),r);return await mm(Sl(Ot,"chats",t),{lastMessage:n.trim(),lastMessageTime:Ei()}),console.log("Message sent:",s.id),s.id}catch(r){throw console.error("Error sending message:",r),r}},cV=(t,e)=>{try{const n=br(_n(Ot,"chats",t,"messages"),xl("createdAt","asc"));return jM(n,r=>{const s=[];r.forEach(a=>{s.push({id:a.id,...a.data()})}),e(s)})}catch(n){throw console.error("Error subscribing to messages:",n),n}},Ff=async t=>{try{const e=br(_n(Ot,"chats"),pa("requestId","==",t),OM(1)),n=await ss(e);if(!n.empty){const i=n.docs[0];return{id:i.id,...i.data()}}return null}catch(e){throw console.error("Error getting chat by request ID:",e),e}};function hV(){var Pe,on;const t=Dn(),[e,n]=k.useState("received"),[i,r]=k.useState([]),[s,a]=k.useState([]),[l,u]=k.useState(!0),[c,f]=k.useState(!0),[p,g]=k.useState(!1),[_,R]=k.useState(null),[O,D]=k.useState(null),[S,E]=k.useState(""),[w,M]=k.useState([]),[P,B]=k.useState(!1),[T,y]=k.useState(null),[b,A]=k.useState(!1),I=k.useRef(null),C=k.useRef(null);k.useEffect(()=>{const z=JSON.parse(localStorage.getItem("hanggOutUser")||"null");y(z),z&&Nt()},[]),k.useEffect(()=>{x()},[w]),k.useEffect(()=>()=>{C.current&&C.current()},[]);const x=()=>{var z;(z=I.current)==null||z.scrollIntoView({behavior:"smooth"})},Nt=async()=>{const z=JSON.parse(localStorage.getItem("hanggOutUser")||"null");if(!z){u(!1),f(!1),t("/login");return}try{u(!0);const fe=await oV(z.uid),Be=await Promise.all(fe.map(async Xe=>{try{const Lt=await Oc(Xe.vacantId);let Et=!1;return Xe.status==="accepted"&&(Et=!!await Ff(Xe.id)),{...Xe,vacant:Lt,chatExists:Et}}catch{return Xe}}));r(Be)}catch(fe){console.error("Error loading received requests:",fe)}finally{u(!1)}try{f(!0);const fe=await aV(z.uid),Be=await Promise.all(fe.map(async Xe=>{try{const Lt=await Oc(Xe.vacantId);let Et=!1;return Xe.status==="accepted"&&(Et=!!await Ff(Xe.id)),{...Xe,vacant:Lt,chatExists:Et}}catch{return Xe}}));a(Be)}catch(fe){console.error("Error loading sent requests:",fe)}finally{f(!1)}},bn=async z=>{var fe;try{await D0(z.id,"accepted");const Be=await uV(z.id,z.vacantId,T.uid,T.name||T.email,z.requesterUid,z.requesterName,((fe=z.vacant)==null?void 0:fe.title)||"Vacant");console.log("Chat created with ID:",Be),await Nt(),alert("Request accepted! Chat created successfully.")}catch(Be){console.error("Error accepting request:",Be),alert("Failed to accept request: "+Be.message)}},G=async z=>{if(window.confirm("Are you sure you want to reject this request?"))try{await D0(z,"rejected"),await Nt(),alert("Request rejected")}catch(fe){console.error("Error rejecting request:",fe),alert("Failed to reject request")}},Z=async z=>{try{const fe=await Ff(z.id);if(!fe){alert("Chat not found. Please try accepting the request again.");return}R(z),D(fe.id),g(!0),C.current&&C.current(),C.current=cV(fe.id,Be=>{M(Be)})}catch(fe){console.error("Error opening chat:",fe),alert("Failed to open chat: "+fe.message)}},W=async()=>{if(!(!S.trim()||!O||P)){B(!0);try{await dA(O,T.uid,S.trim(),T.name||T.email),E("")}catch(z){console.error("Error sending message:",z),alert("Failed to send message")}finally{B(!1)}}},Ae=z=>{z.key==="Enter"&&!z.shiftKey&&(z.preventDefault(),W())},Ue=()=>{C.current&&(C.current(),C.current=null),g(!1),R(null),D(null),M([]),E("")},wi=z=>{if(!z)return"";let fe;z.toDate?fe=z.toDate():z.seconds?fe=new Date(z.seconds*1e3):fe=new Date(z);const Xe=new Date-fe,Lt=Math.floor(Xe/6e4),Et=Math.floor(Xe/36e5),Yn=Math.floor(Xe/864e5);return Lt<1?"Just now":Lt<60?`${Lt}m ago`:Et<24?`${Et}h ago`:Yn<7?`${Yn}d ago`:fe.toLocaleDateString()},Tt=({request:z,type:fe})=>{var Be,Xe,Lt,Et;return m.jsxs("div",{style:K.requestCard,children:[m.jsxs("div",{style:K.requestInfo,children:[m.jsx("div",{style:K.vacantTitle,children:((Be=z.vacant)==null?void 0:Be.title)||"Vacant Title"}),m.jsxs("div",{style:K.requestDetails,children:[m.jsxs("span",{children:[" ",z.numberOfPersons," person(s)"]}),m.jsxs("span",{children:[" ",z.gender]}),m.jsxs("span",{children:[" ",((Xe=z.vacant)==null?void 0:Xe.area)||"Location",", ",((Lt=z.vacant)==null?void 0:Lt.city)||""]})]}),z.message&&m.jsxs("div",{style:K.requestMessage,children:[' "',z.message,'"']}),m.jsxs("div",{style:K.requestMeta,children:[m.jsx("span",{style:K[`status${z.status.charAt(0).toUpperCase()+z.status.slice(1)}`],children:z.status}),fe==="received"&&m.jsxs("span",{style:{color:"var(--gray)"},children:["From: ",z.requesterName]}),fe==="sent"&&m.jsxs("span",{style:{color:"var(--gray)"},children:["To: ",((Et=z.vacant)==null?void 0:Et.creatorName)||"Creator"]}),z.tagUsers&&m.jsx("span",{style:{color:"var(--yellow)"},children:z.tagUsers})]})]}),m.jsxs("div",{style:K.requestActions,children:[fe==="received"&&z.status==="pending"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{style:K.btnAccept,onClick:()=>bn(z),children:" Accept"}),m.jsx("button",{style:K.btnReject,onClick:()=>G(z.id),children:" Reject"})]}),z.status==="accepted"&&m.jsx("button",{style:K.btnChat,onClick:()=>Z(z),children:" Open Chat"}),m.jsx("button",{style:K.btnView,onClick:()=>t(`/vacant/${z.vacantId}`),children:" View Vacant"})]})]})};return m.jsxs("div",{style:K.container,children:[m.jsxs("div",{style:K.contentWrapper,children:[m.jsxs("div",{style:K.header,children:[m.jsx("button",{style:{...K.backBtn,background:b?"black":"yellow",color:b?"yellow":"black",borderColor:b?"yellow":"var(--border)"},onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),onClick:()=>t("/"),disabled:l||c,children:" Back"}),m.jsx("h2",{style:K.pageTitle,children:"Your Requests"})]}),m.jsxs("div",{style:K.tabs,children:[m.jsxs("div",{style:{...K.tab,...e==="received"?K.tabActive:{}},onClick:()=>n("received"),children:[" Received Requests",i.filter(z=>z.status==="pending").length>0&&m.jsx("span",{style:K.badge,children:i.filter(z=>z.status==="pending").length})]}),m.jsx("div",{style:{...K.tab,...e==="sent"?K.tabActive:{}},onClick:()=>n("sent"),children:" Sent Requests"})]}),e==="received"&&m.jsx("div",{style:K.tabContent,children:l?m.jsxs("div",{style:K.loading,children:[m.jsx("div",{style:K.spinner}),m.jsx("p",{children:"Loading requests..."})]}):i.length===0?m.jsxs("div",{style:K.emptyState,children:[m.jsx("span",{style:K.emptyIcon,children:""}),m.jsx("p",{children:"No received requests yet"}),m.jsx("p",{style:K.emptySubtext,children:"Requests from others will appear here"})]}):i.map(z=>m.jsx(Tt,{request:z,type:"received"},z.id))}),e==="sent"&&m.jsx("div",{style:K.tabContent,children:c?m.jsxs("div",{style:K.loading,children:[m.jsx("div",{style:K.spinner}),m.jsx("p",{children:"Loading requests..."})]}):s.length===0?m.jsxs("div",{style:K.emptyState,children:[m.jsx("span",{style:K.emptyIcon,children:""}),m.jsx("p",{children:"No sent requests yet"}),m.jsx("p",{style:K.emptySubtext,children:"Apply to vacants to see your requests here"})]}):s.map(z=>m.jsx(Tt,{request:z,type:"sent"},z.id))})]}),p&&m.jsx("div",{style:K.chatOverlay,onClick:Ue,children:m.jsxs("div",{style:K.chatModal,onClick:z=>z.stopPropagation(),children:[m.jsxs("div",{style:K.chatHeader,children:[m.jsxs("div",{children:[m.jsx("div",{style:K.chatTitle,children:(_==null?void 0:_.requesterUid)===(T==null?void 0:T.uid)?(Pe=_==null?void 0:_.vacant)==null?void 0:Pe.creatorName:_==null?void 0:_.requesterName}),m.jsx("div",{style:K.chatSubtitle,children:(on=_==null?void 0:_.vacant)==null?void 0:on.title})]}),m.jsx("button",{style:K.closeChatButton,onClick:Ue,children:""})]}),m.jsxs("div",{style:K.chatMessages,children:[w.length===0?m.jsxs("div",{style:K.noChatMessages,children:[m.jsx("span",{style:{fontSize:"40px",marginBottom:"10px"},children:""}),m.jsx("p",{children:"No messages yet. Start the conversation!"})]}):w.map(z=>{const fe=z.senderUid===(T==null?void 0:T.uid),Be=z.senderUid==="system";return m.jsxs("div",{style:{...K.chatMessage,...Be?K.chatMessageSystem:fe?K.chatMessageSent:K.chatMessageReceived},children:[!Be&&!fe&&m.jsx("div",{style:K.messageSender,children:z.senderName}),m.jsx("div",{style:K.messageText,children:z.text}),m.jsx("div",{style:K.messageTime,children:wi(z.createdAt)})]},z.id)}),m.jsx("div",{ref:I})]}),m.jsxs("div",{style:K.chatInputArea,children:[m.jsx("input",{type:"text",style:K.chatInput,placeholder:"Type a message...",value:S,onChange:z=>E(z.target.value),onKeyPress:Ae,disabled:P}),m.jsx("button",{style:{...K.chatSendBtn,opacity:P||!S.trim()?.5:1},onClick:W,disabled:P||!S.trim(),children:P?"...":""})]})]})})]})}const K={container:{minHeight:"100vh",background:"#0a0a0a",padding:"20px"},contentWrapper:{maxWidth:"1200px",margin:"0 auto"},header:{display:"flex",alignItems:"center",gap:"20px",marginBottom:"20px"},pageTitle:{color:"#ffd700",fontSize:"28px",margin:0},tabs:{display:"flex",gap:"8px",margin:"20px 0",borderBottom:"2px solid #333"},tab:{padding:"12px 24px",cursor:"pointer",color:"#999",borderTopLeftRadius:"8px",borderTopRightRadius:"8px",background:"#1a1a1a",border:"1px solid #333",borderBottom:"none",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px",fontWeight:"500"},tabActive:{color:"#0a0a0a",background:"#ffd700",borderColor:"#ffd700",fontWeight:"600"},badge:{background:"#ff4444",color:"#fff",padding:"2px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"700"},tabContent:{display:"block",paddingTop:"20px"},loading:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px",color:"#999"},spinner:{width:"40px",height:"40px",border:"4px solid rgba(255, 214, 10, 0.2)",borderTop:"4px solid #ffd700",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"},emptyState:{textAlign:"center",padding:"60px 20px",color:"#999"},emptyIcon:{fontSize:"80px",display:"block",marginBottom:"20px",opacity:.5},emptySubtext:{fontSize:"14px",color:"#666",marginTop:"8px"},requestCard:{background:"#1a1a1a",padding:"20px",border:"1px solid #333",borderRadius:"12px",marginBottom:"16px",transition:"all 0.3s ease",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"20px",flexWrap:"wrap"},requestInfo:{flex:1,minWidth:"300px"},vacantTitle:{color:"#ffd700",fontWeight:"600",fontSize:"18px",marginBottom:"10px"},requestDetails:{display:"flex",gap:"16px",color:"#999",fontSize:"14px",marginBottom:"10px",flexWrap:"wrap"},requestMessage:{color:"#ccc",fontSize:"14px",marginBottom:"10px",fontStyle:"italic",padding:"8px 12px",background:"rgba(255, 214, 10, 0.05)",borderLeft:"3px solid #ffd700",borderRadius:"4px"},requestMeta:{display:"flex",alignItems:"center",gap:"12px",fontSize:"13px",flexWrap:"wrap"},statuspending:{padding:"4px 10px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",background:"rgba(255, 193, 7, 0.2)",color:"#ffd700",border:"1px solid #ffd700"},statusaccepted:{padding:"4px 10px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",background:"rgba(40, 167, 69, 0.2)",color:"#28a745",border:"1px solid #28a745"},statusrejected:{padding:"4px 10px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",background:"rgba(220, 53, 69, 0.2)",color:"#dc3545",border:"1px solid #dc3545"},requestActions:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},btnAccept:{padding:"10px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"14px",background:"#ffd700",color:"#0a0a0a",transition:"all 0.3s ease"},btnReject:{padding:"10px 16px",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px",background:"transparent",color:"#ff4444",border:"1px solid #ff4444",transition:"all 0.3s ease"},btnChat:{padding:"10px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"14px",background:"linear-gradient(135deg, #ffd700, #e6b300)",color:"#0a0a0a",boxShadow:"0 2px 8px rgba(255, 214, 10, 0.3)",transition:"all 0.3s ease"},btnView:{padding:"10px 16px",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px",background:"#333",color:"#fff",border:"1px solid #555",transition:"all 0.3s ease"},chatOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},chatModal:{background:"#1a1a1a",border:"1px solid #333",borderRadius:"16px",width:"100%",maxWidth:"600px",maxHeight:"80vh",display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)"},chatHeader:{padding:"20px",borderBottom:"1px solid #333",background:"linear-gradient(135deg, rgba(255, 214, 10, 0.1), rgba(255, 214, 10, 0.05))",display:"flex",justifyContent:"space-between",alignItems:"center"},chatTitle:{color:"#ffd700",fontWeight:"600",fontSize:"18px",marginBottom:"4px"},chatSubtitle:{color:"#999",fontSize:"13px"},closeChatButton:{background:"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",width:"36px",height:"36px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},chatMessages:{flex:1,padding:"20px",overflowY:"auto",background:"#0a0a0a",display:"flex",flexDirection:"column",gap:"12px"},noChatMessages:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#666",fontStyle:"italic"},chatMessage:{padding:"12px 16px",borderRadius:"12px",maxWidth:"75%",wordWrap:"break-word",animation:"fadeIn 0.3s ease"},chatMessageSent:{background:"#ffd700",color:"#0a0a0a",marginLeft:"auto",borderBottomRightRadius:"4px"},chatMessageReceived:{background:"#2a2a2a",color:"#fff",marginRight:"auto",borderBottomLeftRadius:"4px"},chatMessageSystem:{background:"rgba(255, 214, 10, 0.1)",color:"#ffd700",margin:"0 auto",textAlign:"center",fontSize:"13px",fontStyle:"italic",border:"1px dashed rgba(255, 214, 10, 0.3)"},messageSender:{fontSize:"11px",color:"#999",marginBottom:"4px",fontWeight:"600"},messageText:{marginBottom:"4px",lineHeight:"1.4"},messageTime:{fontSize:"10px",color:"#666",textAlign:"right"},chatInputArea:{padding:"20px",borderTop:"1px solid #333",display:"flex",gap:"12px",background:"#1a1a1a"},chatInput:{flex:1,padding:"12px 16px",borderRadius:"24px",border:"1px solid #333",background:"#0a0a0a",color:"#fff",fontSize:"14px",outline:"none",transition:"border-color 0.3s ease"},chatSendBtn:{padding:"12px 20px",background:"#ffd700",color:"#0a0a0a",border:"none",borderRadius:"24px",cursor:"pointer",fontWeight:"600",fontSize:"18px",transition:"all 0.3s ease",minWidth:"60px"},backBtn:{background:"transparent",border:"1px solid #333",color:"#ffd700",padding:"8px 16px",borderRadius:"8px",cursor:"pointer",marginBottom:"20px",fontWeight:"bold",transition:"all 0.3s ease",fontSize:"15px"}};function fV(){return m.jsx(PR,{children:m.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-black)"},children:[m.jsx(HM,{}),m.jsxs(kR,{children:[m.jsx(On,{path:"/",element:m.jsx(JM,{})}),m.jsx(On,{path:"/login",element:m.jsx(ZM,{})}),m.jsx(On,{path:"/create-vacant",element:m.jsx(tV,{})}),m.jsx(On,{path:"/vacant/:id",element:m.jsx(nV,{})}),m.jsx(On,{path:"/my-vacants",element:m.jsx(iV,{})}),m.jsx(On,{path:"/profile",element:m.jsx(rV,{})}),m.jsx(On,{path:"/raise-request",element:m.jsx(lV,{})}),m.jsx(On,{path:"/your-requests",element:m.jsx(hV,{})}),m.jsx(On,{path:"*",element:m.jsx(MR,{to:"/",replace:!0})})]})]})})}q2.createRoot(document.getElementById("root")).render(m.jsx(Lr.StrictMode,{children:m.jsx(fV,{})}));
