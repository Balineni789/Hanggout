function Kx(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function V0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var k0={exports:{}},qc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx=Symbol.for("react.transitional.element"),$x=Symbol.for("react.fragment");function j0(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:Xx,type:t,key:i,ref:e!==void 0?e:null,props:n}}qc.Fragment=$x;qc.jsx=j0;qc.jsxs=j0;k0.exports=qc;var p=k0.exports,L0={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp=Symbol.for("react.transitional.element"),Wx=Symbol.for("react.portal"),Jx=Symbol.for("react.fragment"),Zx=Symbol.for("react.strict_mode"),eA=Symbol.for("react.profiler"),tA=Symbol.for("react.consumer"),nA=Symbol.for("react.context"),iA=Symbol.for("react.forward_ref"),rA=Symbol.for("react.suspense"),sA=Symbol.for("react.memo"),U0=Symbol.for("react.lazy"),aA=Symbol.for("react.activity"),by=Symbol.iterator;function oA(t){return t===null||typeof t!="object"?null:(t=by&&t[by]||t["@@iterator"],typeof t=="function"?t:null)}var P0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z0=Object.assign,B0={};function Sa(t,e,n){this.props=t,this.context=e,this.refs=B0,this.updater=n||P0}Sa.prototype.isReactComponent={};Sa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function q0(){}q0.prototype=Sa.prototype;function Ep(t,e,n){this.props=t,this.context=e,this.refs=B0,this.updater=n||P0}var Sp=Ep.prototype=new q0;Sp.constructor=Ep;z0(Sp,Sa.prototype);Sp.isPureReactComponent=!0;var Ty=Array.isArray;function Wf(){}var Ue={H:null,A:null,T:null,S:null},H0=Object.prototype.hasOwnProperty;function xp(t,e,n){var i=n.ref;return{$$typeof:Tp,type:t,key:e,ref:i!==void 0?i:null,props:n}}function lA(t,e){return xp(t.type,e,t.props)}function Ap(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tp}function uA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ey=/\/+/g;function tf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uA(""+t.key):e.toString(36)}function cA(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Wf,Wf):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Rs(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Tp:case Wx:a=!0;break;case U0:return a=t._init,Rs(a(t._payload),e,n,i,r)}}if(a)return r=r(t),a=i===""?"."+tf(t,0):i,Ty(r)?(n="",a!=null&&(n=a.replace(Ey,"$&/")+"/"),Rs(r,e,n,"",function(c){return c})):r!=null&&(Ap(r)&&(r=lA(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(Ey,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=i===""?".":i+":";if(Ty(t))for(var u=0;u<t.length;u++)i=t[u],s=l+tf(i,u),a+=Rs(i,e,n,s,r);else if(u=oA(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,s=l+tf(i,u++),a+=Rs(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return Rs(cA(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Zl(t,e,n){if(t==null)return t;var i=[],r=0;return Rs(t,i,"","",function(s){return e.call(n,s,r++)}),i}function hA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sy=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},fA={map:Zl,forEach:function(t,e,n){Zl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zl(t,function(){e++}),e},toArray:function(t){return Zl(t,function(e){return e})||[]},only:function(t){if(!Ap(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Activity=aA;ne.Children=fA;ne.Component=Sa;ne.Fragment=Jx;ne.Profiler=eA;ne.PureComponent=Ep;ne.StrictMode=Zx;ne.Suspense=rA;ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ue;ne.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ue.H.useMemoCache(t)}};ne.cache=function(t){return function(){return t.apply(null,arguments)}};ne.cacheSignal=function(){return null};ne.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=z0({},t.props),r=t.key;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)!H0.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}return xp(t.type,r,i)};ne.createContext=function(t){return t={$$typeof:nA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:tA,_context:t},t};ne.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)H0.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return xp(t,s,r)};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:iA,render:t}};ne.isValidElement=Ap;ne.lazy=function(t){return{$$typeof:U0,_payload:{_status:-1,_result:t},_init:hA}};ne.memo=function(t,e){return{$$typeof:sA,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=Ue.T,n={};Ue.T=n;try{var i=t(),r=Ue.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Wf,Sy)}catch(s){Sy(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ue.T=e}};ne.unstable_useCacheRefresh=function(){return Ue.H.useCacheRefresh()};ne.use=function(t){return Ue.H.use(t)};ne.useActionState=function(t,e,n){return Ue.H.useActionState(t,e,n)};ne.useCallback=function(t,e){return Ue.H.useCallback(t,e)};ne.useContext=function(t){return Ue.H.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t,e){return Ue.H.useDeferredValue(t,e)};ne.useEffect=function(t,e){return Ue.H.useEffect(t,e)};ne.useEffectEvent=function(t){return Ue.H.useEffectEvent(t)};ne.useId=function(){return Ue.H.useId()};ne.useImperativeHandle=function(t,e,n){return Ue.H.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return Ue.H.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return Ue.H.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return Ue.H.useMemo(t,e)};ne.useOptimistic=function(t,e){return Ue.H.useOptimistic(t,e)};ne.useReducer=function(t,e,n){return Ue.H.useReducer(t,e,n)};ne.useRef=function(t){return Ue.H.useRef(t)};ne.useState=function(t){return Ue.H.useState(t)};ne.useSyncExternalStore=function(t,e,n){return Ue.H.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return Ue.H.useTransition()};ne.version="19.2.1";L0.exports=ne;var k=L0.exports;const Fr=V0(k),dA=Kx({__proto__:null,default:Fr},[k]);var F0={exports:{}},Hc={},G0={exports:{}},Q0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,Z){var J=G.length;G.push(Z);e:for(;0<J;){var Re=J-1>>>1,ze=G[Re];if(0<r(ze,Z))G[Re]=Z,G[J]=ze,J=Re;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Z=G[0],J=G.pop();if(J!==Z){G[0]=J;e:for(var Re=0,ze=G.length,Bt=ze>>>1;Re<Bt;){var kt=2*(Re+1)-1,qe=G[kt],fn=kt+1,Wt=G[fn];if(0>r(qe,J))fn<ze&&0>r(Wt,qe)?(G[Re]=Wt,G[fn]=J,Re=fn):(G[Re]=qe,G[kt]=J,Re=kt);else if(fn<ze&&0>r(Wt,J))G[Re]=Wt,G[fn]=J,Re=fn;else break e}}return Z}function r(G,Z){var J=G.sortIndex-Z.sortIndex;return J!==0?J:G.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],f=1,g=null,m=3,_=!1,R=!1,D=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function M(G){for(var Z=n(c);Z!==null;){if(Z.callback===null)i(c);else if(Z.startTime<=G)i(c),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(c)}}function z(G){if(D=!1,M(G),!R)if(n(u)!==null)R=!0,B||(B=!0,O());else{var Z=n(c);Z!==null&&An(z,Z.startTime-G)}}var B=!1,E=-1,y=5,b=-1;function x(){return C?!0:!(t.unstable_now()-b<y)}function I(){if(C=!1,B){var G=t.unstable_now();b=G;var Z=!0;try{e:{R=!1,D&&(D=!1,T(E),E=-1),_=!0;var J=m;try{t:{for(M(G),g=n(u);g!==null&&!(g.expirationTime>G&&x());){var Re=g.callback;if(typeof Re=="function"){g.callback=null,m=g.priorityLevel;var ze=Re(g.expirationTime<=G);if(G=t.unstable_now(),typeof ze=="function"){g.callback=ze,M(G),Z=!0;break t}g===n(u)&&i(u),M(G)}else i(u);g=n(u)}if(g!==null)Z=!0;else{var Bt=n(c);Bt!==null&&An(z,Bt.startTime-G),Z=!1}}break e}finally{g=null,m=J,_=!1}Z=void 0}}finally{Z?O():B=!1}}}var O;if(typeof A=="function")O=function(){A(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Je=w.port2;w.port1.onmessage=I,O=function(){Je.postMessage(null)}}else O=function(){S(I,0)};function An(G,Z){E=S(function(){G(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(G){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var J=m;m=Z;try{return G()}finally{m=J}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=m;m=G;try{return Z()}finally{m=J}},t.unstable_scheduleCallback=function(G,Z,J){var Re=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Re+J:Re):J=Re,G){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=J+ze,G={id:f++,callback:Z,priorityLevel:G,startTime:J,expirationTime:ze,sortIndex:-1},J>Re?(G.sortIndex=J,e(c,G),n(u)===null&&G===n(c)&&(D?(T(E),E=-1):D=!0,An(z,J-Re))):(G.sortIndex=ze,e(u,G),R||_||(R=!0,B||(B=!0,O()))),G},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(G){var Z=m;return function(){var J=m;m=Z;try{return G.apply(this,arguments)}finally{m=J}}}})(Q0);G0.exports=Q0;var pA=G0.exports,Y0={exports:{}},zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA=k;function K0(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Mi(){}var Pt={d:{f:Mi,r:function(){throw Error(K0(522))},D:Mi,C:Mi,L:Mi,m:Mi,X:Mi,S:Mi,M:Mi},p:0,findDOMNode:null},mA=Symbol.for("react.portal");function yA(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mA,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var yo=gA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Fc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pt;zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(K0(299));return yA(t,e,null,n)};zt.flushSync=function(t){var e=yo.T,n=Pt.p;try{if(yo.T=null,Pt.p=2,t)return t()}finally{yo.T=e,Pt.p=n,Pt.d.f()}};zt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Pt.d.C(t,e))};zt.prefetchDNS=function(t){typeof t=="string"&&Pt.d.D(t)};zt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Fc(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Pt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&Pt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};zt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Fc(e.as,e.crossOrigin);Pt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Pt.d.M(t)};zt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Fc(n,e.crossOrigin);Pt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};zt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Fc(e.as,e.crossOrigin);Pt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Pt.d.m(t)};zt.requestFormReset=function(t){Pt.d.r(t)};zt.unstable_batchedUpdates=function(t,e){return t(e)};zt.useFormState=function(t,e,n){return yo.H.useFormState(t,e,n)};zt.useFormStatus=function(){return yo.H.useHostTransitionStatus()};zt.version="19.2.1";function X0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X0)}catch(t){console.error(t)}}X0(),Y0.exports=zt;var vA=Y0.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ht=pA,$0=k,_A=vA;function L(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function W0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ul(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function J0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Z0(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xy(t){if(ul(t)!==t)throw Error(L(188))}function bA(t){var e=t.alternate;if(!e){if(e=ul(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return xy(r),t;if(s===i)return xy(r),e;s=s.sibling}throw Error(L(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function eb(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=eb(t),e!==null)return e;t=t.sibling}return null}var Pe=Object.assign,TA=Symbol.for("react.element"),eu=Symbol.for("react.transitional.element"),oo=Symbol.for("react.portal"),Vs=Symbol.for("react.fragment"),tb=Symbol.for("react.strict_mode"),Jf=Symbol.for("react.profiler"),nb=Symbol.for("react.consumer"),li=Symbol.for("react.context"),wp=Symbol.for("react.forward_ref"),Zf=Symbol.for("react.suspense"),ed=Symbol.for("react.suspense_list"),Rp=Symbol.for("react.memo"),ji=Symbol.for("react.lazy"),td=Symbol.for("react.activity"),EA=Symbol.for("react.memo_cache_sentinel"),Ay=Symbol.iterator;function eo(t){return t===null||typeof t!="object"?null:(t=Ay&&t[Ay]||t["@@iterator"],typeof t=="function"?t:null)}var SA=Symbol.for("react.client.reference");function nd(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===SA?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vs:return"Fragment";case Jf:return"Profiler";case tb:return"StrictMode";case Zf:return"Suspense";case ed:return"SuspenseList";case td:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case oo:return"Portal";case li:return t.displayName||"Context";case nb:return(t._context.displayName||"Context")+".Consumer";case wp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rp:return e=t.displayName||null,e!==null?e:nd(t.type)||"Memo";case ji:e=t._payload,t=t._init;try{return nd(t(e))}catch{}}return null}var lo=Array.isArray,$=$0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve=_A.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Gr={pending:!1,data:null,method:null,action:null},id=[],ks=-1;function $n(t){return{current:t}}function gt(t){0>ks||(t.current=id[ks],id[ks]=null,ks--)}function Ne(t,e){ks++,id[ks]=t.current,t.current=e}var Bn=$n(null),Lo=$n(null),Ji=$n(null),Yu=$n(null);function Ku(t,e){switch(Ne(Ji,e),Ne(Lo,t),Ne(Bn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Ov(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Ov(e),t=EE(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}gt(Bn),Ne(Bn,t)}function ra(){gt(Bn),gt(Lo),gt(Ji)}function rd(t){t.memoizedState!==null&&Ne(Yu,t);var e=Bn.current,n=EE(e,t.type);e!==n&&(Ne(Lo,t),Ne(Bn,n))}function Xu(t){Lo.current===t&&(gt(Bn),gt(Lo)),Yu.current===t&&(gt(Yu),Ko._currentValue=Gr)}var nf,wy;function Lr(t){if(nf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nf=e&&e[1]||"",wy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nf+t+wy}var rf=!1;function sf(t,e){if(!t||rf)return"";rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(_){var m=_}Reflect.construct(t,[],g)}else{try{g.call()}catch(_){m=_}t.call(g.prototype)}}else{try{throw Error()}catch(_){m=_}(g=t())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(_){if(_&&m&&typeof _.stack=="string")return[_.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var f=`
`+u[i].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=i&&0<=r);break}}}finally{rf=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Lr(n):""}function xA(t,e){switch(t.tag){case 26:case 27:case 5:return Lr(t.type);case 16:return Lr("Lazy");case 13:return t.child!==e&&e!==null?Lr("Suspense Fallback"):Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 15:return sf(t.type,!1);case 11:return sf(t.type.render,!1);case 1:return sf(t.type,!0);case 31:return Lr("Activity");default:return""}}function Ry(t){try{var e="",n=null;do e+=xA(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var sd=Object.prototype.hasOwnProperty,Ip=ht.unstable_scheduleCallback,af=ht.unstable_cancelCallback,AA=ht.unstable_shouldYield,wA=ht.unstable_requestPaint,sn=ht.unstable_now,RA=ht.unstable_getCurrentPriorityLevel,ib=ht.unstable_ImmediatePriority,rb=ht.unstable_UserBlockingPriority,$u=ht.unstable_NormalPriority,IA=ht.unstable_LowPriority,sb=ht.unstable_IdlePriority,CA=ht.log,DA=ht.unstable_setDisableYieldValue,cl=null,an=null;function Gi(t){if(typeof CA=="function"&&DA(t),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(cl,t)}catch{}}var on=Math.clz32?Math.clz32:MA,OA=Math.log,NA=Math.LN2;function MA(t){return t>>>=0,t===0?32:31-(OA(t)/NA|0)|0}var tu=256,nu=262144,iu=4194304;function Ur(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Gc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Ur(i):(a&=l,a!==0?r=Ur(a):n||(n=l&~t,n!==0&&(r=Ur(n))))):(l=i&~s,l!==0?r=Ur(l):a!==0?r=Ur(a):n||(n=i&~t,n!==0&&(r=Ur(n)))),r===0?0:e!==0&&e!==r&&!(e&s)&&(s=r&-r,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:r}function hl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function VA(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ab(){var t=iu;return iu<<=1,!(iu&62914560)&&(iu=4194304),t}function of(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kA(t,e,n,i,r,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-on(n),g=1<<f;l[f]=0,u[f]=-1;var m=c[f];if(m!==null)for(c[f]=null,f=0;f<m.length;f++){var _=m[f];_!==null&&(_.lane&=-536870913)}n&=~g}i!==0&&ob(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function ob(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-on(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function lb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-on(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function ub(t,e){var n=e&-e;return n=n&42?1:Cp(n),n&(t.suspendedLanes|e)?0:n}function Cp(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Dp(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function cb(){var t=ve.p;return t!==0?t:(t=window.event,t===void 0?32:ME(t.type))}function Iy(t,e){var n=ve.p;try{return ve.p=t,e()}finally{ve.p=n}}var Ar=Math.random().toString(36).slice(2),Et="__reactFiber$"+Ar,Xt="__reactProps$"+Ar,xa="__reactContainer$"+Ar,ad="__reactEvents$"+Ar,jA="__reactListeners$"+Ar,LA="__reactHandles$"+Ar,Cy="__reactResources$"+Ar,dl="__reactMarker$"+Ar;function Op(t){delete t[Et],delete t[Xt],delete t[ad],delete t[jA],delete t[LA]}function js(t){var e=t[Et];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xa]||n[Et]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jv(t);t!==null;){if(n=t[Et])return n;t=jv(t)}return e}t=n,n=t.parentNode}return null}function Aa(t){if(t=t[Et]||t[xa]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function uo(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(L(33))}function Qs(t){var e=t[Cy];return e||(e=t[Cy]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function pt(t){t[dl]=!0}var hb=new Set,fb={};function hs(t,e){sa(t,e),sa(t+"Capture",e)}function sa(t,e){for(fb[t]=e,t=0;t<e.length;t++)hb.add(e[t])}var UA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dy={},Oy={};function PA(t){return sd.call(Oy,t)?!0:sd.call(Dy,t)?!1:UA.test(t)?Oy[t]=!0:(Dy[t]=!0,!1)}function Eu(t,e,n){if(PA(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function ru(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ei(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function pn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function db(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zA(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function od(t){if(!t._valueTracker){var e=db(t)?"checked":"value";t._valueTracker=zA(t,e,""+t[e])}}function pb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=db(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Wu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var BA=/[\n"\\]/g;function yn(t){return t.replace(BA,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ld(t,e,n,i,r,s,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+pn(e)):t.value!==""+pn(e)&&(t.value=""+pn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?ud(t,a,pn(e)):n!=null?ud(t,a,pn(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+pn(l):t.removeAttribute("name")}function gb(t,e,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){od(t);return}n=n!=null?""+pn(n):"",e=e!=null?""+pn(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),od(t)}function ud(t,e,n){e==="number"&&Wu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ys(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+pn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function mb(t,e,n){if(e!=null&&(e=""+pn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+pn(n):""}function yb(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(L(92));if(lo(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=pn(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),od(t)}function aa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ny(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||qA.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function vb(t,e,n){if(e!=null&&typeof e!="object")throw Error(L(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&Ny(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&Ny(t,s,e[s])}function Np(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Su(t){return FA.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var cd=null;function Mp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ls=null,Ks=null;function My(t){var e=Aa(t);if(e&&(t=e.stateNode)){var n=t[Xt]||null;e:switch(t=e.stateNode,e.type){case"input":if(ld(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[Xt]||null;if(!r)throw Error(L(90));ld(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&pb(i)}break e;case"textarea":mb(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ys(t,!!n.multiple,e,!1)}}}var lf=!1;function _b(t,e,n){if(lf)return t(e,n);lf=!0;try{var i=t(e);return i}finally{if(lf=!1,(Ls!==null||Ks!==null)&&(ih(),Ls&&(e=Ls,t=Ks,Ks=Ls=null,My(e),t)))for(e=0;e<t.length;e++)My(t[e])}}function Uo(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Xt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hd=!1;if(yi)try{var to={};Object.defineProperty(to,"passive",{get:function(){hd=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{hd=!1}var Qi=null,Vp=null,xu=null;function bb(){if(xu)return xu;var t,e=Vp,n=e.length,i,r="value"in Qi?Qi.value:Qi.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return xu=r.slice(t,1<i?1-i:void 0)}function Au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function su(){return!0}function Vy(){return!1}function $t(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?su:Vy,this.isPropagationStopped=Vy,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),e}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qc=$t(fs),pl=Pe({},fs,{view:0,detail:0}),GA=$t(pl),uf,cf,no,Yc=Pe({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==no&&(no&&t.type==="mousemove"?(uf=t.screenX-no.screenX,cf=t.screenY-no.screenY):cf=uf=0,no=t),uf)},movementY:function(t){return"movementY"in t?t.movementY:cf}}),ky=$t(Yc),QA=Pe({},Yc,{dataTransfer:0}),YA=$t(QA),KA=Pe({},pl,{relatedTarget:0}),hf=$t(KA),XA=Pe({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),$A=$t(XA),WA=Pe({},fs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JA=$t(WA),ZA=Pe({},fs,{data:0}),jy=$t(ZA),ew={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nw[t])?!!e[t]:!1}function kp(){return iw}var rw=Pe({},pl,{key:function(t){if(t.key){var e=ew[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kp,charCode:function(t){return t.type==="keypress"?Au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sw=$t(rw),aw=Pe({},Yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ly=$t(aw),ow=Pe({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kp}),lw=$t(ow),uw=Pe({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),cw=$t(uw),hw=Pe({},Yc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fw=$t(hw),dw=Pe({},fs,{newState:0,oldState:0}),pw=$t(dw),gw=[9,13,27,32],jp=yi&&"CompositionEvent"in window,vo=null;yi&&"documentMode"in document&&(vo=document.documentMode);var mw=yi&&"TextEvent"in window&&!vo,Tb=yi&&(!jp||vo&&8<vo&&11>=vo),Uy=" ",Py=!1;function Eb(t,e){switch(t){case"keyup":return gw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function yw(t,e){switch(t){case"compositionend":return Sb(e);case"keypress":return e.which!==32?null:(Py=!0,Uy);case"textInput":return t=e.data,t===Uy&&Py?null:t;default:return null}}function vw(t,e){if(Us)return t==="compositionend"||!jp&&Eb(t,e)?(t=bb(),xu=Vp=Qi=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tb&&e.locale!=="ko"?null:e.data;default:return null}}var _w={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_w[t.type]:e==="textarea"}function xb(t,e,n,i){Ls?Ks?Ks.push(i):Ks=[i]:Ls=i,e=gc(e,"onChange"),0<e.length&&(n=new Qc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var _o=null,Po=null;function bw(t){_E(t,0)}function Kc(t){var e=uo(t);if(pb(e))return t}function By(t,e){if(t==="change")return e}var Ab=!1;if(yi){var ff;if(yi){var df="oninput"in document;if(!df){var qy=document.createElement("div");qy.setAttribute("oninput","return;"),df=typeof qy.oninput=="function"}ff=df}else ff=!1;Ab=ff&&(!document.documentMode||9<document.documentMode)}function Hy(){_o&&(_o.detachEvent("onpropertychange",wb),Po=_o=null)}function wb(t){if(t.propertyName==="value"&&Kc(Po)){var e=[];xb(e,Po,t,Mp(t)),_b(bw,e)}}function Tw(t,e,n){t==="focusin"?(Hy(),_o=e,Po=n,_o.attachEvent("onpropertychange",wb)):t==="focusout"&&Hy()}function Ew(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kc(Po)}function Sw(t,e){if(t==="click")return Kc(e)}function xw(t,e){if(t==="input"||t==="change")return Kc(e)}function Aw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var un=typeof Object.is=="function"?Object.is:Aw;function zo(t,e){if(un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!sd.call(e,r)||!un(t[r],e[r]))return!1}return!0}function Fy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gy(t,e){var n=Fy(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fy(n)}}function Rb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ib(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Wu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wu(t.document)}return e}function Lp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var ww=yi&&"documentMode"in document&&11>=document.documentMode,Ps=null,fd=null,bo=null,dd=!1;function Qy(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dd||Ps==null||Ps!==Wu(i)||(i=Ps,"selectionStart"in i&&Lp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),bo&&zo(bo,i)||(bo=i,i=gc(fd,"onSelect"),0<i.length&&(e=new Qc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ps)))}function jr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zs={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},pf={},Cb={};yi&&(Cb=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function ds(t){if(pf[t])return pf[t];if(!zs[t])return t;var e=zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Cb)return pf[t]=e[n];return t}var Db=ds("animationend"),Ob=ds("animationiteration"),Nb=ds("animationstart"),Rw=ds("transitionrun"),Iw=ds("transitionstart"),Cw=ds("transitioncancel"),Mb=ds("transitionend"),Vb=new Map,pd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pd.push("scrollEnd");function jn(t,e){Vb.set(t,e),hs(e,[t])}var Ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},dn=[],Bs=0,Up=0;function Xc(){for(var t=Bs,e=Up=Bs=0;e<t;){var n=dn[e];dn[e++]=null;var i=dn[e];dn[e++]=null;var r=dn[e];dn[e++]=null;var s=dn[e];if(dn[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&kb(n,r,s)}}function $c(t,e,n,i){dn[Bs++]=t,dn[Bs++]=e,dn[Bs++]=n,dn[Bs++]=i,Up|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Pp(t,e,n,i){return $c(t,e,n,i),Zu(t)}function ps(t,e){return $c(t,null,null,e),Zu(t)}function kb(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,r&&e!==null&&(r=31-on(n),t=s.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),s):null}function Zu(t){if(50<Co)throw Co=0,kd=null,Error(L(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var qs={};function Dw(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,n,i){return new Dw(t,e,n,i)}function zp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function di(t,e){var n=t.alternate;return n===null?(n=tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function jb(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function wu(t,e,n,i,r,s){var a=0;if(i=t,typeof t=="function")zp(t)&&(a=1);else if(typeof t=="string")a=kR(t,n,Bn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case td:return t=tn(31,n,e,r),t.elementType=td,t.lanes=s,t;case Vs:return Qr(n.children,r,s,e);case tb:a=8,r|=24;break;case Jf:return t=tn(12,n,e,r|2),t.elementType=Jf,t.lanes=s,t;case Zf:return t=tn(13,n,e,r),t.elementType=Zf,t.lanes=s,t;case ed:return t=tn(19,n,e,r),t.elementType=ed,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case li:a=10;break e;case nb:a=9;break e;case wp:a=11;break e;case Rp:a=14;break e;case ji:a=16,i=null;break e}a=29,n=Error(L(130,t===null?"null":typeof t,"")),i=null}return e=tn(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Qr(t,e,n,i){return t=tn(7,t,i,e),t.lanes=n,t}function gf(t,e,n){return t=tn(6,t,null,e),t.lanes=n,t}function Lb(t){var e=tn(18,null,null,0);return e.stateNode=t,e}function mf(t,e,n){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Yy=new WeakMap;function vn(t,e){if(typeof t=="object"&&t!==null){var n=Yy.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Ry(e)},Yy.set(t,e),e)}return{value:t,source:e,stack:Ry(e)}}var Hs=[],Fs=0,ec=null,Bo=0,gn=[],mn=0,fr=null,Un=1,Pn="";function si(t,e){Hs[Fs++]=Bo,Hs[Fs++]=ec,ec=t,Bo=e}function Ub(t,e,n){gn[mn++]=Un,gn[mn++]=Pn,gn[mn++]=fr,fr=t;var i=Un;t=Pn;var r=32-on(i)-1;i&=~(1<<r),n+=1;var s=32-on(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Un=1<<32-on(e)+r|n<<r|i,Pn=s+t}else Un=1<<s|n<<r|i,Pn=t}function Bp(t){t.return!==null&&(si(t,1),Ub(t,1,0))}function qp(t){for(;t===ec;)ec=Hs[--Fs],Hs[Fs]=null,Bo=Hs[--Fs],Hs[Fs]=null;for(;t===fr;)fr=gn[--mn],gn[mn]=null,Pn=gn[--mn],gn[mn]=null,Un=gn[--mn],gn[mn]=null}function Pb(t,e){gn[mn++]=Un,gn[mn++]=Pn,gn[mn++]=fr,Un=e.id,Pn=e.overflow,fr=t}var St=null,je=null,pe=!1,Zi=null,_n=!1,gd=Error(L(519));function dr(t){var e=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(vn(e,t)),gd}function Ky(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Et]=t,e[Xt]=i,n){case"dialog":oe("cancel",e),oe("close",e);break;case"iframe":case"object":case"embed":oe("load",e);break;case"video":case"audio":for(n=0;n<Qo.length;n++)oe(Qo[n],e);break;case"source":oe("error",e);break;case"img":case"image":case"link":oe("error",e),oe("load",e);break;case"details":oe("toggle",e);break;case"input":oe("invalid",e),gb(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":oe("invalid",e);break;case"textarea":oe("invalid",e),yb(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||TE(e.textContent,n)?(i.popover!=null&&(oe("beforetoggle",e),oe("toggle",e)),i.onScroll!=null&&oe("scroll",e),i.onScrollEnd!=null&&oe("scrollend",e),i.onClick!=null&&(e.onclick=ui),e=!0):e=!1,e||dr(t,!0)}function Xy(t){for(St=t.return;St;)switch(St.tag){case 5:case 31:case 13:_n=!1;return;case 27:case 3:_n=!0;return;default:St=St.return}}function As(t){if(t!==St)return!1;if(!pe)return Xy(t),pe=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||zd(t.type,t.memoizedProps)),n=!n),n&&je&&dr(t),Xy(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));je=kv(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));je=kv(t)}else e===27?(e=je,wr(t.type)?(t=Fd,Fd=null,je=t):je=e):je=St?En(t.stateNode.nextSibling):null;return!0}function es(){je=St=null,pe=!1}function yf(){var t=Zi;return t!==null&&(Gt===null?Gt=t:Gt.push.apply(Gt,t),Zi=null),t}function qo(t){Zi===null?Zi=[t]:Zi.push(t)}var md=$n(null),gs=null,ci=null;function Ui(t,e,n){Ne(md,e._currentValue),e._currentValue=n}function pi(t){t._currentValue=md.current,gt(md)}function yd(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function vd(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var u=0;u<e.length;u++)if(l.context===e[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),yd(s.return,n,t),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(L(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),yd(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function wa(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(L(387));if(a=a.memoizedProps,a!==null){var l=r.type;un(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===Yu.current){if(a=r.alternate,a===null)throw Error(L(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Ko):t=[Ko])}r=r.return}t!==null&&vd(e,t,n,i),e.flags|=262144}function tc(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ts(t){gs=t,ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function At(t){return zb(gs,t)}function au(t,e){return gs===null&&ts(t),zb(t,e)}function zb(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ci===null){if(t===null)throw Error(L(308));ci=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ci=ci.next=e;return n}var Ow=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Nw=ht.unstable_scheduleCallback,Mw=ht.unstable_NormalPriority,nt={$$typeof:li,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hp(){return{controller:new Ow,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&Nw(Mw,function(){t.controller.abort()})}var To=null,_d=0,oa=0,Xs=null;function Vw(t,e){if(To===null){var n=To=[];_d=0,oa=pg(),Xs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return _d++,e.then($y,$y),e}function $y(){if(--_d===0&&To!==null){Xs!==null&&(Xs.status="fulfilled");var t=To;To=null,oa=0,Xs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function kw(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Wy=$.S;$.S=function(t,e){eE=sn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Vw(t,e),Wy!==null&&Wy(t,e)};var Yr=$n(null);function Fp(){var t=Yr.current;return t!==null?t:Ce.pooledCache}function Ru(t,e){e===null?Ne(Yr,Yr.current):Ne(Yr,e.pool)}function Bb(){var t=Fp();return t===null?null:{parent:nt._currentValue,pool:t}}var Ra=Error(L(460)),Gp=Error(L(474)),Wc=Error(L(542)),nc={then:function(){}};function Jy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qb(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(ui,ui),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ev(t),t;default:if(typeof e.status=="string")e.then(ui,ui);else{if(t=Ce,t!==null&&100<t.shellSuspendCounter)throw Error(L(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ev(t),t}throw Kr=e,Ra}}function Pr(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Kr=n,Ra):n}}var Kr=null;function Zy(){if(Kr===null)throw Error(L(459));var t=Kr;return Kr=null,t}function ev(t){if(t===Ra||t===Wc)throw Error(L(483))}var $s=null,Ho=0;function ou(t){var e=Ho;return Ho+=1,$s===null&&($s=[]),qb($s,t,e)}function io(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function lu(t,e){throw e.$$typeof===TA?Error(L(525)):(t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Hb(t){function e(S,T){if(t){var A=S.deletions;A===null?(S.deletions=[T],S.flags|=16):A.push(T)}}function n(S,T){if(!t)return null;for(;T!==null;)e(S,T),T=T.sibling;return null}function i(S){for(var T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function r(S,T){return S=di(S,T),S.index=0,S.sibling=null,S}function s(S,T,A){return S.index=A,t?(A=S.alternate,A!==null?(A=A.index,A<T?(S.flags|=67108866,T):A):(S.flags|=67108866,T)):(S.flags|=1048576,T)}function a(S){return t&&S.alternate===null&&(S.flags|=67108866),S}function l(S,T,A,M){return T===null||T.tag!==6?(T=gf(A,S.mode,M),T.return=S,T):(T=r(T,A),T.return=S,T)}function u(S,T,A,M){var z=A.type;return z===Vs?f(S,T,A.props.children,M,A.key):T!==null&&(T.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ji&&Pr(z)===T.type)?(T=r(T,A.props),io(T,A),T.return=S,T):(T=wu(A.type,A.key,A.props,null,S.mode,M),io(T,A),T.return=S,T)}function c(S,T,A,M){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=mf(A,S.mode,M),T.return=S,T):(T=r(T,A.children||[]),T.return=S,T)}function f(S,T,A,M,z){return T===null||T.tag!==7?(T=Qr(A,S.mode,M,z),T.return=S,T):(T=r(T,A),T.return=S,T)}function g(S,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=gf(""+T,S.mode,A),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case eu:return A=wu(T.type,T.key,T.props,null,S.mode,A),io(A,T),A.return=S,A;case oo:return T=mf(T,S.mode,A),T.return=S,T;case ji:return T=Pr(T),g(S,T,A)}if(lo(T)||eo(T))return T=Qr(T,S.mode,A,null),T.return=S,T;if(typeof T.then=="function")return g(S,ou(T),A);if(T.$$typeof===li)return g(S,au(S,T),A);lu(S,T)}return null}function m(S,T,A,M){var z=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return z!==null?null:l(S,T,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case eu:return A.key===z?u(S,T,A,M):null;case oo:return A.key===z?c(S,T,A,M):null;case ji:return A=Pr(A),m(S,T,A,M)}if(lo(A)||eo(A))return z!==null?null:f(S,T,A,M,null);if(typeof A.then=="function")return m(S,T,ou(A),M);if(A.$$typeof===li)return m(S,T,au(S,A),M);lu(S,A)}return null}function _(S,T,A,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return S=S.get(A)||null,l(T,S,""+M,z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case eu:return S=S.get(M.key===null?A:M.key)||null,u(T,S,M,z);case oo:return S=S.get(M.key===null?A:M.key)||null,c(T,S,M,z);case ji:return M=Pr(M),_(S,T,A,M,z)}if(lo(M)||eo(M))return S=S.get(A)||null,f(T,S,M,z,null);if(typeof M.then=="function")return _(S,T,A,ou(M),z);if(M.$$typeof===li)return _(S,T,A,au(T,M),z);lu(T,M)}return null}function R(S,T,A,M){for(var z=null,B=null,E=T,y=T=0,b=null;E!==null&&y<A.length;y++){E.index>y?(b=E,E=null):b=E.sibling;var x=m(S,E,A[y],M);if(x===null){E===null&&(E=b);break}t&&E&&x.alternate===null&&e(S,E),T=s(x,T,y),B===null?z=x:B.sibling=x,B=x,E=b}if(y===A.length)return n(S,E),pe&&si(S,y),z;if(E===null){for(;y<A.length;y++)E=g(S,A[y],M),E!==null&&(T=s(E,T,y),B===null?z=E:B.sibling=E,B=E);return pe&&si(S,y),z}for(E=i(E);y<A.length;y++)b=_(E,S,y,A[y],M),b!==null&&(t&&b.alternate!==null&&E.delete(b.key===null?y:b.key),T=s(b,T,y),B===null?z=b:B.sibling=b,B=b);return t&&E.forEach(function(I){return e(S,I)}),pe&&si(S,y),z}function D(S,T,A,M){if(A==null)throw Error(L(151));for(var z=null,B=null,E=T,y=T=0,b=null,x=A.next();E!==null&&!x.done;y++,x=A.next()){E.index>y?(b=E,E=null):b=E.sibling;var I=m(S,E,x.value,M);if(I===null){E===null&&(E=b);break}t&&E&&I.alternate===null&&e(S,E),T=s(I,T,y),B===null?z=I:B.sibling=I,B=I,E=b}if(x.done)return n(S,E),pe&&si(S,y),z;if(E===null){for(;!x.done;y++,x=A.next())x=g(S,x.value,M),x!==null&&(T=s(x,T,y),B===null?z=x:B.sibling=x,B=x);return pe&&si(S,y),z}for(E=i(E);!x.done;y++,x=A.next())x=_(E,S,y,x.value,M),x!==null&&(t&&x.alternate!==null&&E.delete(x.key===null?y:x.key),T=s(x,T,y),B===null?z=x:B.sibling=x,B=x);return t&&E.forEach(function(O){return e(S,O)}),pe&&si(S,y),z}function C(S,T,A,M){if(typeof A=="object"&&A!==null&&A.type===Vs&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case eu:e:{for(var z=A.key;T!==null;){if(T.key===z){if(z=A.type,z===Vs){if(T.tag===7){n(S,T.sibling),M=r(T,A.props.children),M.return=S,S=M;break e}}else if(T.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ji&&Pr(z)===T.type){n(S,T.sibling),M=r(T,A.props),io(M,A),M.return=S,S=M;break e}n(S,T);break}else e(S,T);T=T.sibling}A.type===Vs?(M=Qr(A.props.children,S.mode,M,A.key),M.return=S,S=M):(M=wu(A.type,A.key,A.props,null,S.mode,M),io(M,A),M.return=S,S=M)}return a(S);case oo:e:{for(z=A.key;T!==null;){if(T.key===z)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){n(S,T.sibling),M=r(T,A.children||[]),M.return=S,S=M;break e}else{n(S,T);break}else e(S,T);T=T.sibling}M=mf(A,S.mode,M),M.return=S,S=M}return a(S);case ji:return A=Pr(A),C(S,T,A,M)}if(lo(A))return R(S,T,A,M);if(eo(A)){if(z=eo(A),typeof z!="function")throw Error(L(150));return A=z.call(A),D(S,T,A,M)}if(typeof A.then=="function")return C(S,T,ou(A),M);if(A.$$typeof===li)return C(S,T,au(S,A),M);lu(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,T!==null&&T.tag===6?(n(S,T.sibling),M=r(T,A),M.return=S,S=M):(n(S,T),M=gf(A,S.mode,M),M.return=S,S=M),a(S)):n(S,T)}return function(S,T,A,M){try{Ho=0;var z=C(S,T,A,M);return $s=null,z}catch(E){if(E===Ra||E===Wc)throw E;var B=tn(29,E,null,S.mode);return B.lanes=M,B.return=S,B}finally{}}}var ns=Hb(!0),Fb=Hb(!1),Li=!1;function Qp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function tr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ye&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Zu(t),kb(t,null,n),e}return $c(t,i,e,n),Zu(t)}function Eo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,lb(t,n)}}function vf(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Td=!1;function So(){if(Td){var t=Xs;if(t!==null)throw t}}function xo(t,e,n,i){Td=!1;var r=t.updateQueue;Li=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var g=r.baseState;a=0,f=c=u=null,l=s;do{var m=l.lane&-536870913,_=m!==l.lane;if(_?(de&m)===m:(i&m)===m){m!==0&&m===oa&&(Td=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var R=t,D=l;m=e;var C=n;switch(D.tag){case 1:if(R=D.payload,typeof R=="function"){g=R.call(C,g,m);break e}g=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=D.payload,m=typeof R=="function"?R.call(C,g,m):R,m==null)break e;g=Pe({},g,m);break e;case 2:Li=!0}}m=l.callback,m!==null&&(t.flags|=64,_&&(t.flags|=8192),_=r.callbacks,_===null?r.callbacks=[m]:_.push(m))}else _={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=_,u=g):f=f.next=_,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;_=l,l=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);f===null&&(u=g),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=f,s===null&&(r.shared.lanes=0),gr|=a,t.lanes=a,t.memoizedState=g}}function Gb(t,e){if(typeof t!="function")throw Error(L(191,t));t.call(e)}function Qb(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Gb(n[t],e)}var la=$n(null),ic=$n(0);function tv(t,e){t=Ti,Ne(ic,t),Ne(la,e),Ti=t|e.baseLanes}function Ed(){Ne(ic,Ti),Ne(la,la.current)}function Yp(){Ti=ic.current,gt(la),gt(ic)}var cn=$n(null),Tn=null;function Pi(t){var e=t.alternate;Ne(Xe,Xe.current&1),Ne(cn,t),Tn===null&&(e===null||la.current!==null||e.memoizedState!==null)&&(Tn=t)}function Sd(t){Ne(Xe,Xe.current),Ne(cn,t),Tn===null&&(Tn=t)}function Yb(t){t.tag===22?(Ne(Xe,Xe.current),Ne(cn,t),Tn===null&&(Tn=t)):zi()}function zi(){Ne(Xe,Xe.current),Ne(cn,cn.current)}function en(t){gt(cn),Tn===t&&(Tn=null),gt(Xe)}var Xe=$n(0);function rc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||qd(n)||Hd(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vi=0,ie=null,we=null,et=null,sc=!1,Ws=!1,is=!1,ac=0,Fo=0,Js=null,jw=0;function Ge(){throw Error(L(321))}function Kp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!un(t[n],e[n]))return!1;return!0}function Xp(t,e,n,i,r,s){return vi=s,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$.H=t===null||t.memoizedState===null?xT:ag,is=!1,s=n(i,r),is=!1,Ws&&(s=Xb(e,n,i,r)),Kb(t),s}function Kb(t){$.H=Go;var e=we!==null&&we.next!==null;if(vi=0,et=we=ie=null,sc=!1,Fo=0,Js=null,e)throw Error(L(300));t===null||rt||(t=t.dependencies,t!==null&&tc(t)&&(rt=!0))}function Xb(t,e,n,i){ie=t;var r=0;do{if(Ws&&(Js=null),Fo=0,Ws=!1,25<=r)throw Error(L(301));if(r+=1,et=we=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}$.H=AT,s=e(n,i)}while(Ws);return s}function Lw(){var t=$.H,e=t.useState()[0];return e=typeof e.then=="function"?ml(e):e,t=t.useState()[0],(we!==null?we.memoizedState:null)!==t&&(ie.flags|=1024),e}function $p(){var t=ac!==0;return ac=0,t}function Wp(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Jp(t){if(sc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}sc=!1}vi=0,et=we=ie=null,Ws=!1,Fo=ac=0,Js=null}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?ie.memoizedState=et=t:et=et.next=t,et}function We(){if(we===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=et===null?ie.memoizedState:et.next;if(e!==null)et=e,we=t;else{if(t===null)throw ie.alternate===null?Error(L(467)):Error(L(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},et===null?ie.memoizedState=et=t:et=et.next=t}return et}function Jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var e=Fo;return Fo+=1,Js===null&&(Js=[]),t=qb(Js,t,e),e=ie,(et===null?e.memoizedState:et.next)===null&&(e=e.alternate,$.H=e===null||e.memoizedState===null?xT:ag),t}function Zc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===li)return At(t)}throw Error(L(438,String(t)))}function Zp(t){var e=null,n=ie.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=ie.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Jc(),ie.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=EA;return e.index++,n}function _i(t,e){return typeof e=="function"?e(t):e}function Iu(t){var e=We();return eg(e,we,t)}function eg(t,e,n){var i=t.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var l=a=null,u=null,c=e,f=!1;do{var g=c.lane&-536870913;if(g!==c.lane?(de&g)===g:(vi&g)===g){var m=c.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),g===oa&&(f=!0);else if((vi&m)===m){c=c.next,m===oa&&(f=!0);continue}else g={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,ie.lanes|=m,gr|=m;g=c.action,is&&n(s,g),s=c.hasEagerState?c.eagerState:n(s,g)}else m={lane:g,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,ie.lanes|=g,gr|=g;c=c.next}while(c!==null&&c!==e);if(u===null?a=s:u.next=l,!un(s,t.memoizedState)&&(rt=!0,f&&(n=Xs,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function _f(t){var e=We(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);un(s,e.memoizedState)||(rt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function $b(t,e,n){var i=ie,r=We(),s=pe;if(s){if(n===void 0)throw Error(L(407));n=n()}else n=e();var a=!un((we||r).memoizedState,n);if(a&&(r.memoizedState=n,rt=!0),r=r.queue,tg(Zb.bind(null,i,r,t),[t]),r.getSnapshot!==e||a||et!==null&&et.memoizedState.tag&1){if(i.flags|=2048,ua(9,{destroy:void 0},Jb.bind(null,i,r,n,e),null),Ce===null)throw Error(L(349));s||vi&127||Wb(i,e,n)}return n}function Wb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ie.updateQueue,e===null?(e=Jc(),ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Jb(t,e,n,i){e.value=n,e.getSnapshot=i,eT(e)&&tT(t)}function Zb(t,e,n){return n(function(){eT(e)&&tT(t)})}function eT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!un(t,n)}catch{return!0}}function tT(t){var e=ps(t,2);e!==null&&Kt(e,t,2)}function xd(t){var e=Ut();if(typeof t=="function"){var n=t;if(t=n(),is){Gi(!0);try{n()}finally{Gi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},e}function nT(t,e,n,i){return t.baseState=n,eg(t,we,typeof i=="function"?i:_i)}function Uw(t,e,n,i,r){if(th(t))throw Error(L(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};$.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,iT(e,s)):(s.next=n.next,e.pending=n.next=s)}}function iT(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=$.T,a={};$.T=a;try{var l=n(r,i),u=$.S;u!==null&&u(a,l),nv(t,e,l)}catch(c){Ad(t,e,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),$.T=s}}else try{s=n(r,i),nv(t,e,s)}catch(c){Ad(t,e,c)}}function nv(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){iv(t,e,i)},function(i){return Ad(t,e,i)}):iv(t,e,n)}function iv(t,e,n){e.status="fulfilled",e.value=n,rT(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,iT(t,n)))}function Ad(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,rT(e),e=e.next;while(e!==i)}t.action=null}function rT(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function sT(t,e){return e}function rv(t,e){if(pe){var n=Ce.formState;if(n!==null){e:{var i=ie;if(pe){if(je){t:{for(var r=je,s=_n;r.nodeType!==8;){if(!s){r=null;break t}if(r=En(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){je=En(r.nextSibling),i=r.data==="F!";break e}}dr(i)}i=!1}i&&(e=n[0])}}return n=Ut(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sT,lastRenderedState:e},n.queue=i,n=TT.bind(null,ie,i),i.dispatch=n,i=xd(!1),s=sg.bind(null,ie,!1,i.queue),i=Ut(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=Uw.bind(null,ie,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function sv(t){var e=We();return aT(e,we,t)}function aT(t,e,n){if(e=eg(t,e,sT)[0],t=Iu(_i)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=ml(e)}catch(a){throw a===Ra?Wc:a}else i=e;e=We();var r=e.queue,s=r.dispatch;return n!==e.memoizedState&&(ie.flags|=2048,ua(9,{destroy:void 0},Pw.bind(null,r,n),null)),[i,s,t]}function Pw(t,e){t.action=e}function av(t){var e=We(),n=we;if(n!==null)return aT(e,n,t);We(),e=e.memoizedState,n=We();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function ua(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=ie.updateQueue,e===null&&(e=Jc(),ie.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function oT(){return We().memoizedState}function Cu(t,e,n,i){var r=Ut();ie.flags|=t,r.memoizedState=ua(1|e,{destroy:void 0},n,i===void 0?null:i)}function eh(t,e,n,i){var r=We();i=i===void 0?null:i;var s=r.memoizedState.inst;we!==null&&i!==null&&Kp(i,we.memoizedState.deps)?r.memoizedState=ua(e,s,n,i):(ie.flags|=t,r.memoizedState=ua(1|e,s,n,i))}function ov(t,e){Cu(8390656,8,t,e)}function tg(t,e){eh(2048,8,t,e)}function zw(t){ie.flags|=4;var e=ie.updateQueue;if(e===null)e=Jc(),ie.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function lT(t){var e=We().memoizedState;return zw({ref:e,nextImpl:t}),function(){if(ye&2)throw Error(L(440));return e.impl.apply(void 0,arguments)}}function uT(t,e){return eh(4,2,t,e)}function cT(t,e){return eh(4,4,t,e)}function hT(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fT(t,e,n){n=n!=null?n.concat([t]):null,eh(4,4,hT.bind(null,e,t),n)}function ng(){}function dT(t,e){var n=We();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Kp(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function pT(t,e){var n=We();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Kp(e,i[1]))return i[0];if(i=t(),is){Gi(!0);try{t()}finally{Gi(!1)}}return n.memoizedState=[i,e],i}function ig(t,e,n){return n===void 0||vi&1073741824&&!(de&261930)?t.memoizedState=e:(t.memoizedState=n,t=nE(),ie.lanes|=t,gr|=t,n)}function gT(t,e,n,i){return un(n,e)?n:la.current!==null?(t=ig(t,n,i),un(t,e)||(rt=!0),t):!(vi&42)||vi&1073741824&&!(de&261930)?(rt=!0,t.memoizedState=n):(t=nE(),ie.lanes|=t,gr|=t,e)}function mT(t,e,n,i,r){var s=ve.p;ve.p=s!==0&&8>s?s:8;var a=$.T,l={};$.T=l,sg(t,!1,e,n);try{var u=r(),c=$.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=kw(u,i);Ao(t,e,f,ln(t))}else Ao(t,e,i,ln(t))}catch(g){Ao(t,e,{then:function(){},status:"rejected",reason:g},ln())}finally{ve.p=s,a!==null&&l.types!==null&&(a.types=l.types),$.T=a}}function Bw(){}function wd(t,e,n,i){if(t.tag!==5)throw Error(L(476));var r=yT(t).queue;mT(t,r,e,Gr,n===null?Bw:function(){return vT(t),n(i)})}function yT(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Gr,baseState:Gr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:Gr},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function vT(t){var e=yT(t);e.next===null&&(e=t.alternate.memoizedState),Ao(t,e.next.queue,{},ln())}function rg(){return At(Ko)}function _T(){return We().memoizedState}function bT(){return We().memoizedState}function qw(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ln();t=er(n);var i=tr(e,t,n);i!==null&&(Kt(i,e,n),Eo(i,e,n)),e={cache:Hp()},t.payload=e;return}e=e.return}}function Hw(t,e,n){var i=ln();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},th(t)?ET(e,n):(n=Pp(t,e,n,i),n!==null&&(Kt(n,t,i),ST(n,e,i)))}function TT(t,e,n){var i=ln();Ao(t,e,n,i)}function Ao(t,e,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(th(t))ET(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,un(l,a))return $c(t,e,r,0),Ce===null&&Xc(),!1}catch{}finally{}if(n=Pp(t,e,r,i),n!==null)return Kt(n,t,i),ST(n,e,i),!0}return!1}function sg(t,e,n,i){if(i={lane:2,revertLane:pg(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},th(t)){if(e)throw Error(L(479))}else e=Pp(t,n,i,2),e!==null&&Kt(e,t,2)}function th(t){var e=t.alternate;return t===ie||e!==null&&e===ie}function ET(t,e){Ws=sc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ST(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,lb(t,n)}}var Go={readContext:At,use:Zc,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};Go.useEffectEvent=Ge;var xT={readContext:At,use:Zc,useCallback:function(t,e){return Ut().memoizedState=[t,e===void 0?null:e],t},useContext:At,useEffect:ov,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Cu(4194308,4,hT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cu(4194308,4,t,e)},useInsertionEffect:function(t,e){Cu(4,2,t,e)},useMemo:function(t,e){var n=Ut();e=e===void 0?null:e;var i=t();if(is){Gi(!0);try{t()}finally{Gi(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Ut();if(n!==void 0){var r=n(e);if(is){Gi(!0);try{n(e)}finally{Gi(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=Hw.bind(null,ie,t),[i.memoizedState,t]},useRef:function(t){var e=Ut();return t={current:t},e.memoizedState=t},useState:function(t){t=xd(t);var e=t.queue,n=TT.bind(null,ie,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:ng,useDeferredValue:function(t,e){var n=Ut();return ig(n,t,e)},useTransition:function(){var t=xd(!1);return t=mT.bind(null,ie,t.queue,!0,!1),Ut().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=ie,r=Ut();if(pe){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),Ce===null)throw Error(L(349));de&127||Wb(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,ov(Zb.bind(null,i,s,t),[t]),i.flags|=2048,ua(9,{destroy:void 0},Jb.bind(null,i,s,n,e),null),n},useId:function(){var t=Ut(),e=Ce.identifierPrefix;if(pe){var n=Pn,i=Un;n=(i&~(1<<32-on(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=ac++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=jw++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:rg,useFormState:rv,useActionState:rv,useOptimistic:function(t){var e=Ut();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=sg.bind(null,ie,!0,n),n.dispatch=e,[t,e]},useMemoCache:Zp,useCacheRefresh:function(){return Ut().memoizedState=qw.bind(null,ie)},useEffectEvent:function(t){var e=Ut(),n={impl:t};return e.memoizedState=n,function(){if(ye&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},ag={readContext:At,use:Zc,useCallback:dT,useContext:At,useEffect:tg,useImperativeHandle:fT,useInsertionEffect:uT,useLayoutEffect:cT,useMemo:pT,useReducer:Iu,useRef:oT,useState:function(){return Iu(_i)},useDebugValue:ng,useDeferredValue:function(t,e){var n=We();return gT(n,we.memoizedState,t,e)},useTransition:function(){var t=Iu(_i)[0],e=We().memoizedState;return[typeof t=="boolean"?t:ml(t),e]},useSyncExternalStore:$b,useId:_T,useHostTransitionStatus:rg,useFormState:sv,useActionState:sv,useOptimistic:function(t,e){var n=We();return nT(n,we,t,e)},useMemoCache:Zp,useCacheRefresh:bT};ag.useEffectEvent=lT;var AT={readContext:At,use:Zc,useCallback:dT,useContext:At,useEffect:tg,useImperativeHandle:fT,useInsertionEffect:uT,useLayoutEffect:cT,useMemo:pT,useReducer:_f,useRef:oT,useState:function(){return _f(_i)},useDebugValue:ng,useDeferredValue:function(t,e){var n=We();return we===null?ig(n,t,e):gT(n,we.memoizedState,t,e)},useTransition:function(){var t=_f(_i)[0],e=We().memoizedState;return[typeof t=="boolean"?t:ml(t),e]},useSyncExternalStore:$b,useId:_T,useHostTransitionStatus:rg,useFormState:av,useActionState:av,useOptimistic:function(t,e){var n=We();return we!==null?nT(n,we,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Zp,useCacheRefresh:bT};AT.useEffectEvent=lT;function bf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rd={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ln(),r=er(i);r.payload=e,n!=null&&(r.callback=n),e=tr(t,r,i),e!==null&&(Kt(e,t,i),Eo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ln(),r=er(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=tr(t,r,i),e!==null&&(Kt(e,t,i),Eo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),i=er(n);i.tag=2,e!=null&&(i.callback=e),e=tr(t,i,n),e!==null&&(Kt(e,t,n),Eo(e,t,n))}};function lv(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!zo(n,i)||!zo(r,s):!0}function uv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Rd.enqueueReplaceState(e,e.state,null)}function rs(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Pe({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function wT(t){Ju(t)}function RT(t){console.error(t)}function IT(t){Ju(t)}function oc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function cv(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Id(t,e,n){return n=er(n),n.tag=3,n.payload={element:null},n.callback=function(){oc(t,e)},n}function CT(t){return t=er(t),t.tag=3,t}function DT(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){cv(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){cv(e,n,i),typeof r!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function Fw(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&wa(e,n,r,!0),n=cn.current,n!==null){switch(n.tag){case 31:case 13:return Tn===null?fc():n.alternate===null&&Qe===0&&(Qe=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===nc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Of(t,i,r)),!1;case 22:return n.flags|=65536,i===nc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Of(t,i,r)),!1}throw Error(L(435,n.tag))}return Of(t,i,r),fc(),!1}if(pe)return e=cn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==gd&&(t=Error(L(422),{cause:i}),qo(vn(t,n)))):(i!==gd&&(e=Error(L(423),{cause:i}),qo(vn(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=vn(i,n),r=Id(t.stateNode,i,r),vf(t,r),Qe!==4&&(Qe=2)),!1;var s=Error(L(520),{cause:i});if(s=vn(s,n),Io===null?Io=[s]:Io.push(s),Qe!==4&&(Qe=2),e===null)return!0;i=vn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=Id(n.stateNode,i,t),vf(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(nr===null||!nr.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=CT(r),DT(r,t,n,i),vf(n,r),!1}n=n.return}while(n!==null);return!1}var og=Error(L(461)),rt=!1;function bt(t,e,n,i){e.child=t===null?Fb(e,null,n,i):ns(e,t.child,n,i)}function hv(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return ts(e),i=Xp(t,e,n,a,s,r),l=$p(),t!==null&&!rt?(Wp(t,e,r),bi(t,e,r)):(pe&&l&&Bp(e),e.flags|=1,bt(t,e,i,r),e.child)}function fv(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!zp(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,OT(t,e,s,i,r)):(t=wu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!lg(t,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:zo,n(a,i)&&t.ref===e.ref)return bi(t,e,r)}return e.flags|=1,t=di(s,i),t.ref=e.ref,t.return=e,e.child=t}function OT(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(zo(s,i)&&t.ref===e.ref)if(rt=!1,e.pendingProps=i=s,lg(t,r))t.flags&131072&&(rt=!0);else return e.lanes=t.lanes,bi(t,e,r)}return Cd(t,e,n,i,r)}function NT(t,e,n,i){var r=i.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,e.child=null;return dv(t,e,s,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ru(e,s!==null?s.cachePool:null),s!==null?tv(e,s):Ed(),Yb(e);else return i=e.lanes=536870912,dv(t,e,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(Ru(e,s.cachePool),tv(e,s),zi(),e.memoizedState=null):(t!==null&&Ru(e,null),Ed(),zi());return bt(t,e,r,n),e.child}function co(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function dv(t,e,n,i,r){var s=Fp();return s=s===null?null:{parent:nt._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Ru(e,null),Ed(),Yb(e),t!==null&&wa(t,e,i,!0),e.childLanes=r,null}function Du(t,e){return e=lc({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function pv(t,e,n){return ns(e,t.child,null,n),t=Du(e,e.pendingProps),t.flags|=2,en(e),e.memoizedState=null,t}function Gw(t,e,n){var i=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(pe){if(i.mode==="hidden")return t=Du(e,i),e.lanes=536870912,co(null,t);if(Sd(e),(t=je)?(t=xE(t,_n),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:fr!==null?{id:Un,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Lb(t),n.return=e,e.child=n,St=e,je=null)):t=null,t===null)throw dr(e);return e.lanes=536870912,null}return Du(e,i)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if(Sd(e),r)if(e.flags&256)e.flags&=-257,e=pv(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(L(558));else if(rt||wa(t,e,n,!1),r=(n&t.childLanes)!==0,rt||r){if(i=Ce,i!==null&&(a=ub(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,ps(t,a),Kt(i,t,a),og;fc(),e=pv(t,e,n)}else t=s.treeContext,je=En(a.nextSibling),St=e,pe=!0,Zi=null,_n=!1,t!==null&&Pb(e,t),e=Du(e,i),e.flags|=4096;return e}return t=di(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Ou(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Cd(t,e,n,i,r){return ts(e),n=Xp(t,e,n,i,void 0,r),i=$p(),t!==null&&!rt?(Wp(t,e,r),bi(t,e,r)):(pe&&i&&Bp(e),e.flags|=1,bt(t,e,n,r),e.child)}function gv(t,e,n,i,r,s){return ts(e),e.updateQueue=null,n=Xb(e,i,n,r),Kb(t),i=$p(),t!==null&&!rt?(Wp(t,e,s),bi(t,e,s)):(pe&&i&&Bp(e),e.flags|=1,bt(t,e,n,s),e.child)}function mv(t,e,n,i,r){if(ts(e),e.stateNode===null){var s=qs,a=n.contextType;typeof a=="object"&&a!==null&&(s=At(a)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Rd,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},Qp(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?At(a):qs,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(bf(e,n,a,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Rd.enqueueReplaceState(s,s.state,null),xo(e,i,s,r),So(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var l=e.memoizedProps,u=rs(n,l);s.props=u;var c=s.context,f=n.contextType;a=qs,typeof f=="object"&&f!==null&&(a=At(f));var g=n.getDerivedStateFromProps;f=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==a)&&uv(e,s,i,a),Li=!1;var m=e.memoizedState;s.state=m,xo(e,i,s,r),So(),c=e.memoizedState,l||m!==c||Li?(typeof g=="function"&&(bf(e,n,g,i),c=e.memoizedState),(u=Li||lv(e,n,u,i,m,c,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,bd(t,e),a=e.memoizedProps,f=rs(n,a),s.props=f,g=e.pendingProps,m=s.context,c=n.contextType,u=qs,typeof c=="object"&&c!==null&&(u=At(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||m!==u)&&uv(e,s,i,u),Li=!1,m=e.memoizedState,s.state=m,xo(e,i,s,r),So();var _=e.memoizedState;a!==g||m!==_||Li||t!==null&&t.dependencies!==null&&tc(t.dependencies)?(typeof l=="function"&&(bf(e,n,l,i),_=e.memoizedState),(f=Li||lv(e,n,f,i,m,_,u)||t!==null&&t.dependencies!==null&&tc(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,_,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),s.props=i,s.state=_,s.context=u,i=f):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,Ou(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=ns(e,t.child,null,r),e.child=ns(e,null,n,r)):bt(t,e,n,r),e.memoizedState=s.state,t=e.child):t=bi(t,e,r),t}function yv(t,e,n,i){return es(),e.flags|=256,bt(t,e,n,i),e.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ef(t){return{baseLanes:t,cachePool:Bb()}}function Sf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=nn),t}function MT(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(Xe.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(pe){if(r?Pi(e):zi(),(t=je)?(t=xE(t,_n),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:fr!==null?{id:Un,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Lb(t),n.return=e,e.child=n,St=e,je=null)):t=null,t===null)throw dr(e);return Hd(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(zi(),r=e.mode,l=lc({mode:"hidden",children:l},r),i=Qr(i,r,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=Ef(n),i.childLanes=Sf(t,a,n),e.memoizedState=Tf,co(null,i)):(Pi(e),Dd(e,l))}var u=t.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(s)e.flags&256?(Pi(e),e.flags&=-257,e=xf(t,e,n)):e.memoizedState!==null?(zi(),e.child=t.child,e.flags|=128,e=null):(zi(),l=i.fallback,r=e.mode,i=lc({mode:"visible",children:i.children},r),l=Qr(l,r,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,ns(e,t.child,null,n),i=e.child,i.memoizedState=Ef(n),i.childLanes=Sf(t,a,n),e.memoizedState=Tf,e=co(null,i));else if(Pi(e),Hd(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(L(419)),i.stack="",i.digest=a,qo({value:i,source:null,stack:null}),e=xf(t,e,n)}else if(rt||wa(t,e,n,!1),a=(n&t.childLanes)!==0,rt||a){if(a=Ce,a!==null&&(i=ub(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,ps(t,i),Kt(a,t,i),og;qd(l)||fc(),e=xf(t,e,n)}else qd(l)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,je=En(l.nextSibling),St=e,pe=!0,Zi=null,_n=!1,t!==null&&Pb(e,t),e=Dd(e,i.children),e.flags|=4096);return e}return r?(zi(),l=i.fallback,r=e.mode,u=t.child,c=u.sibling,i=di(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?l=di(c,l):(l=Qr(l,r,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,co(null,i),i=e.child,l=t.child.memoizedState,l===null?l=Ef(n):(r=l.cachePool,r!==null?(u=nt._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=Bb(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=Sf(t,a,n),e.memoizedState=Tf,co(t.child,i)):(Pi(e),n=t.child,t=n.sibling,n=di(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Dd(t,e){return e=lc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function lc(t,e){return t=tn(22,t,null,e),t.lanes=0,t}function xf(t,e,n){return ns(e,t.child,null,n),t=Dd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),yd(t.return,e,n)}function Af(t,e,n,i,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function VT(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=Xe.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,Ne(Xe,a),bt(t,e,i,n),i=pe?Bo:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vv(t,n,e);else if(t.tag===19)vv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&rc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Af(e,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&rc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Af(e,!0,n,null,s,i);break;case"together":Af(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gr|=e.lanes,!(n&e.childLanes))if(t!==null){if(wa(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lg(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&tc(t)))}function Qw(t,e,n){switch(e.tag){case 3:Ku(e,e.stateNode.containerInfo),Ui(e,nt,t.memoizedState.cache),es();break;case 27:case 5:rd(e);break;case 4:Ku(e,e.stateNode.containerInfo);break;case 10:Ui(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Sd(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Pi(e),e.flags|=128,null):n&e.child.childLanes?MT(t,e,n):(Pi(e),t=bi(t,e,n),t!==null?t.sibling:null);Pi(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(wa(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return VT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ne(Xe,Xe.current),i)break;return null;case 22:return e.lanes=0,NT(t,e,n,e.pendingProps);case 24:Ui(e,nt,t.memoizedState.cache)}return bi(t,e,n)}function kT(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)rt=!0;else{if(!lg(t,n)&&!(e.flags&128))return rt=!1,Qw(t,e,n);rt=!!(t.flags&131072)}else rt=!1,pe&&e.flags&1048576&&Ub(e,Bo,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Pr(e.elementType),e.type=t,typeof t=="function")zp(t)?(i=rs(t,i),e.tag=1,e=mv(null,e,t,i,n)):(e.tag=0,e=Cd(null,e,t,i,n));else{if(t!=null){var r=t.$$typeof;if(r===wp){e.tag=11,e=hv(null,e,t,i,n);break e}else if(r===Rp){e.tag=14,e=fv(null,e,t,i,n);break e}}throw e=nd(t)||t,Error(L(306,e,""))}}return e;case 0:return Cd(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=rs(i,e.pendingProps),mv(t,e,i,r,n);case 3:e:{if(Ku(e,e.stateNode.containerInfo),t===null)throw Error(L(387));i=e.pendingProps;var s=e.memoizedState;r=s.element,bd(t,e),xo(e,i,null,n);var a=e.memoizedState;if(i=a.cache,Ui(e,nt,i),i!==s.cache&&vd(e,[nt],n,!0),So(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=yv(t,e,i,n);break e}else if(i!==r){r=vn(Error(L(424)),e),qo(r),e=yv(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(je=En(t.firstChild),St=e,pe=!0,Zi=null,_n=!0,n=Fb(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(es(),i===r){e=bi(t,e,n);break e}bt(t,e,i,n)}e=e.child}return e;case 26:return Ou(t,e),t===null?(n=Uv(e.type,null,e.pendingProps,null))?e.memoizedState=n:pe||(n=e.type,t=e.pendingProps,i=mc(Ji.current).createElement(n),i[Et]=e,i[Xt]=t,wt(i,n,t),pt(i),e.stateNode=i):e.memoizedState=Uv(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return rd(e),t===null&&pe&&(i=e.stateNode=AE(e.type,e.pendingProps,Ji.current),St=e,_n=!0,r=je,wr(e.type)?(Fd=r,je=En(i.firstChild)):je=r),bt(t,e,e.pendingProps.children,n),Ou(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&pe&&((r=i=je)&&(i=ER(i,e.type,e.pendingProps,_n),i!==null?(e.stateNode=i,St=e,je=En(i.firstChild),_n=!1,r=!0):r=!1),r||dr(e)),rd(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,zd(r,s)?i=null:a!==null&&zd(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=Xp(t,e,Lw,null,null,n),Ko._currentValue=r),Ou(t,e),bt(t,e,i,n),e.child;case 6:return t===null&&pe&&((t=n=je)&&(n=SR(n,e.pendingProps,_n),n!==null?(e.stateNode=n,St=e,je=null,t=!0):t=!1),t||dr(e)),null;case 13:return MT(t,e,n);case 4:return Ku(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ns(e,null,i,n):bt(t,e,i,n),e.child;case 11:return hv(t,e,e.type,e.pendingProps,n);case 7:return bt(t,e,e.pendingProps,n),e.child;case 8:return bt(t,e,e.pendingProps.children,n),e.child;case 12:return bt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Ui(e,e.type,i.value),bt(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,ts(e),r=At(r),i=i(r),e.flags|=1,bt(t,e,i,n),e.child;case 14:return fv(t,e,e.type,e.pendingProps,n);case 15:return OT(t,e,e.type,e.pendingProps,n);case 19:return VT(t,e,n);case 31:return Gw(t,e,n);case 22:return NT(t,e,n,e.pendingProps);case 24:return ts(e),i=At(nt),t===null?(r=Fp(),r===null&&(r=Ce,s=Hp(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},Qp(e),Ui(e,nt,r)):(t.lanes&n&&(bd(t,e),xo(e,null,null,n),So()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Ui(e,nt,i)):(i=s.cache,Ui(e,nt,i),i!==r.cache&&vd(e,[nt],n,!0))),bt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(L(156,e.tag))}function ti(t){t.flags|=4}function wf(t,e,n,i,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(sE())t.flags|=8192;else throw Kr=nc,Gp}else t.flags&=-16777217}function _v(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!IE(e))if(sE())t.flags|=8192;else throw Kr=nc,Gp}function uu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?ab():536870912,t.lanes|=e,ca|=e)}function ro(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Yw(t,e,n){var i=e.pendingProps;switch(qp(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(e),null;case 1:return Ve(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),pi(nt),ra(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(As(e)?ti(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yf())),Ve(e),null;case 26:var r=e.type,s=e.memoizedState;return t===null?(ti(e),s!==null?(Ve(e),_v(e,s)):(Ve(e),wf(e,r,null,i,n))):s?s!==t.memoizedState?(ti(e),Ve(e),_v(e,s)):(Ve(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&ti(e),Ve(e),wf(e,r,t,i,n)),null;case 27:if(Xu(e),n=Ji.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&ti(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return Ve(e),null}t=Bn.current,As(e)?Ky(e):(t=AE(r,i,n),e.stateNode=t,ti(e))}return Ve(e),null;case 5:if(Xu(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&ti(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return Ve(e),null}if(s=Bn.current,As(e))Ky(e);else{var a=mc(Ji.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[Et]=e,s[Xt]=i;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(wt(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ti(e)}}return Ve(e),wf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&ti(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(L(166));if(t=Ji.current,As(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=St,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[Et]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||TE(t.nodeValue,n)),t||dr(e,!0)}else t=mc(t).createTextNode(i),t[Et]=e,e.stateNode=t}return Ve(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=As(e),n!==null){if(t===null){if(!i)throw Error(L(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(557));t[Et]=e}else es(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ve(e),t=!1}else n=yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(en(e),e):(en(e),null);if(e.flags&128)throw Error(L(558))}return Ve(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=As(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(L(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[Et]=e}else es(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ve(e),r=!1}else r=yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(en(e),e):(en(e),null)}return en(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),uu(e,e.updateQueue),Ve(e),null);case 4:return ra(),t===null&&gg(e.stateNode.containerInfo),Ve(e),null;case 10:return pi(e.type),Ve(e),null;case 19:if(gt(Xe),i=e.memoizedState,i===null)return Ve(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)ro(i,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=rc(t),s!==null){for(e.flags|=128,ro(i,!1),t=s.updateQueue,e.updateQueue=t,uu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)jb(n,t),n=n.sibling;return Ne(Xe,Xe.current&1|2),pe&&si(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&sn()>cc&&(e.flags|=128,r=!0,ro(i,!1),e.lanes=4194304)}else{if(!r)if(t=rc(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,uu(e,t),ro(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!pe)return Ve(e),null}else 2*sn()-i.renderingStartTime>cc&&n!==536870912&&(e.flags|=128,r=!0,ro(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=sn(),t.sibling=null,n=Xe.current,Ne(Xe,r?n&1|2:n&1),pe&&si(e,i.treeForkCount),t):(Ve(e),null);case 22:case 23:return en(e),Yp(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Ve(e),e.subtreeFlags&6&&(e.flags|=8192)):Ve(e),n=e.updateQueue,n!==null&&uu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&gt(Yr),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),pi(nt),Ve(e),null;case 25:return null;case 30:return null}throw Error(L(156,e.tag))}function Kw(t,e){switch(qp(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pi(nt),ra(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Xu(e),null;case 31:if(e.memoizedState!==null){if(en(e),e.alternate===null)throw Error(L(340));es()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(en(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));es()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(Xe),null;case 4:return ra(),null;case 10:return pi(e.type),null;case 22:case 23:return en(e),Yp(),t!==null&&gt(Yr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return pi(nt),null;case 25:return null;default:return null}}function jT(t,e){switch(qp(e),e.tag){case 3:pi(nt),ra();break;case 26:case 27:case 5:Xu(e);break;case 4:ra();break;case 31:e.memoizedState!==null&&en(e);break;case 13:en(e);break;case 19:gt(Xe);break;case 10:pi(e.type);break;case 22:case 23:en(e),Yp(),t!==null&&gt(Yr);break;case 24:pi(nt)}}function yl(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){Ee(e,e.return,l)}}function pr(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var u=n,c=l;try{c()}catch(f){Ee(r,u,f)}}}i=i.next}while(i!==s)}}catch(f){Ee(e,e.return,f)}}function LT(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Qb(e,n)}catch(i){Ee(t,t.return,i)}}}function UT(t,e,n){n.props=rs(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){Ee(t,e,i)}}function wo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){Ee(t,e,r)}}function zn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){Ee(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Ee(t,e,r)}else n.current=null}function PT(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Ee(t,t.return,r)}}function Rf(t,e,n){try{var i=t.stateNode;mR(i,t.type,n,e),i[Xt]=e}catch(r){Ee(t,t.return,r)}}function zT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wr(t.type)||t.tag===4}function If(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Od(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ui));else if(i!==4&&(i===27&&wr(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Od(t,e,n),t=t.sibling;t!==null;)Od(t,e,n),t=t.sibling}function uc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&wr(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(uc(t,e,n),t=t.sibling;t!==null;)uc(t,e,n),t=t.sibling}function BT(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);wt(e,i,n),e[Et]=t,e[Xt]=n}catch(s){Ee(t,t.return,s)}}var ai=!1,tt=!1,Cf=!1,bv=typeof WeakSet=="function"?WeakSet:Set,dt=null;function Xw(t,e){if(t=t.containerInfo,Ud=bc,t=Ib(t),Lp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,f=0,g=t,m=null;t:for(;;){for(var _;g!==n||r!==0&&g.nodeType!==3||(l=a+r),g!==s||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(_=g.firstChild)!==null;)m=g,g=_;for(;;){if(g===t)break t;if(m===n&&++c===r&&(l=a),m===s&&++f===i&&(u=a),(_=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pd={focusedElem:t,selectionRange:n},bc=!1,dt=e;dt!==null;)if(e=dt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,dt=t;else for(;dt!==null;){switch(e=dt,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var R=rs(n.type,r);t=i.getSnapshotBeforeUpdate(R,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(D){Ee(n,n.return,D)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Bd(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(L(163))}if(t=e.sibling,t!==null){t.return=e.return,dt=t;break}dt=e.return}}function qT(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ii(t,n),i&4&&yl(5,n);break;case 1:if(ii(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Ee(n,n.return,a)}else{var r=rs(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Ee(n,n.return,a)}}i&64&&LT(n),i&512&&wo(n,n.return);break;case 3:if(ii(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Qb(t,e)}catch(a){Ee(n,n.return,a)}}break;case 27:e===null&&i&4&&BT(n);case 26:case 5:ii(t,n),e===null&&i&4&&PT(n),i&512&&wo(n,n.return);break;case 12:ii(t,n);break;case 31:ii(t,n),i&4&&GT(t,n);break;case 13:ii(t,n),i&4&&QT(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=rR.bind(null,n),xR(t,n))));break;case 22:if(i=n.memoizedState!==null||ai,!i){e=e!==null&&e.memoizedState!==null||tt,r=ai;var s=tt;ai=i,(tt=e)&&!s?ri(t,n,(n.subtreeFlags&8772)!==0):ii(t,n),ai=r,tt=s}break;case 30:break;default:ii(t,n)}}function HT(t){var e=t.alternate;e!==null&&(t.alternate=null,HT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Op(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Be=null,Ft=!1;function ni(t,e,n){for(n=n.child;n!==null;)FT(t,e,n),n=n.sibling}function FT(t,e,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(cl,n)}catch{}switch(n.tag){case 26:tt||zn(n,e),ni(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:tt||zn(n,e);var i=Be,r=Ft;wr(n.type)&&(Be=n.stateNode,Ft=!1),ni(t,e,n),Do(n.stateNode),Be=i,Ft=r;break;case 5:tt||zn(n,e);case 6:if(i=Be,r=Ft,Be=null,ni(t,e,n),Be=i,Ft=r,Be!==null)if(Ft)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(n.stateNode)}catch(s){Ee(n,e,s)}else try{Be.removeChild(n.stateNode)}catch(s){Ee(n,e,s)}break;case 18:Be!==null&&(Ft?(t=Be,Mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),pa(t)):Mv(Be,n.stateNode));break;case 4:i=Be,r=Ft,Be=n.stateNode.containerInfo,Ft=!0,ni(t,e,n),Be=i,Ft=r;break;case 0:case 11:case 14:case 15:pr(2,n,e),tt||pr(4,n,e),ni(t,e,n);break;case 1:tt||(zn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&UT(n,e,i)),ni(t,e,n);break;case 21:ni(t,e,n);break;case 22:tt=(i=tt)||n.memoizedState!==null,ni(t,e,n),tt=i;break;default:ni(t,e,n)}}function GT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{pa(t)}catch(n){Ee(e,e.return,n)}}}function QT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{pa(t)}catch(n){Ee(e,e.return,n)}}function $w(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new bv),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new bv),e;default:throw Error(L(435,t.tag))}}function cu(t,e){var n=$w(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var r=sR.bind(null,t,i);i.then(r,r)}})}function qt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(wr(l.type)){Be=l.stateNode,Ft=!1;break e}break;case 5:Be=l.stateNode,Ft=!1;break e;case 3:case 4:Be=l.stateNode.containerInfo,Ft=!0;break e}l=l.return}if(Be===null)throw Error(L(160));FT(s,a,r),Be=null,Ft=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)YT(e,t),e=e.sibling}var Dn=null;function YT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:qt(e,t),Ht(t),i&4&&(pr(3,t,t.return),yl(3,t),pr(5,t,t.return));break;case 1:qt(e,t),Ht(t),i&512&&(tt||n===null||zn(n,n.return)),i&64&&ai&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=Dn;if(qt(e,t),Ht(t),i&512&&(tt||n===null||zn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[dl]||s[Et]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),wt(s,i,n),s[Et]=t,pt(s),i=s;break e;case"link":var a=zv("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),wt(s,i,n),r.head.appendChild(s);break;case"meta":if(a=zv("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),wt(s,i,n),r.head.appendChild(s);break;default:throw Error(L(468,i))}s[Et]=t,pt(s),i=s}t.stateNode=i}else Bv(r,t.type,t.stateNode);else t.stateNode=Pv(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Bv(r,t.type,t.stateNode):Pv(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Rf(t,t.memoizedProps,n.memoizedProps)}break;case 27:qt(e,t),Ht(t),i&512&&(tt||n===null||zn(n,n.return)),n!==null&&i&4&&Rf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(qt(e,t),Ht(t),i&512&&(tt||n===null||zn(n,n.return)),t.flags&32){r=t.stateNode;try{aa(r,"")}catch(R){Ee(t,t.return,R)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,Rf(t,r,n!==null?n.memoizedProps:r)),i&1024&&(Cf=!0);break;case 6:if(qt(e,t),Ht(t),i&4){if(t.stateNode===null)throw Error(L(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(R){Ee(t,t.return,R)}}break;case 3:if(Vu=null,r=Dn,Dn=yc(e.containerInfo),qt(e,t),Dn=r,Ht(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{pa(e.containerInfo)}catch(R){Ee(t,t.return,R)}Cf&&(Cf=!1,KT(t));break;case 4:i=Dn,Dn=yc(t.stateNode.containerInfo),qt(e,t),Ht(t),Dn=i;break;case 12:qt(e,t),Ht(t);break;case 31:qt(e,t),Ht(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,cu(t,i)));break;case 13:qt(e,t),Ht(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(nh=sn()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,cu(t,i)));break;case 22:r=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=ai,f=tt;if(ai=c||r,tt=f||u,qt(e,t),tt=f,ai=c,Ht(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||u||ai||tt||zr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(R){Ee(u,u.return,R)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(R){Ee(u,u.return,R)}}}else if(e.tag===18){if(n===null){u=e;try{var _=u.stateNode;r?Vv(_,!0):Vv(u.stateNode,!1)}catch(R){Ee(u,u.return,R)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,cu(t,n))));break;case 19:qt(e,t),Ht(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,cu(t,i)));break;case 30:break;case 21:break;default:qt(e,t),Ht(t)}}function Ht(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(zT(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var r=n.stateNode,s=If(t);uc(t,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(aa(a,""),n.flags&=-33);var l=If(t);uc(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=If(t);Od(t,c,u);break;default:throw Error(L(161))}}catch(f){Ee(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KT(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;KT(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ii(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)qT(t,e.alternate,e),e=e.sibling}function zr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:pr(4,e,e.return),zr(e);break;case 1:zn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&UT(e,e.return,n),zr(e);break;case 27:Do(e.stateNode);case 26:case 5:zn(e,e.return),zr(e);break;case 22:e.memoizedState===null&&zr(e);break;case 30:zr(e);break;default:zr(e)}t=t.sibling}}function ri(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:ri(r,s,n),yl(4,s);break;case 1:if(ri(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){Ee(i,i.return,c)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)Gb(u[r],l)}catch(c){Ee(i,i.return,c)}}n&&a&64&&LT(s),wo(s,s.return);break;case 27:BT(s);case 26:case 5:ri(r,s,n),n&&i===null&&a&4&&PT(s),wo(s,s.return);break;case 12:ri(r,s,n);break;case 31:ri(r,s,n),n&&a&4&&GT(r,s);break;case 13:ri(r,s,n),n&&a&4&&QT(r,s);break;case 22:s.memoizedState===null&&ri(r,s,n),wo(s,s.return);break;case 30:break;default:ri(r,s,n)}e=e.sibling}}function ug(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&gl(n))}function cg(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&gl(t))}function In(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)XT(t,e,n,i),e=e.sibling}function XT(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:In(t,e,n,i),r&2048&&yl(9,e);break;case 1:In(t,e,n,i);break;case 3:In(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&gl(t)));break;case 12:if(r&2048){In(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){Ee(e,e.return,u)}}else In(t,e,n,i);break;case 31:In(t,e,n,i);break;case 13:In(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?In(t,e,n,i):Ro(t,e):s._visibility&2?In(t,e,n,i):(s._visibility|=2,Is(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),r&2048&&ug(a,e);break;case 24:In(t,e,n,i),r&2048&&cg(e.alternate,e);break;default:In(t,e,n,i)}}function Is(t,e,n,i,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,l=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:Is(s,a,l,u,r),yl(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?Is(s,a,l,u,r):Ro(s,a):(f._visibility|=2,Is(s,a,l,u,r)),r&&c&2048&&ug(a.alternate,a);break;case 24:Is(s,a,l,u,r),r&&c&2048&&cg(a.alternate,a);break;default:Is(s,a,l,u,r)}e=e.sibling}}function Ro(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:Ro(n,i),r&2048&&ug(i.alternate,i);break;case 24:Ro(n,i),r&2048&&cg(i.alternate,i);break;default:Ro(n,i)}e=e.sibling}}var ho=8192;function ws(t,e,n){if(t.subtreeFlags&ho)for(t=t.child;t!==null;)$T(t,e,n),t=t.sibling}function $T(t,e,n){switch(t.tag){case 26:ws(t,e,n),t.flags&ho&&t.memoizedState!==null&&jR(n,Dn,t.memoizedState,t.memoizedProps);break;case 5:ws(t,e,n);break;case 3:case 4:var i=Dn;Dn=yc(t.stateNode.containerInfo),ws(t,e,n),Dn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ho,ho=16777216,ws(t,e,n),ho=i):ws(t,e,n));break;default:ws(t,e,n)}}function WT(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function so(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];dt=i,ZT(i,t)}WT(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)JT(t),t=t.sibling}function JT(t){switch(t.tag){case 0:case 11:case 15:so(t),t.flags&2048&&pr(9,t,t.return);break;case 3:so(t);break;case 12:so(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Nu(t)):so(t);break;default:so(t)}}function Nu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];dt=i,ZT(i,t)}WT(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:pr(8,e,e.return),Nu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Nu(e));break;default:Nu(e)}t=t.sibling}}function ZT(t,e){for(;dt!==null;){var n=dt;switch(n.tag){case 0:case 11:case 15:pr(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:gl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,dt=i;else e:for(n=t;dt!==null;){i=dt;var r=i.sibling,s=i.return;if(HT(i),i===n){dt=null;break e}if(r!==null){r.return=s,dt=r;break e}dt=s}}}var Ww={getCacheForType:function(t){var e=At(nt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return At(nt).controller.signal}},Jw=typeof WeakMap=="function"?WeakMap:Map,ye=0,Ce=null,le=null,de=0,Te=0,Zt=null,Yi=!1,Ia=!1,hg=!1,Ti=0,Qe=0,gr=0,Xr=0,fg=0,nn=0,ca=0,Io=null,Gt=null,Nd=!1,nh=0,eE=0,cc=1/0,hc=null,nr=null,ut=0,ir=null,ha=null,gi=0,Md=0,Vd=null,tE=null,Co=0,kd=null;function ln(){return ye&2&&de!==0?de&-de:$.T!==null?pg():cb()}function nE(){if(nn===0)if(!(de&536870912)||pe){var t=nu;nu<<=1,!(nu&3932160)&&(nu=262144),nn=t}else nn=536870912;return t=cn.current,t!==null&&(t.flags|=32),nn}function Kt(t,e,n){(t===Ce&&(Te===2||Te===9)||t.cancelPendingCommit!==null)&&(fa(t,0),Ki(t,de,nn,!1)),fl(t,n),(!(ye&2)||t!==Ce)&&(t===Ce&&(!(ye&2)&&(Xr|=n),Qe===4&&Ki(t,de,nn,!1)),Wn(t))}function iE(t,e,n){if(ye&6)throw Error(L(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||hl(t,e),r=i?tR(t,e):Df(t,e,!0),s=i;do{if(r===0){Ia&&!i&&Ki(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!Zw(n)){r=Df(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=Io;var u=l.current.memoizedState.isDehydrated;if(u&&(fa(l,a).flags|=256),a=Df(l,a,!1),a!==2){if(hg&&!u){l.errorRecoveryDisabledLanes|=s,Xr|=s,r=4;break e}s=Gt,Gt=r,s!==null&&(Gt===null?Gt=s:Gt.push.apply(Gt,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){fa(t,0),Ki(t,e,0,!0);break}e:{switch(i=t,s=r,s){case 0:case 1:throw Error(L(345));case 4:if((e&4194048)!==e)break;case 6:Ki(i,e,nn,!Yi);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(L(329))}if((e&62914560)===e&&(r=nh+300-sn(),10<r)){if(Ki(i,e,nn,!Yi),Gc(i,0,!0)!==0)break e;gi=e,i.timeoutHandle=SE(Tv.bind(null,i,n,Gt,hc,Nd,e,nn,Xr,ca,Yi,s,"Throttled",-0,0),r);break e}Tv(i,n,Gt,hc,Nd,e,nn,Xr,ca,Yi,s,null,-0,0)}}break}while(!0);Wn(t)}function Tv(t,e,n,i,r,s,a,l,u,c,f,g,m,_){if(t.timeoutHandle=-1,g=e.subtreeFlags,g&8192||(g&16785408)===16785408){g={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},$T(e,s,g);var R=(s&62914560)===s?nh-sn():(s&4194048)===s?eE-sn():0;if(R=LR(g,R),R!==null){gi=s,t.cancelPendingCommit=R(Sv.bind(null,t,e,s,n,i,r,a,l,u,f,g,null,m,_)),Ki(t,s,a,!c);return}}Sv(t,e,s,n,i,r,a,l,u)}function Zw(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!un(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ki(t,e,n,i){e&=~fg,e&=~Xr,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-on(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&ob(t,n,e)}function ih(){return ye&6?!0:(vl(0),!1)}function dg(){if(le!==null){if(Te===0)var t=le.return;else t=le,ci=gs=null,Jp(t),$s=null,Ho=0,t=le;for(;t!==null;)jT(t.alternate,t),t=t.return;le=null}}function fa(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,_R(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),gi=0,dg(),Ce=t,le=n=di(t.current,null),de=e,Te=0,Zt=null,Yi=!1,Ia=hl(t,e),hg=!1,ca=nn=fg=Xr=gr=Qe=0,Gt=Io=null,Nd=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-on(i),s=1<<r;e|=t[r],i&=~s}return Ti=e,Xc(),n}function rE(t,e){ie=null,$.H=Go,e===Ra||e===Wc?(e=Zy(),Te=3):e===Gp?(e=Zy(),Te=4):Te=e===og?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Zt=e,le===null&&(Qe=1,oc(t,vn(e,t.current)))}function sE(){var t=cn.current;return t===null?!0:(de&4194048)===de?Tn===null:(de&62914560)===de||de&536870912?t===Tn:!1}function aE(){var t=$.H;return $.H=Go,t===null?Go:t}function oE(){var t=$.A;return $.A=Ww,t}function fc(){Qe=4,Yi||(de&4194048)!==de&&cn.current!==null||(Ia=!0),!(gr&134217727)&&!(Xr&134217727)||Ce===null||Ki(Ce,de,nn,!1)}function Df(t,e,n){var i=ye;ye|=2;var r=aE(),s=oE();(Ce!==t||de!==e)&&(hc=null,fa(t,e)),e=!1;var a=Qe;e:do try{if(Te!==0&&le!==null){var l=le,u=Zt;switch(Te){case 8:dg(),a=6;break e;case 3:case 2:case 9:case 6:cn.current===null&&(e=!0);var c=Te;if(Te=0,Zt=null,Gs(t,l,u,c),n&&Ia){a=0;break e}break;default:c=Te,Te=0,Zt=null,Gs(t,l,u,c)}}eR(),a=Qe;break}catch(f){rE(t,f)}while(!0);return e&&t.shellSuspendCounter++,ci=gs=null,ye=i,$.H=r,$.A=s,le===null&&(Ce=null,de=0,Xc()),a}function eR(){for(;le!==null;)lE(le)}function tR(t,e){var n=ye;ye|=2;var i=aE(),r=oE();Ce!==t||de!==e?(hc=null,cc=sn()+500,fa(t,e)):Ia=hl(t,e);e:do try{if(Te!==0&&le!==null){e=le;var s=Zt;t:switch(Te){case 1:Te=0,Zt=null,Gs(t,e,s,1);break;case 2:case 9:if(Jy(s)){Te=0,Zt=null,Ev(e);break}e=function(){Te!==2&&Te!==9||Ce!==t||(Te=7),Wn(t)},s.then(e,e);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:Jy(s)?(Te=0,Zt=null,Ev(e)):(Te=0,Zt=null,Gs(t,e,s,7));break;case 5:var a=null;switch(le.tag){case 26:a=le.memoizedState;case 5:case 27:var l=le;if(a?IE(a):l.stateNode.complete){Te=0,Zt=null;var u=l.sibling;if(u!==null)le=u;else{var c=l.return;c!==null?(le=c,rh(c)):le=null}break t}}Te=0,Zt=null,Gs(t,e,s,5);break;case 6:Te=0,Zt=null,Gs(t,e,s,6);break;case 8:dg(),Qe=6;break e;default:throw Error(L(462))}}nR();break}catch(f){rE(t,f)}while(!0);return ci=gs=null,$.H=i,$.A=r,ye=n,le!==null?0:(Ce=null,de=0,Xc(),Qe)}function nR(){for(;le!==null&&!AA();)lE(le)}function lE(t){var e=kT(t.alternate,t,Ti);t.memoizedProps=t.pendingProps,e===null?rh(t):le=e}function Ev(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=gv(n,e,e.pendingProps,e.type,void 0,de);break;case 11:e=gv(n,e,e.pendingProps,e.type.render,e.ref,de);break;case 5:Jp(e);default:jT(n,e),e=le=jb(e,Ti),e=kT(n,e,Ti)}t.memoizedProps=t.pendingProps,e===null?rh(t):le=e}function Gs(t,e,n,i){ci=gs=null,Jp(e),$s=null,Ho=0;var r=e.return;try{if(Fw(t,r,e,n,de)){Qe=1,oc(t,vn(n,t.current)),le=null;return}}catch(s){if(r!==null)throw le=r,s;Qe=1,oc(t,vn(n,t.current)),le=null;return}e.flags&32768?(pe||i===1?t=!0:Ia||de&536870912?t=!1:(Yi=t=!0,(i===2||i===9||i===3||i===6)&&(i=cn.current,i!==null&&i.tag===13&&(i.flags|=16384))),uE(e,t)):rh(e)}function rh(t){var e=t;do{if(e.flags&32768){uE(e,Yi);return}t=e.return;var n=Yw(e.alternate,e,Ti);if(n!==null){le=n;return}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);Qe===0&&(Qe=5)}function uE(t,e){do{var n=Kw(t.alternate,t);if(n!==null){n.flags&=32767,le=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){le=t;return}le=t=n}while(t!==null);Qe=6,le=null}function Sv(t,e,n,i,r,s,a,l,u){t.cancelPendingCommit=null;do sh();while(ut!==0);if(ye&6)throw Error(L(327));if(e!==null){if(e===t.current)throw Error(L(177));if(s=e.lanes|e.childLanes,s|=Up,kA(t,n,s,a,l,u),t===Ce&&(le=Ce=null,de=0),ha=e,ir=t,gi=n,Md=s,Vd=r,tE=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,aR($u,function(){return pE(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=$.T,$.T=null,r=ve.p,ve.p=2,a=ye,ye|=4;try{Xw(t,e,n)}finally{ye=a,ve.p=r,$.T=i}}ut=1,cE(),hE(),fE()}}function cE(){if(ut===1){ut=0;var t=ir,e=ha,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=$.T,$.T=null;var i=ve.p;ve.p=2;var r=ye;ye|=4;try{YT(e,t);var s=Pd,a=Ib(t.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&Rb(l.ownerDocument.documentElement,l)){if(u!==null&&Lp(l)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(f,l.value.length);else{var g=l.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var _=m.getSelection(),R=l.textContent.length,D=Math.min(u.start,R),C=u.end===void 0?D:Math.min(u.end,R);!_.extend&&D>C&&(a=C,C=D,D=a);var S=Gy(l,D),T=Gy(l,C);if(S&&T&&(_.rangeCount!==1||_.anchorNode!==S.node||_.anchorOffset!==S.offset||_.focusNode!==T.node||_.focusOffset!==T.offset)){var A=g.createRange();A.setStart(S.node,S.offset),_.removeAllRanges(),D>C?(_.addRange(A),_.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),_.addRange(A))}}}}for(g=[],_=l;_=_.parentNode;)_.nodeType===1&&g.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<g.length;l++){var M=g[l];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}bc=!!Ud,Pd=Ud=null}finally{ye=r,ve.p=i,$.T=n}}t.current=e,ut=2}}function hE(){if(ut===2){ut=0;var t=ir,e=ha,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=$.T,$.T=null;var i=ve.p;ve.p=2;var r=ye;ye|=4;try{qT(t,e.alternate,e)}finally{ye=r,ve.p=i,$.T=n}}ut=3}}function fE(){if(ut===4||ut===3){ut=0,wA();var t=ir,e=ha,n=gi,i=tE;e.subtreeFlags&10256||e.flags&10256?ut=5:(ut=0,ha=ir=null,dE(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(nr=null),Dp(n),e=e.stateNode,an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(cl,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=$.T,r=ve.p,ve.p=2,$.T=null;try{for(var s=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{$.T=e,ve.p=r}}gi&3&&sh(),Wn(t),r=t.pendingLanes,n&261930&&r&42?t===kd?Co++:(Co=0,kd=t):Co=0,vl(0)}}function dE(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,gl(e)))}function sh(){return cE(),hE(),fE(),pE()}function pE(){if(ut!==5)return!1;var t=ir,e=Md;Md=0;var n=Dp(gi),i=$.T,r=ve.p;try{ve.p=32>n?32:n,$.T=null,n=Vd,Vd=null;var s=ir,a=gi;if(ut=0,ha=ir=null,gi=0,ye&6)throw Error(L(331));var l=ye;if(ye|=4,JT(s.current),XT(s,s.current,a,n),ye=l,vl(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(cl,s)}catch{}return!0}finally{ve.p=r,$.T=i,dE(t,e)}}function xv(t,e,n){e=vn(n,e),e=Id(t.stateNode,e,2),t=tr(t,e,2),t!==null&&(fl(t,2),Wn(t))}function Ee(t,e,n){if(t.tag===3)xv(t,t,n);else for(;e!==null;){if(e.tag===3){xv(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(nr===null||!nr.has(i))){t=vn(n,t),n=CT(2),i=tr(e,n,2),i!==null&&(DT(n,i,e,t),fl(i,2),Wn(i));break}}e=e.return}}function Of(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Jw;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(hg=!0,r.add(n),t=iR.bind(null,t,e,n),e.then(t,t))}function iR(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ce===t&&(de&n)===n&&(Qe===4||Qe===3&&(de&62914560)===de&&300>sn()-nh?!(ye&2)&&fa(t,0):fg|=n,ca===de&&(ca=0)),Wn(t)}function gE(t,e){e===0&&(e=ab()),t=ps(t,e),t!==null&&(fl(t,e),Wn(t))}function rR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gE(t,n)}function sR(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(e),gE(t,n)}function aR(t,e){return Ip(t,e)}var dc=null,Cs=null,jd=!1,pc=!1,Nf=!1,Xi=0;function Wn(t){t!==Cs&&t.next===null&&(Cs===null?dc=Cs=t:Cs=Cs.next=t),pc=!0,jd||(jd=!0,lR())}function vl(t,e){if(!Nf&&pc){Nf=!0;do for(var n=!1,i=dc;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-on(42|t)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Av(i,s))}else s=de,s=Gc(i,i===Ce?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||hl(i,s)||(n=!0,Av(i,s));i=i.next}while(n);Nf=!1}}function oR(){mE()}function mE(){pc=jd=!1;var t=0;Xi!==0&&vR()&&(t=Xi);for(var e=sn(),n=null,i=dc;i!==null;){var r=i.next,s=yE(i,e);s===0?(i.next=null,n===null?dc=r:n.next=r,r===null&&(Cs=n)):(n=i,(t!==0||s&3)&&(pc=!0)),i=r}ut!==0&&ut!==5||vl(t),Xi!==0&&(Xi=0)}function yE(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-on(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=VA(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}if(e=Ce,n=de,n=Gc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(Te===2||Te===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&af(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||hl(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&af(i),Dp(n)){case 2:case 8:n=rb;break;case 32:n=$u;break;case 268435456:n=sb;break;default:n=$u}return i=vE.bind(null,t),n=Ip(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&af(i),t.callbackPriority=2,t.callbackNode=null,2}function vE(t,e){if(ut!==0&&ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(sh()&&t.callbackNode!==n)return null;var i=de;return i=Gc(t,t===Ce?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(iE(t,i,e),yE(t,sn()),t.callbackNode!=null&&t.callbackNode===n?vE.bind(null,t):null)}function Av(t,e){if(sh())return null;iE(t,e,!0)}function lR(){bR(function(){ye&6?Ip(ib,oR):mE()})}function pg(){if(Xi===0){var t=oa;t===0&&(t=tu,tu<<=1,!(tu&261888)&&(tu=256)),Xi=t}return Xi}function wv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Su(""+t)}function Rv(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function uR(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=wv((r[Xt]||null).action),a=i.submitter;a&&(e=(e=a[Xt]||null)?wv(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var l=new Qc("action","action",null,i,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Xi!==0){var u=a?Rv(r,a):new FormData(r);wd(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?Rv(r,a):new FormData(r),wd(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Mf=0;Mf<pd.length;Mf++){var Vf=pd[Mf],cR=Vf.toLowerCase(),hR=Vf[0].toUpperCase()+Vf.slice(1);jn(cR,"on"+hR)}jn(Db,"onAnimationEnd");jn(Ob,"onAnimationIteration");jn(Nb,"onAnimationStart");jn("dblclick","onDoubleClick");jn("focusin","onFocus");jn("focusout","onBlur");jn(Rw,"onTransitionRun");jn(Iw,"onTransitionStart");jn(Cw,"onTransitionCancel");jn(Mb,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qo));function _E(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(f){Ju(f)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(f){Ju(f)}r.currentTarget=null,s=u}}}}function oe(t,e){var n=e[ad];n===void 0&&(n=e[ad]=new Set);var i=t+"__bubble";n.has(i)||(bE(e,t,2,!1),n.add(i))}function kf(t,e,n){var i=0;e&&(i|=4),bE(n,t,i,e)}var hu="_reactListening"+Math.random().toString(36).slice(2);function gg(t){if(!t[hu]){t[hu]=!0,hb.forEach(function(n){n!=="selectionchange"&&(fR.has(n)||kf(n,!1,t),kf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hu]||(e[hu]=!0,kf("selectionchange",!1,e))}}function bE(t,e,n,i){switch(ME(e)){case 2:var r=zR;break;case 8:r=BR;break;default:r=_g}n=r.bind(null,e,n,t),r=void 0,!hd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function jf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=js(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue e}l=l.parentNode}}i=i.return}_b(function(){var c=s,f=Mp(n),g=[];e:{var m=Vb.get(t);if(m!==void 0){var _=Qc,R=t;switch(t){case"keypress":if(Au(n)===0)break e;case"keydown":case"keyup":_=sw;break;case"focusin":R="focus",_=hf;break;case"focusout":R="blur",_=hf;break;case"beforeblur":case"afterblur":_=hf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=ky;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=YA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=lw;break;case Db:case Ob:case Nb:_=$A;break;case Mb:_=cw;break;case"scroll":case"scrollend":_=GA;break;case"wheel":_=fw;break;case"copy":case"cut":case"paste":_=JA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Ly;break;case"toggle":case"beforetoggle":_=pw}var D=(e&4)!==0,C=!D&&(t==="scroll"||t==="scrollend"),S=D?m!==null?m+"Capture":null:m;D=[];for(var T=c,A;T!==null;){var M=T;if(A=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||A===null||S===null||(M=Uo(T,S),M!=null&&D.push(Yo(T,M,A))),C)break;T=T.return}0<D.length&&(m=new _(m,R,null,n,f),g.push({event:m,listeners:D}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==cd&&(R=n.relatedTarget||n.fromElement)&&(js(R)||R[xa]))break e;if((_||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,_?(R=n.relatedTarget||n.toElement,_=c,R=R?js(R):null,R!==null&&(C=ul(R),D=R.tag,R!==C||D!==5&&D!==27&&D!==6)&&(R=null)):(_=null,R=c),_!==R)){if(D=ky,M="onMouseLeave",S="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(D=Ly,M="onPointerLeave",S="onPointerEnter",T="pointer"),C=_==null?m:uo(_),A=R==null?m:uo(R),m=new D(M,T+"leave",_,n,f),m.target=C,m.relatedTarget=A,M=null,js(f)===c&&(D=new D(S,T+"enter",R,n,f),D.target=A,D.relatedTarget=C,M=D),C=M,_&&R)t:{for(D=dR,S=_,T=R,A=0,M=S;M;M=D(M))A++;M=0;for(var z=T;z;z=D(z))M++;for(;0<A-M;)S=D(S),A--;for(;0<M-A;)T=D(T),M--;for(;A--;){if(S===T||T!==null&&S===T.alternate){D=S;break t}S=D(S),T=D(T)}D=null}else D=null;_!==null&&Iv(g,m,_,D,!1),R!==null&&C!==null&&Iv(g,C,R,D,!0)}}e:{if(m=c?uo(c):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var B=By;else if(zy(m))if(Ab)B=xw;else{B=Ew;var E=Tw}else _=m.nodeName,!_||_.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?c&&Np(c.elementType)&&(B=By):B=Sw;if(B&&(B=B(t,c))){xb(g,B,n,f);break e}E&&E(t,m,c),t==="focusout"&&c&&m.type==="number"&&c.memoizedProps.value!=null&&ud(m,"number",m.value)}switch(E=c?uo(c):window,t){case"focusin":(zy(E)||E.contentEditable==="true")&&(Ps=E,fd=c,bo=null);break;case"focusout":bo=fd=Ps=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,Qy(g,n,f);break;case"selectionchange":if(ww)break;case"keydown":case"keyup":Qy(g,n,f)}var y;if(jp)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Us?Eb(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Tb&&n.locale!=="ko"&&(Us||b!=="onCompositionStart"?b==="onCompositionEnd"&&Us&&(y=bb()):(Qi=f,Vp="value"in Qi?Qi.value:Qi.textContent,Us=!0)),E=gc(c,b),0<E.length&&(b=new jy(b,t,null,n,f),g.push({event:b,listeners:E}),y?b.data=y:(y=Sb(n),y!==null&&(b.data=y)))),(y=mw?yw(t,n):vw(t,n))&&(b=gc(c,"onBeforeInput"),0<b.length&&(E=new jy("onBeforeInput","beforeinput",null,n,f),g.push({event:E,listeners:b}),E.data=y)),uR(g,t,c,n,f)}_E(g,e)})}function Yo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Uo(t,n),r!=null&&i.unshift(Yo(t,r,s)),r=Uo(t,e),r!=null&&i.push(Yo(t,r,s))),t.tag===3)return i;t=t.return}return[]}function dR(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Iv(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,r?(c=Uo(n,s),c!=null&&a.unshift(Yo(n,c,u))):r||(c=Uo(n,s),c!=null&&a.push(Yo(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var pR=/\r\n?/g,gR=/\u0000|\uFFFD/g;function Cv(t){return(typeof t=="string"?t:""+t).replace(pR,`
`).replace(gR,"")}function TE(t,e){return e=Cv(e),Cv(t)===e}function Ae(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||aa(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&aa(t,""+i);break;case"className":ru(t,"class",i);break;case"tabIndex":ru(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ru(t,n,i);break;case"style":vb(t,i,s);break;case"data":if(e!=="object"){ru(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Su(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&Ae(t,e,"name",r.name,r,null),Ae(t,e,"formEncType",r.formEncType,r,null),Ae(t,e,"formMethod",r.formMethod,r,null),Ae(t,e,"formTarget",r.formTarget,r,null)):(Ae(t,e,"encType",r.encType,r,null),Ae(t,e,"method",r.method,r,null),Ae(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Su(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=ui);break;case"onScroll":i!=null&&oe("scroll",t);break;case"onScrollEnd":i!=null&&oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Su(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":oe("beforetoggle",t),oe("toggle",t),Eu(t,"popover",i);break;case"xlinkActuate":ei(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ei(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ei(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ei(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ei(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ei(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ei(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ei(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ei(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Eu(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=HA.get(n)||n,Eu(t,n,i))}}function Ld(t,e,n,i,r,s){switch(n){case"style":vb(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"children":typeof i=="string"?aa(t,i):(typeof i=="number"||typeof i=="bigint")&&aa(t,""+i);break;case"onScroll":i!=null&&oe("scroll",t);break;case"onScrollEnd":i!=null&&oe("scrollend",t);break;case"onClick":i!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fb.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[Xt]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Eu(t,n,i)}}}function wt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",t),oe("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:Ae(t,e,s,a,n,null)}}r&&Ae(t,e,"srcSet",n.srcSet,n,null),i&&Ae(t,e,"src",n.src,n,null);return;case"input":oe("invalid",t);var l=s=a=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":a=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(L(137,e));break;default:Ae(t,e,i,f,n,null)}}gb(t,s,l,u,c,a,r,!1);return;case"select":oe("invalid",t),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Ae(t,e,r,l,n,null)}e=s,n=a,t.multiple=!!i,e!=null?Ys(t,!!i,e,!1):n!=null&&Ys(t,!!i,n,!0);return;case"textarea":oe("invalid",t),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(L(91));break;default:Ae(t,e,a,l,n,null)}yb(t,i,r,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ae(t,e,u,i,n,null)}return;case"dialog":oe("beforetoggle",t),oe("toggle",t),oe("cancel",t),oe("close",t);break;case"iframe":case"object":oe("load",t);break;case"video":case"audio":for(i=0;i<Qo.length;i++)oe(Qo[i],t);break;case"image":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"embed":case"source":case"link":oe("error",t),oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:Ae(t,e,c,i,n,null)}return;default:if(Np(e)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&Ld(t,e,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Ae(t,e,l,i,n,null))}function mR(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,c=null,f=null;for(_ in n){var g=n[_];if(n.hasOwnProperty(_)&&g!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(_)||Ae(t,e,_,null,i,g)}}for(var m in i){var _=i[m];if(g=n[m],i.hasOwnProperty(m)&&(_!=null||g!=null))switch(m){case"type":s=_;break;case"name":r=_;break;case"checked":c=_;break;case"defaultChecked":f=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(L(137,e));break;default:_!==g&&Ae(t,e,m,_,i,g)}}ld(t,a,l,u,c,f,s,r);return;case"select":_=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(s)||Ae(t,e,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&Ae(t,e,r,s,i,u)}e=l,n=a,i=_,m!=null?Ys(t,!!n,m,!1):!!i!=!!n&&(e!=null?Ys(t,!!n,e,!0):Ys(t,!!n,n?[]:"",!1));return;case"textarea":_=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ae(t,e,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":_=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(L(91));break;default:r!==s&&Ae(t,e,a,r,i,s)}mb(t,m,_);return;case"option":for(var R in n)if(m=n[R],n.hasOwnProperty(R)&&m!=null&&!i.hasOwnProperty(R))switch(R){case"selected":t.selected=!1;break;default:Ae(t,e,R,null,i,m)}for(u in i)if(m=i[u],_=n[u],i.hasOwnProperty(u)&&m!==_&&(m!=null||_!=null))switch(u){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ae(t,e,u,m,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var D in n)m=n[D],n.hasOwnProperty(D)&&m!=null&&!i.hasOwnProperty(D)&&Ae(t,e,D,null,i,m);for(c in i)if(m=i[c],_=n[c],i.hasOwnProperty(c)&&m!==_&&(m!=null||_!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(L(137,e));break;default:Ae(t,e,c,m,i,_)}return;default:if(Np(e)){for(var C in n)m=n[C],n.hasOwnProperty(C)&&m!==void 0&&!i.hasOwnProperty(C)&&Ld(t,e,C,void 0,i,m);for(f in i)m=i[f],_=n[f],!i.hasOwnProperty(f)||m===_||m===void 0&&_===void 0||Ld(t,e,f,m,i,_);return}}for(var S in n)m=n[S],n.hasOwnProperty(S)&&m!=null&&!i.hasOwnProperty(S)&&Ae(t,e,S,null,i,m);for(g in i)m=i[g],_=n[g],!i.hasOwnProperty(g)||m===_||m==null&&_==null||Ae(t,e,g,m,i,_)}function Dv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yR(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,l=r.duration;if(s&&l&&Dv(a)){for(a=0,l=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>l)break;var f=u.transferSize,g=u.initiatorType;f&&Dv(g)&&(u=u.responseEnd,a+=f*(u<l?1:(l-c)/(u-c)))}if(--i,e+=8*(s+a)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ud=null,Pd=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function Ov(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EE(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function zd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lf=null;function vR(){var t=window.event;return t&&t.type==="popstate"?t===Lf?!1:(Lf=t,!0):(Lf=null,!1)}var SE=typeof setTimeout=="function"?setTimeout:void 0,_R=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,bR=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(t){return Nv.resolve(null).then(t).catch(TR)}:SE;function TR(t){setTimeout(function(){throw t})}function wr(t){return t==="head"}function Mv(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(r),pa(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Do(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Do(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[dl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&Do(t.ownerDocument.body);n=r}while(n);pa(e)}function Vv(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Bd(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Bd(n),Op(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function ER(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[dl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=En(t.nextSibling),t===null)break}return null}function SR(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=En(t.nextSibling),t===null))return null;return t}function xE(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=En(t.nextSibling),t===null))return null;return t}function qd(t){return t.data==="$?"||t.data==="$~"}function Hd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function xR(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function En(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Fd=null;function kv(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return En(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function jv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function AE(t,e,n){switch(e=mc(n),t){case"html":if(t=e.documentElement,!t)throw Error(L(452));return t;case"head":if(t=e.head,!t)throw Error(L(453));return t;case"body":if(t=e.body,!t)throw Error(L(454));return t;default:throw Error(L(451))}}function Do(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Op(t)}var Sn=new Map,Lv=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ri=ve.d;ve.d={f:AR,r:wR,D:RR,C:IR,L:CR,m:DR,X:NR,S:OR,M:MR};function AR(){var t=Ri.f(),e=ih();return t||e}function wR(t){var e=Aa(t);e!==null&&e.tag===5&&e.type==="form"?vT(e):Ri.r(t)}var Ca=typeof document>"u"?null:document;function wE(t,e,n){var i=Ca;if(i&&typeof e=="string"&&e){var r=yn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Lv.has(r)||(Lv.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),wt(e,"link",t),pt(e),i.head.appendChild(e)))}}function RR(t){Ri.D(t),wE("dns-prefetch",t,null)}function IR(t,e){Ri.C(t,e),wE("preconnect",t,e)}function CR(t,e,n){Ri.L(t,e,n);var i=Ca;if(i&&t&&e){var r='link[rel="preload"][as="'+yn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+yn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+yn(n.imageSizes)+'"]')):r+='[href="'+yn(t)+'"]';var s=r;switch(e){case"style":s=da(t);break;case"script":s=Da(t)}Sn.has(s)||(t=Pe({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Sn.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(_l(s))||e==="script"&&i.querySelector(bl(s))||(e=i.createElement("link"),wt(e,"link",t),pt(e),i.head.appendChild(e)))}}function DR(t,e){Ri.m(t,e);var n=Ca;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+yn(i)+'"][href="'+yn(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Da(t)}if(!Sn.has(s)&&(t=Pe({rel:"modulepreload",href:t},e),Sn.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(bl(s)))return}i=n.createElement("link"),wt(i,"link",t),pt(i),n.head.appendChild(i)}}}function OR(t,e,n){Ri.S(t,e,n);var i=Ca;if(i&&t){var r=Qs(i).hoistableStyles,s=da(t);e=e||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(_l(s)))l.loading=5;else{t=Pe({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Sn.get(s))&&mg(t,n);var u=a=i.createElement("link");pt(u),wt(u,"link",t),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Mu(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function NR(t,e){Ri.X(t,e);var n=Ca;if(n&&t){var i=Qs(n).hoistableScripts,r=Da(t),s=i.get(r);s||(s=n.querySelector(bl(r)),s||(t=Pe({src:t,async:!0},e),(e=Sn.get(r))&&yg(t,e),s=n.createElement("script"),pt(s),wt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function MR(t,e){Ri.M(t,e);var n=Ca;if(n&&t){var i=Qs(n).hoistableScripts,r=Da(t),s=i.get(r);s||(s=n.querySelector(bl(r)),s||(t=Pe({src:t,async:!0,type:"module"},e),(e=Sn.get(r))&&yg(t,e),s=n.createElement("script"),pt(s),wt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Uv(t,e,n,i){var r=(r=Ji.current)?yc(r):null;if(!r)throw Error(L(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=da(n.href),n=Qs(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=da(n.href);var s=Qs(r).hoistableStyles,a=s.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=r.querySelector(_l(t)))&&!s._p&&(a.instance=s,a.state.loading=5),Sn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sn.set(t,n),s||VR(r,t,n,a.state))),e&&i===null)throw Error(L(528,""));return a}if(e&&i!==null)throw Error(L(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Da(n),n=Qs(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,t))}}function da(t){return'href="'+yn(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function RE(t){return Pe({},t,{"data-precedence":t.precedence,precedence:null})}function VR(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),wt(e,"link",n),pt(e),t.head.appendChild(e))}function Da(t){return'[src="'+yn(t)+'"]'}function bl(t){return"script[async]"+t}function Pv(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+yn(n.href)+'"]');if(i)return e.instance=i,pt(i),i;var r=Pe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),pt(i),wt(i,"style",r),Mu(i,n.precedence,t),e.instance=i;case"stylesheet":r=da(n.href);var s=t.querySelector(_l(r));if(s)return e.state.loading|=4,e.instance=s,pt(s),s;i=RE(n),(r=Sn.get(r))&&mg(i,r),s=(t.ownerDocument||t).createElement("link"),pt(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),wt(s,"link",i),e.state.loading|=4,Mu(s,n.precedence,t),e.instance=s;case"script":return s=Da(n.src),(r=t.querySelector(bl(s)))?(e.instance=r,pt(r),r):(i=n,(r=Sn.get(s))&&(i=Pe({},n),yg(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),pt(r),wt(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(L(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Mu(i,n.precedence,t));return e.instance}function Mu(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function mg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function yg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Vu=null;function zv(t,e,n){if(Vu===null){var i=new Map,r=Vu=new Map;r.set(n,i)}else r=Vu,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[dl]||s[Et]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Bv(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function kR(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function IE(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function jR(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=da(i.href),s=e.querySelector(_l(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=vc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,pt(s);return}s=e.ownerDocument||e,i=RE(i),(r=Sn.get(r))&&mg(i,r),s=s.createElement("link"),pt(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),wt(s,"link",i),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=vc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Uf=0;function LR(t,e){return t.stylesheets&&t.count===0&&ku(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&ku(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&Uf===0&&(Uf=62500*yR());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ku(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>Uf?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ku(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _c=null;function ku(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_c=new Map,e.forEach(UR,t),_c=null,vc.call(t))}function UR(t,e){if(!(e.state.loading&4)){var n=_c.get(t);if(n)var i=n.get(null);else{n=new Map,_c.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=vc.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Ko={$$typeof:li,Provider:null,Consumer:null,_currentValue:Gr,_currentValue2:Gr,_threadCount:0};function PR(t,e,n,i,r,s,a,l,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=of(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=of(0),this.hiddenUpdates=of(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function CE(t,e,n,i,r,s,a,l,u,c,f,g){return t=new PR(t,e,n,a,u,c,f,g,l),e=1,s===!0&&(e|=24),s=tn(3,null,null,e),t.current=s,s.stateNode=t,e=Hp(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},Qp(s),t}function DE(t){return t?(t=qs,t):qs}function OE(t,e,n,i,r,s){r=DE(r),i.context===null?i.context=r:i.pendingContext=r,i=er(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=tr(t,i,e),n!==null&&(Kt(n,t,e),Eo(n,t,e))}function qv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vg(t,e){qv(t,e),(t=t.alternate)&&qv(t,e)}function NE(t){if(t.tag===13||t.tag===31){var e=ps(t,67108864);e!==null&&Kt(e,t,67108864),vg(t,67108864)}}function Hv(t){if(t.tag===13||t.tag===31){var e=ln();e=Cp(e);var n=ps(t,e);n!==null&&Kt(n,t,e),vg(t,e)}}var bc=!0;function zR(t,e,n,i){var r=$.T;$.T=null;var s=ve.p;try{ve.p=2,_g(t,e,n,i)}finally{ve.p=s,$.T=r}}function BR(t,e,n,i){var r=$.T;$.T=null;var s=ve.p;try{ve.p=8,_g(t,e,n,i)}finally{ve.p=s,$.T=r}}function _g(t,e,n,i){if(bc){var r=Gd(i);if(r===null)jf(t,e,i,Tc,n),Fv(t,i);else if(HR(r,t,e,n,i))i.stopPropagation();else if(Fv(t,i),e&4&&-1<qR.indexOf(t)){for(;r!==null;){var s=Aa(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Ur(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-on(a);l.entanglements[1]|=u,a&=~u}Wn(s),!(ye&6)&&(cc=sn()+500,vl(0))}}break;case 31:case 13:l=ps(s,2),l!==null&&Kt(l,s,2),ih(),vg(s,2)}if(s=Gd(i),s===null&&jf(t,e,i,Tc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else jf(t,e,i,null,n)}}function Gd(t){return t=Mp(t),bg(t)}var Tc=null;function bg(t){if(Tc=null,t=js(t),t!==null){var e=ul(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=J0(e),t!==null)return t;t=null}else if(n===31){if(t=Z0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Tc=t,null}function ME(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(RA()){case ib:return 2;case rb:return 8;case $u:case IA:return 32;case sb:return 268435456;default:return 32}default:return 32}}var Qd=!1,rr=null,sr=null,ar=null,Xo=new Map,$o=new Map,Bi=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fv(t,e){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Xo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(e.pointerId)}}function ao(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Aa(e),e!==null&&NE(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function HR(t,e,n,i,r){switch(e){case"focusin":return rr=ao(rr,t,e,n,i,r),!0;case"dragenter":return sr=ao(sr,t,e,n,i,r),!0;case"mouseover":return ar=ao(ar,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Xo.set(s,ao(Xo.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,$o.set(s,ao($o.get(s)||null,t,e,n,i,r)),!0}return!1}function VE(t){var e=js(t.target);if(e!==null){var n=ul(e);if(n!==null){if(e=n.tag,e===13){if(e=J0(n),e!==null){t.blockedOn=e,Iy(t.priority,function(){Hv(n)});return}}else if(e===31){if(e=Z0(n),e!==null){t.blockedOn=e,Iy(t.priority,function(){Hv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ju(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gd(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);cd=i,n.target.dispatchEvent(i),cd=null}else return e=Aa(n),e!==null&&NE(e),t.blockedOn=n,!1;e.shift()}return!0}function Gv(t,e,n){ju(t)&&n.delete(e)}function FR(){Qd=!1,rr!==null&&ju(rr)&&(rr=null),sr!==null&&ju(sr)&&(sr=null),ar!==null&&ju(ar)&&(ar=null),Xo.forEach(Gv),$o.forEach(Gv)}function fu(t,e){t.blockedOn===e&&(t.blockedOn=null,Qd||(Qd=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,FR)))}var du=null;function Qv(t){du!==t&&(du=t,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,function(){du===t&&(du=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(bg(i||n)===null)continue;break}var s=Aa(n);s!==null&&(t.splice(e,3),e-=3,wd(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function pa(t){function e(u){return fu(u,t)}rr!==null&&fu(rr,t),sr!==null&&fu(sr,t),ar!==null&&fu(ar,t),Xo.forEach(e),$o.forEach(e);for(var n=0;n<Bi.length;n++){var i=Bi[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Bi.length&&(n=Bi[0],n.blockedOn===null);)VE(n),n.blockedOn===null&&Bi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Xt]||null;if(typeof s=="function")a||Qv(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Xt]||null)l=a.formAction;else if(bg(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Qv(n)}}}function kE(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function Tg(t){this._internalRoot=t}ah.prototype.render=Tg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));var n=e.current,i=ln();OE(n,i,t,e,null,null)};ah.prototype.unmount=Tg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;OE(t.current,2,null,t,null,null),ih(),e[xa]=null}};function ah(t){this._internalRoot=t}ah.prototype.unstable_scheduleHydration=function(t){if(t){var e=cb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bi.length&&e!==0&&e<Bi[n].priority;n++);Bi.splice(n,0,t),n===0&&VE(t)}};var Yv=$0.version;if(Yv!=="19.2.1")throw Error(L(527,Yv,"19.2.1"));ve.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=bA(e),t=t!==null?eb(t):null,t=t===null?null:t.stateNode,t};var GR={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{cl=pu.inject(GR),an=pu}catch{}}Hc.createRoot=function(t,e){if(!W0(t))throw Error(L(299));var n=!1,i="",r=wT,s=RT,a=IT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=CE(t,1,!1,null,null,n,i,null,r,s,a,kE),t[xa]=e.current,gg(t),new Tg(e)};Hc.hydrateRoot=function(t,e,n){if(!W0(t))throw Error(L(299));var i=!1,r="",s=wT,a=RT,l=IT,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=CE(t,1,!0,e,n??null,i,r,u,s,a,l,kE),e.context=DE(null),n=e.current,i=ln(),i=Cp(i),r=er(i),r.callback=null,tr(n,r,i),n=i,e.current.lanes=n,fl(e,n),Wn(e),t[xa]=e.current,gg(t),new ah(e)};Hc.version="19.2.1";function jE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jE)}catch(t){console.error(t)}}jE(),F0.exports=Hc;var QR=F0.exports;const YR=V0(QR);/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wo.apply(this,arguments)}var $i;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($i||($i={}));const Kv="popstate";function KR(t){t===void 0&&(t={});function e(r,s){let{pathname:a="/",search:l="",hash:u=""}=ms(r.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Yd("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let a=r.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let u=r.location.href,c=u.indexOf("#");l=c===-1?u:u.slice(0,c)}return l+"#"+(typeof s=="string"?s:LE(s))}function i(r,s){oh(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return $R(e,n,i,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XR(){return Math.random().toString(36).substr(2,8)}function Xv(t,e){return{usr:t.state,key:t.key,idx:e}}function Yd(t,e,n,i){return n===void 0&&(n=null),Wo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ms(e):e,{state:n,key:e&&e.key||i||XR()})}function LE(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ms(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function $R(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l=$i.Pop,u=null,c=f();c==null&&(c=0,a.replaceState(Wo({},a.state,{idx:c}),""));function f(){return(a.state||{idx:null}).idx}function g(){l=$i.Pop;let C=f(),S=C==null?null:C-c;c=C,u&&u({action:l,location:D.location,delta:S})}function m(C,S){l=$i.Push;let T=Yd(D.location,C,S);n&&n(T,C),c=f()+1;let A=Xv(T,c),M=D.createHref(T);try{a.pushState(A,"",M)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;r.location.assign(M)}s&&u&&u({action:l,location:D.location,delta:1})}function _(C,S){l=$i.Replace;let T=Yd(D.location,C,S);n&&n(T,C),c=f();let A=Xv(T,c),M=D.createHref(T);a.replaceState(A,"",M),s&&u&&u({action:l,location:D.location,delta:0})}function R(C){let S=r.location.origin!=="null"?r.location.origin:r.location.href,T=typeof C=="string"?C:LE(C);return T=T.replace(/ $/,"%20"),at(S,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,S)}let D={get action(){return l},get location(){return t(r,a)},listen(C){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Kv,g),u=C,()=>{r.removeEventListener(Kv,g),u=null}},createHref(C){return e(r,C)},createURL:R,encodeLocation(C){let S=R(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:_,go(C){return a.go(C)}};return D}var $v;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($v||($v={}));function WR(t,e,n){return n===void 0&&(n="/"),JR(t,e,n)}function JR(t,e,n,i){let r=typeof e=="string"?ms(e):e,s=zE(r.pathname||"/",n);if(s==null)return null;let a=UE(t);ZR(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=h2(s);l=l2(a[u],c)}return l}function UE(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(at(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let c=$r([i,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(at(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),UE(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:a2(c,s.index),routesMeta:f})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))r(s,a);else for(let u of PE(s.path))r(s,a,u)}),e}function PE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=PE(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function ZR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:o2(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const e2=/^:[\w-]+$/,t2=3,n2=2,i2=1,r2=10,s2=-2,Wv=t=>t==="*";function a2(t,e){let n=t.split("/"),i=n.length;return n.some(Wv)&&(i+=s2),e&&(i+=n2),n.filter(r=>!Wv(r)).reduce((r,s)=>r+(e2.test(s)?t2:s===""?i2:r2),i)}function o2(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function l2(t,e,n){let{routesMeta:i}=t,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",g=u2({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!g)return null;Object.assign(r,g.params),a.push({params:r,pathname:$r([s,g.pathname]),pathnameBase:m2($r([s,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(s=$r([s,g.pathnameBase]))}return a}function u2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=c2(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((c,f,g)=>{let{paramName:m,isOptional:_}=f;if(m==="*"){let D=l[g]||"";a=s.slice(0,s.length-D.length).replace(/(.)\/+$/,"$1")}const R=l[g];return _&&!R?c[m]=void 0:c[m]=(R||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function c2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),oh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function h2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const f2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d2=t=>f2.test(t);function p2(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?ms(t):t,s;if(n)if(d2(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),oh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=Jv(n.substring(1),"/"):s=Jv(n,e)}else s=e;return{pathname:s,search:y2(i),hash:v2(r)}}function Jv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Pf(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function BE(t,e){let n=g2(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function qE(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=ms(t):(r=Wo({},t),at(!r.pathname||!r.pathname.includes("?"),Pf("?","pathname","search",r)),at(!r.pathname||!r.pathname.includes("#"),Pf("#","pathname","hash",r)),at(!r.search||!r.search.includes("#"),Pf("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let g=e.length-1;if(!i&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),g-=1;r.pathname=m.join("/")}l=g>=0?e[g]:"/"}let u=p2(r,l),c=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const $r=t=>t.join("/").replace(/\/\/+/g,"/"),m2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),y2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const HE=["post","put","patch","delete"];new Set(HE);const b2=["get",...HE];new Set(b2);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jo.apply(this,arguments)}const Eg=k.createContext(null),T2=k.createContext(null),Tl=k.createContext(null),lh=k.createContext(null),Rr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),FE=k.createContext(null);function El(){return k.useContext(lh)!=null}function uh(){return El()||at(!1),k.useContext(lh).location}function GE(t){k.useContext(Tl).static||k.useLayoutEffect(t)}function xn(){let{isDataRoute:t}=k.useContext(Rr);return t?V2():E2()}function E2(){El()||at(!1);let t=k.useContext(Eg),{basename:e,future:n,navigator:i}=k.useContext(Tl),{matches:r}=k.useContext(Rr),{pathname:s}=uh(),a=JSON.stringify(BE(r,n.v7_relativeSplatPath)),l=k.useRef(!1);return GE(()=>{l.current=!0}),k.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){i.go(c);return}let g=qE(c,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:$r([e,g.pathname])),(f.replace?i.replace:i.push)(g,f.state,f)},[e,i,a,s,t])}function QE(){let{matches:t}=k.useContext(Rr),e=t[t.length-1];return e?e.params:{}}function S2(t,e){return x2(t,e)}function x2(t,e,n,i){El()||at(!1);let{navigator:r}=k.useContext(Tl),{matches:s}=k.useContext(Rr),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=uh(),f;if(e){var g;let C=typeof e=="string"?ms(e):e;u==="/"||(g=C.pathname)!=null&&g.startsWith(u)||at(!1),f=C}else f=c;let m=f.pathname||"/",_=m;if(u!=="/"){let C=u.replace(/^\//,"").split("/");_="/"+m.replace(/^\//,"").split("/").slice(C.length).join("/")}let R=WR(t,{pathname:_}),D=C2(R&&R.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:$r([u,r.encodeLocation?r.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:$r([u,r.encodeLocation?r.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,i);return e&&D?k.createElement(lh.Provider,{value:{location:Jo({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:$i.Pop}},D):D}function A2(){let t=M2(),e=_2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:r},n):null,null)}const w2=k.createElement(A2,null);class R2 extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Rr.Provider,{value:this.props.routeContext},k.createElement(FE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I2(t){let{routeContext:e,match:n,children:i}=t,r=k.useContext(Eg);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Rr.Provider,{value:e},i)}function C2(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let f=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);f>=0||at(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let f=0;f<a.length;f++){let g=a[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=f),g.route.id){let{loaderData:m,errors:_}=n,R=g.route.loader&&m[g.route.id]===void 0&&(!_||_[g.route.id]===void 0);if(g.route.lazy||R){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,g,m)=>{let _,R=!1,D=null,C=null;n&&(_=l&&g.route.id?l[g.route.id]:void 0,D=g.route.errorElement||w2,u&&(c<0&&m===0?(k2("route-fallback"),R=!0,C=null):c===m&&(R=!0,C=g.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,m+1)),T=()=>{let A;return _?A=D:R?A=C:g.route.Component?A=k.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=f,k.createElement(I2,{match:g,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?k.createElement(R2,{location:n.location,revalidation:n.revalidation,component:D,error:_,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}var YE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(YE||{}),KE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(KE||{});function D2(t){let e=k.useContext(Eg);return e||at(!1),e}function O2(t){let e=k.useContext(T2);return e||at(!1),e}function N2(t){let e=k.useContext(Rr);return e||at(!1),e}function XE(t){let e=N2(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function M2(){var t;let e=k.useContext(FE),n=O2(),i=XE();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function V2(){let{router:t}=D2(YE.UseNavigateStable),e=XE(KE.UseNavigateStable),n=k.useRef(!1);return GE(()=>{n.current=!0}),k.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Jo({fromRouteId:e},s)))},[t,e])}const Zv={};function k2(t,e,n){Zv[t]||(Zv[t]=!0)}function j2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function L2(t){let{to:e,replace:n,state:i,relative:r}=t;El()||at(!1);let{future:s,static:a}=k.useContext(Tl),{matches:l}=k.useContext(Rr),{pathname:u}=uh(),c=xn(),f=qE(e,BE(l,s.v7_relativeSplatPath),u,r==="path"),g=JSON.stringify(f);return k.useEffect(()=>c(JSON.parse(g),{replace:n,state:i,relative:r}),[c,g,r,n,i]),null}function Cn(t){at(!1)}function U2(t){let{basename:e="/",children:n=null,location:i,navigationType:r=$i.Pop,navigator:s,static:a=!1,future:l}=t;El()&&at(!1);let u=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:u,navigator:s,static:a,future:Jo({v7_relativeSplatPath:!1},l)}),[u,l,s,a]);typeof i=="string"&&(i=ms(i));let{pathname:f="/",search:g="",hash:m="",state:_=null,key:R="default"}=i,D=k.useMemo(()=>{let C=zE(f,u);return C==null?null:{location:{pathname:C,search:g,hash:m,state:_,key:R},navigationType:r}},[u,f,g,m,_,R,r]);return D==null?null:k.createElement(Tl.Provider,{value:c},k.createElement(lh.Provider,{children:n,value:D}))}function P2(t){let{children:e,location:n}=t;return S2(Kd(e),n)}new Promise(()=>{});function Kd(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(i,r)=>{if(!k.isValidElement(i))return;let s=[...e,r];if(i.type===k.Fragment){n.push.apply(n,Kd(i.props.children,s));return}i.type!==Cn&&at(!1),!i.props.index||!i.props.children||at(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Kd(i.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xd(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(r=>[n,r]):[[n,i]])},[]))}function z2(t,e){let n=Xd(t);return e&&e.forEach((i,r)=>{n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)})}),n}const B2="6";try{window.__reactRouterVersion=B2}catch{}const q2="startTransition",e_=dA[q2];function H2(t){let{basename:e,children:n,future:i,window:r}=t,s=k.useRef();s.current==null&&(s.current=KR({window:r,v5Compat:!0}));let a=s.current,[l,u]=k.useState({action:a.action,location:a.location}),{v7_startTransition:c}=i||{},f=k.useCallback(g=>{c&&e_?e_(()=>u(g)):u(g)},[u,c]);return k.useLayoutEffect(()=>a.listen(f),[a,f]),k.useEffect(()=>j2(i),[i]),k.createElement(U2,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:i})}var t_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(t_||(t_={}));var n_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(n_||(n_={}));function F2(t){let e=k.useRef(Xd(t)),n=k.useRef(!1),i=uh(),r=k.useMemo(()=>z2(i.search,n.current?null:e.current),[i.search]),s=xn(),a=k.useCallback((l,u)=>{const c=Xd(typeof l=="function"?l(r):l);n.current=!0,s("?"+c,u)},[s,r]);return[r,a]}const G2=()=>{};var i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Q2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],l=t[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},WE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,l=a?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,f=s>>2,g=(s&3)<<4|l>>4;let m=(l&15)<<2|c>>6,_=c&63;u||(_=64,a||(m=64)),i.push(n[f],n[g],n[m],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($E(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Q2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const g=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||c==null||g==null)throw new Y2;const m=s<<2|l>>4;if(i.push(m),c!==64){const _=l<<4&240|c>>2;if(i.push(_),g!==64){const R=c<<6&192|g;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Y2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K2=function(t){const e=$E(t);return WE.encodeByteArray(e,!0)},Ec=function(t){return K2(t).replace(/\./g,"")},JE=function(t){try{return WE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=()=>X2().__FIREBASE_DEFAULTS__,W2=()=>{if(typeof process>"u"||typeof i_>"u")return;const t=i_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},J2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JE(t[1]);return e&&JSON.parse(e)},ch=()=>{try{return G2()||$2()||W2()||J2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZE=t=>{var e,n;return(n=(e=ch())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Z2=t=>{const e=ZE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},e1=()=>{var t;return(t=ch())===null||t===void 0?void 0:t.config},t1=t=>{var e;return(e=ch())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function n1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ec(JSON.stringify(n)),Ec(JSON.stringify(a)),""].join(".")}const Oo={};function nI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Oo))Oo[e]?t.emulator.push(e):t.prod.push(e);return t}function iI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let r_=!1;function i1(t,e){if(typeof window>"u"||typeof document>"u"||!Oa(window.location.host)||Oo[t]===e||Oo[t]||r_)return;Oo[t]=e;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=nI().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{r_=!0,a()},m}function f(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=iI(i),_=n("text"),R=document.getElementById(_)||document.createElement("span"),D=n("learnmore"),C=document.getElementById(D)||document.createElement("a"),S=n("preprendIcon"),T=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const A=m.element;l(A),f(C,D);const M=c();u(T,S),A.append(T,R,C,M),document.body.appendChild(A)}s?(R.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function sI(){var t;const e=(t=ch())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uI(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cI(){return!sI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hI(){try{return typeof indexedDB=="object"}catch{return!1}}function fI(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="FirebaseError";class Ii extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=dI,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?pI(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Ii(r,l,i)}}function pI(t,e){return t.replace(gI,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const gI=/\{\$([^}]+)}/g;function mI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ss(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(s_(s)&&s_(a)){if(!ss(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function s_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function yI(t,e){const n=new vI(t,e);return n.subscribe.bind(n)}class vI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");_I(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=zf),r.error===void 0&&(r.error=zf),r.complete===void 0&&(r.complete=zf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _I(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class as{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new eI;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EI(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:TI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TI(t){return t===Br?void 0:t}function EI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const xI={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},AI=he.INFO,wI={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},RI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=wI[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sg{constructor(e){this.name=e,this._logLevel=AI,this._logHandler=RI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const II=(t,e)=>e.some(n=>t instanceof n);let a_,o_;function CI(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DI(){return o_||(o_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r1=new WeakMap,$d=new WeakMap,s1=new WeakMap,Bf=new WeakMap,xg=new WeakMap;function OI(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(or(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&r1.set(n,t)}).catch(()=>{}),xg.set(e,t),e}function NI(t){if($d.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});$d.set(t,e)}let Wd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $d.get(t);if(e==="objectStoreNames")return t.objectStoreNames||s1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MI(t){Wd=t(Wd)}function VI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(qf(this),e,...n);return s1.set(i,e.sort?e.sort():[e]),or(i)}:DI().includes(t)?function(...e){return t.apply(qf(this),e),or(r1.get(this))}:function(...e){return or(t.apply(qf(this),e))}}function kI(t){return typeof t=="function"?VI(t):(t instanceof IDBTransaction&&NI(t),II(t,CI())?new Proxy(t,Wd):t)}function or(t){if(t instanceof IDBRequest)return OI(t);if(Bf.has(t))return Bf.get(t);const e=kI(t);return e!==t&&(Bf.set(t,e),xg.set(e,t)),e}const qf=t=>xg.get(t);function jI(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),l=or(a);return i&&a.addEventListener("upgradeneeded",u=>{i(or(a.result),u.oldVersion,u.newVersion,or(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const LI=["get","getKey","getAll","getAllKeys","count"],UI=["put","add","delete","clear"],Hf=new Map;function l_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hf.get(e))return Hf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=UI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||LI.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),r&&u.done]))[0]};return Hf.set(e,s),s}MI(t=>({...t,get:(e,n,i)=>l_(e,n)||t.get(e,n,i),has:(e,n)=>!!l_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function zI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jd="@firebase/app",u_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Sg("@firebase/app"),BI="@firebase/app-compat",qI="@firebase/analytics-compat",HI="@firebase/analytics",FI="@firebase/app-check-compat",GI="@firebase/app-check",QI="@firebase/auth",YI="@firebase/auth-compat",KI="@firebase/database",XI="@firebase/data-connect",$I="@firebase/database-compat",WI="@firebase/functions",JI="@firebase/functions-compat",ZI="@firebase/installations",eC="@firebase/installations-compat",tC="@firebase/messaging",nC="@firebase/messaging-compat",iC="@firebase/performance",rC="@firebase/performance-compat",sC="@firebase/remote-config",aC="@firebase/remote-config-compat",oC="@firebase/storage",lC="@firebase/storage-compat",uC="@firebase/firestore",cC="@firebase/ai",hC="@firebase/firestore-compat",fC="firebase",dC="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",pC={[Jd]:"fire-core",[BI]:"fire-core-compat",[HI]:"fire-analytics",[qI]:"fire-analytics-compat",[GI]:"fire-app-check",[FI]:"fire-app-check-compat",[QI]:"fire-auth",[YI]:"fire-auth-compat",[KI]:"fire-rtdb",[XI]:"fire-data-connect",[$I]:"fire-rtdb-compat",[WI]:"fire-fn",[JI]:"fire-fn-compat",[ZI]:"fire-iid",[eC]:"fire-iid-compat",[tC]:"fire-fcm",[nC]:"fire-fcm-compat",[iC]:"fire-perf",[rC]:"fire-perf-compat",[sC]:"fire-rc",[aC]:"fire-rc-compat",[oC]:"fire-gcs",[lC]:"fire-gcs-compat",[uC]:"fire-fst",[hC]:"fire-fst-compat",[cC]:"fire-vertex","fire-js":"fire-js",[fC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,gC=new Map,ep=new Map;function c_(t,e){try{t.container.addComponent(e)}catch(n){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ga(t){const e=t.name;if(ep.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,t);for(const n of Sc.values())c_(n,t);for(const n of gC.values())c_(n,t);return!0}function Ag(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function On(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Sl("app","Firebase",mC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=dC;function a1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Zd,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw lr.create("bad-app-name",{appName:String(r)});if(n||(n=e1()),!n)throw lr.create("no-options");const s=Sc.get(r);if(s){if(ss(n,s.options)&&ss(i,s.config))return s;throw lr.create("duplicate-app",{appName:r})}const a=new SI(r);for(const u of ep.values())a.addComponent(u);const l=new yC(n,i,a);return Sc.set(r,l),l}function o1(t=Zd){const e=Sc.get(t);if(!e&&t===Zd&&e1())return a1();if(!e)throw lr.create("no-app",{appName:t});return e}function ur(t,e,n){var i;let r=(i=pC[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(l.join(" "));return}ga(new as(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="firebase-heartbeat-database",_C=1,Zo="firebase-heartbeat-store";let Ff=null;function l1(){return Ff||(Ff=jI(vC,_C,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(t=>{throw lr.create("idb-open",{originalErrorMessage:t.message})})),Ff}async function bC(t){try{const n=(await l1()).transaction(Zo),i=await n.objectStore(Zo).get(u1(t));return await n.done,i}catch(e){if(e instanceof Ii)Ei.warn(e.message);else{const n=lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ei.warn(n.message)}}}async function h_(t,e){try{const i=(await l1()).transaction(Zo,"readwrite");await i.objectStore(Zo).put(e,u1(t)),await i.done}catch(n){if(n instanceof Ii)Ei.warn(n.message);else{const i=lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(i.message)}}}function u1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=1024,EC=30;class SC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AC(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=f_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>EC){const a=wC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ei.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f_(),{heartbeatsToSend:i,unsentEntries:r}=xC(this._heartbeatsCache.heartbeats),s=Ec(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ei.warn(n),""}}}function f_(){return new Date().toISOString().substring(0,10)}function xC(t,e=TC){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),d_(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),d_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class AC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hI()?fI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return h_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return h_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function d_(t){return Ec(JSON.stringify({version:2,heartbeats:t})).length}function wC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t){ga(new as("platform-logger",e=>new PI(e),"PRIVATE")),ga(new as("heartbeat",e=>new SC(e),"PRIVATE")),ur(Jd,u_,t),ur(Jd,u_,"esm2017"),ur("fire-js","")}RC("");var IC="firebase",CC="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(IC,CC,"app");function wg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function c1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DC=c1,h1=new Sl("auth","Firebase",c1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Sg("@firebase/auth");function OC(t,...e){xc.logLevel<=he.WARN&&xc.warn(`Auth (${Na}): ${t}`,...e)}function Lu(t,...e){xc.logLevel<=he.ERROR&&xc.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,...e){throw Ig(t,...e)}function Mn(t,...e){return Ig(t,...e)}function Rg(t,e,n){const i=Object.assign(Object.assign({},DC()),{[e]:n});return new Sl("auth","Firebase",i).create(e,{appName:t.name})}function Wr(t){return Rg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NC(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Kn(t,"argument-error"),Rg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ig(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return h1.create(t,...e)}function W(t,e,...n){if(!t)throw Ig(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lu(e),new Error(e)}function Si(t,e){t||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function MC(){return p_()==="http:"||p_()==="https:"}function p_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MC()||oI()||"connection"in navigator)?navigator.onLine:!0}function kC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=rI()||lI()}get(){return VC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t,e){Si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UC=new Al(3e4,6e4);function Dg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ma(t,e,n,i,r={}){return d1(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const l=xl(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return aI()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Oa(t.emulatorConfig.host)&&(c.credentials="include"),f1.fetch()(await p1(t,t.config.apiHost,n,l),c)})}async function d1(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},jC),e);try{const r=new zC(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw gu(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw gu(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw gu(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw gu(t,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Rg(t,f,c);Kn(t,f)}}catch(r){if(r instanceof Ii)throw r;Kn(t,"network-request-failed",{message:String(r)})}}async function PC(t,e,n,i,r={}){const s=await Ma(t,e,n,i,r);return"mfaPendingCredential"in s&&Kn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function p1(t,e,n,i){const r=`${e}${n}?${i}`,s=t,a=s.config.emulator?Cg(t.config,r):`${t.config.apiScheme}://${r}`;return LC.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class zC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Mn(this.auth,"network-request-failed")),UC.get())})}}function gu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Mn(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(t,e){return Ma(t,"POST","/v1/accounts:delete",e)}async function Ac(t,e){return Ma(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qC(t,e=!1){const n=mt(t),i=await n.getIdToken(e),r=Og(i);W(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:No(Gf(r.auth_time)),issuedAtTime:No(Gf(r.iat)),expirationTime:No(Gf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Gf(t){return Number(t)*1e3}function Og(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Lu("JWT malformed, contained fewer than 3 sections"),null;try{const r=JE(n);return r?JSON.parse(r):(Lu("Failed to decode base64 JWT payload"),null)}catch(r){return Lu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function g_(t){const e=Og(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ii&&HC(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function HC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=No(this.lastLoginAt),this.creationTime=No(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t){var e;const n=t.auth,i=await t.getIdToken(),r=await el(t,Ac(n,{idToken:i}));W(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?g1(s.providerUserInfo):[],l=QC(t.providerData,a),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=u?c:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new np(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function GC(t){const e=mt(t);await wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QC(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function g1(t){return t.map(e=>{var{providerId:n}=e,i=wg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(t,e){const n=await d1(t,{},async()=>{const i=xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=await p1(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&Oa(t.emulatorConfig.host)&&(u.credentials="include"),f1.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KC(t,e){return Ma(t,"POST","/v2/accounts:revokeToken",Dg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");const n=g_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await YC(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Zs;return i&&(W(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(W(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(W(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zs,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Nn{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new np(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await el(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qC(this,e)}reload(){return GC(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Nn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await wc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await el(this,BC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,a,l,u,c,f;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,R=(a=n.photoURL)!==null&&a!==void 0?a:void 0,D=(l=n.tenantId)!==null&&l!==void 0?l:void 0,C=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,S=(c=n.createdAt)!==null&&c!==void 0?c:void 0,T=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:A,emailVerified:M,isAnonymous:z,providerData:B,stsTokenManager:E}=n;W(A&&E,e,"internal-error");const y=Zs.fromJSON(this.name,E);W(typeof A=="string",e,"internal-error"),Vi(g,e.name),Vi(m,e.name),W(typeof M=="boolean",e,"internal-error"),W(typeof z=="boolean",e,"internal-error"),Vi(_,e.name),Vi(R,e.name),Vi(D,e.name),Vi(C,e.name),Vi(S,e.name),Vi(T,e.name);const b=new Nn({uid:A,auth:e,email:m,emailVerified:M,displayName:g,isAnonymous:z,photoURL:R,phoneNumber:_,tenantId:D,stsTokenManager:y,createdAt:S,lastLoginAt:T});return B&&Array.isArray(B)&&(b.providerData=B.map(x=>Object.assign({},x))),C&&(b._redirectEventId=C),b}static async _fromIdTokenResponse(e,n,i=!1){const r=new Zs;r.updateFromServerResponse(n);const s=new Nn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await wc(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];W(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?g1(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Zs;l.updateFromIdToken(i);const u=new Nn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new np(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;function fi(t){Si(t instanceof Function,"Expected a class definition");let e=m_.get(t);return e?(Si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,m_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}m1.type="NONE";const y_=m1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t,e,n){return`firebase:${t}:${e}:${n}`}class ea{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Uu(this.userKey,r.apiKey,s),this.fullPersistenceKey=Uu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ac(this.auth,{idToken:e}).catch(()=>{});return n?Nn._fromGetAccountInfoResponse(this.auth,n,e):null}return Nn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ea(fi(y_),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||fi(y_);const a=Uu(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(a);if(f){let g;if(typeof f=="string"){const m=await Ac(e,{idToken:f}).catch(()=>{});if(!m)break;g=await Nn._fromGetAccountInfoResponse(e,m,f)}else g=Nn._fromJSON(e,f);c!==s&&(l=g),s=c;break}}catch{}const u=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new ea(s,e,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new ea(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E1(e))return"Blackberry";if(S1(e))return"Webos";if(v1(e))return"Safari";if((e.includes("chrome/")||_1(e))&&!e.includes("edge/"))return"Chrome";if(T1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function y1(t=Vt()){return/firefox\//i.test(t)}function v1(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _1(t=Vt()){return/crios\//i.test(t)}function b1(t=Vt()){return/iemobile/i.test(t)}function T1(t=Vt()){return/android/i.test(t)}function E1(t=Vt()){return/blackberry/i.test(t)}function S1(t=Vt()){return/webos/i.test(t)}function Ng(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XC(t=Vt()){var e;return Ng(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $C(){return uI()&&document.documentMode===10}function x1(t=Vt()){return Ng(t)||T1(t)||S1(t)||E1(t)||/windows phone/i.test(t)||b1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t,e=[]){let n;switch(t){case"Browser":n=v_(Vt());break;case"Worker":n=`${v_(Vt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(t,e={}){return Ma(t,"GET","/v2/passwordPolicy",Dg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=6;class eD{constructor(e){var n,i,r,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:ZC,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new WC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ac(this,{idToken:e}),i=await Nn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(On(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(Wr(this));const n=e?mt(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JC(this),n=new eD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await KC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&OC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hh(t){return mt(t)}class __{constructor(e){this.auth=e,this.observer=null,this.addObserver=yI(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nD(t){Mg=t}function iD(t){return Mg.loadJS(t)}function rD(){return Mg.gapiScript}function sD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t,e){const n=Ag(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(ss(s,e??{}))return r;Kn(r,"already-initialized")}return n.initialize({options:e})}function oD(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function lD(t,e,n){const i=hh(t);W(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=w1(e),{host:a,port:l}=uD(e),u=l===null?"":`:${l}`,c={url:`${s}//${a}${u}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){W(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),W(ss(c,i.config.emulator)&&ss(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,Oa(a)?(n1(`${s}//${a}${u}`),i1("Auth",!0)):cD()}function w1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uD(t){const e=w1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:b_(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:b_(a)}}}function b_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t,e){return PC(t,"POST","/v1/accounts:signInWithIdp",Dg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="http://localhost";class os extends R1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=wg(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new os(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ta(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ta(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ta(e,n)}buildRequest(){const e={requestUri:hD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends Vg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends wl{constructor(){super("facebook.com")}static credential(e){return os._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return os._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return oi.credential(n,i)}catch{return null}}}oi.GOOGLE_SIGN_IN_METHOD="google.com";oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends wl{constructor(){super("github.com")}static credential(e){return os._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends wl{constructor(){super("twitter.com")}static credential(e,n){return os._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Fi.credential(n,i)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await Nn._fromIdTokenResponse(e,i,r),a=T_(i);return new ma({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=T_(i);return new ma({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function T_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Ii{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Rc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Rc(e,n,i,r)}}function I1(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Rc._fromErrorAndOperation(t,s,e,i):s})}async function fD(t,e,n=!1){const i=await el(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ma._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e,n=!1){const{auth:i}=t;if(On(i.app))return Promise.reject(Wr(i));const r="reauthenticate";try{const s=await el(t,I1(i,r,e,t),n);W(s.idToken,i,"internal-error");const a=Og(s.idToken);W(a,i,"internal-error");const{sub:l}=a;return W(t.uid===l,i,"user-mismatch"),ma._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Kn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e,n=!1){if(On(t.app))return Promise.reject(Wr(t));const i="signIn",r=await I1(t,i,e),s=await ma._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}function gD(t,e,n,i){return mt(t).onIdTokenChanged(e,n,i)}function mD(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function yD(t,e,n,i){return mt(t).onAuthStateChanged(e,n,i)}function vD(t){return mt(t).signOut()}const Ic="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ic,"1"),this.storage.removeItem(Ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=1e3,bD=10;class D1 extends C1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);$C()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,bD):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},_D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}D1.type="LOCAL";const TD=D1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1 extends C1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}O1.type="SESSION";const N1=O1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new fh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async c=>c(n.origin,s)),u=await ED(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=kg("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const m=g;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return window}function xD(t){qn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(){return typeof qn().WorkerGlobalScope<"u"&&typeof qn().importScripts=="function"}async function AD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function RD(){return M1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="firebaseLocalStorageDb",ID=1,Cc="firebaseLocalStorage",k1="fbase_key";class Rl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dh(t,e){return t.transaction([Cc],e?"readwrite":"readonly").objectStore(Cc)}function CD(){const t=indexedDB.deleteDatabase(V1);return new Rl(t).toPromise()}function ip(){const t=indexedDB.open(V1,ID);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Cc,{keyPath:k1})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Cc)?e(i):(i.close(),await CD(),e(await ip()))})})}async function E_(t,e,n){const i=dh(t,!0).put({[k1]:e,value:n});return new Rl(i).toPromise()}async function DD(t,e){const n=dh(t,!1).get(e),i=await new Rl(n).toPromise();return i===void 0?null:i.value}function S_(t,e){const n=dh(t,!0).delete(e);return new Rl(n).toPromise()}const OD=800,ND=3;class j1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ip(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>ND)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(RD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await AD(),!this.activeServiceWorker)return;this.sender=new SD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ip();return await E_(e,Ic,"1"),await S_(e,Ic),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>E_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>DD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=dh(r,!1).getAll();return new Rl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j1.type="LOCAL";const MD=j1;new Al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t,e){return e?fi(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg extends R1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VD(t){return pD(t.auth,new jg(t),t.bypassAuthState)}function kD(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),dD(n,new jg(t),t.bypassAuthState)}async function jD(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),fD(n,new jg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VD;case"linkViaPopup":case"linkViaRedirect":return jD;case"reauthViaPopup":case"reauthViaRedirect":return kD;default:Kn(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new Al(2e3,1e4);async function UD(t,e,n){if(On(t.app))return Promise.reject(Mn(t,"operation-not-supported-in-this-environment"));const i=hh(t);NC(t,e,Vg);const r=L1(i,n);return new qr(i,"signInViaPopup",e,r).executeNotNull()}class qr extends U1{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,qr.currentPopupAction&&qr.currentPopupAction.cancel(),qr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LD.get())};e()}}qr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="pendingRedirect",Pu=new Map;class zD extends U1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Pu.get(this.auth._key());if(!e){try{const i=await BD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Pu.set(this.auth._key(),e)}return this.bypassAuthState||Pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BD(t,e){const n=FD(e),i=HD(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function qD(t,e){Pu.set(t._key(),e)}function HD(t){return fi(t._redirectPersistence)}function FD(t){return Uu(PD,t.config.apiKey,t.name)}async function GD(t,e,n=!1){if(On(t.app))return Promise.reject(Wr(t));const i=hh(t),r=L1(i,e),a=await new zD(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=10*60*1e3;class YD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!P1(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Mn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QD&&this.cachedEventUids.clear(),this.cachedEventUids.has(x_(e))}saveEventToCache(e){this.cachedEventUids.add(x_(e)),this.lastProcessedEventTime=Date.now()}}function x_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function P1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(t,e={}){return Ma(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WD=/^https?/;async function JD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XD(t);for(const n of e)try{if(ZD(n))return}catch{}Kn(t,"unauthorized-domain")}function ZD(t){const e=tp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!WD.test(n))return!1;if($D.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=new Al(3e4,6e4);function A_(){const t=qn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function t4(t){return new Promise((e,n)=>{var i,r,s;function a(){A_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A_(),n(Mn(t,"network-request-failed"))},timeout:e4.get()})}if(!((r=(i=qn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=qn().gapi)===null||s===void 0)&&s.load)a();else{const l=sD("iframefcb");return qn()[l]=()=>{gapi.load?a():n(Mn(t,"network-request-failed"))},iD(`${rD()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw zu=null,e})}let zu=null;function n4(t){return zu=zu||t4(t),zu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new Al(5e3,15e3),r4="__/auth/iframe",s4="emulator/auth/iframe",a4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l4(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cg(e,s4):`https://${t.config.authDomain}/${r4}`,i={apiKey:e.apiKey,appName:t.name,v:Na},r=o4.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${xl(i).slice(1)}`}async function u4(t){const e=await n4(t),n=qn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:l4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a4,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Mn(t,"network-request-failed"),l=qn().setTimeout(()=>{s(a)},i4.get());function u(){qn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h4=500,f4=600,d4="_blank",p4="http://localhost";class w_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g4(t,e,n,i=h4,r=f4){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},c4),{width:i.toString(),height:r.toString(),top:s,left:a}),c=Vt().toLowerCase();n&&(l=_1(c)?d4:n),y1(c)&&(e=e||p4,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[_,R])=>`${m}${_}=${R},`,"");if(XC(c)&&l!=="_self")return m4(e||"",l),new w_(null);const g=window.open(e||"",l,f);W(g,t,"popup-blocked");try{g.focus()}catch{}return new w_(g)}function m4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="__/auth/handler",v4="emulator/auth/handler",_4=encodeURIComponent("fac");async function R_(t,e,n,i,r,s){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Na,eventId:r};if(e instanceof Vg){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",mI(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries({}))a[f]=g}if(e instanceof wl){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${_4}=${encodeURIComponent(u)}`:"";return`${b4(t)}?${xl(l).slice(1)}${c}`}function b4({config:t}){return t.emulator?Cg(t,v4):`https://${t.authDomain}/${y4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="webStorageSupport";class T4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N1,this._completeRedirectFn=GD,this._overrideRedirectResult=qD}async _openPopup(e,n,i,r){var s;Si((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await R_(e,n,i,tp(),r);return g4(e,a,kg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await R_(e,n,i,tp(),r);return xD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Si(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await u4(e),i=new YD(e);return n.register("authEvent",r=>(W(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qf,{type:Qf},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Qf];a!==void 0&&n(!!a),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return x1()||v1()||Ng()}}const E4=T4;var I_="@firebase/auth",C_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A4(t){ga(new as("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;W(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A1(t)},c=new tD(i,r,s,u);return oD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ga(new as("auth-internal",e=>{const n=hh(e.getProvider("auth").getImmediate());return(i=>new S4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(I_,C_,x4(t)),ur(I_,C_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=5*60,R4=t1("authIdTokenMaxAge")||w4;let D_=null;const I4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>R4)return;const r=n==null?void 0:n.token;D_!==r&&(D_=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function C4(t=o1()){const e=Ag(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aD(t,{popupRedirectResolver:E4,persistence:[MD,TD,N1]}),i=t1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=I4(s.toString());mD(n,a,()=>a(n.currentUser)),gD(n,l=>a(l))}}const r=ZE("auth");return r&&lD(n,`http://${r}`),n}function D4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nD({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Mn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",D4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A4("Browser");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cr,z1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,y){function b(){}b.prototype=y.prototype,E.D=y.prototype,E.prototype=new b,E.prototype.constructor=E,E.C=function(x,I,O){for(var w=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)w[Je-2]=arguments[Je];return y.prototype[I].apply(x,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,y,b){b||(b=0);var x=Array(16);if(typeof y=="string")for(var I=0;16>I;++I)x[I]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(I=0;16>I;++I)x[I]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=E.g[0],b=E.g[1],I=E.g[2];var O=E.g[3],w=y+(O^b&(I^O))+x[0]+3614090360&4294967295;y=b+(w<<7&4294967295|w>>>25),w=O+(I^y&(b^I))+x[1]+3905402710&4294967295,O=y+(w<<12&4294967295|w>>>20),w=I+(b^O&(y^b))+x[2]+606105819&4294967295,I=O+(w<<17&4294967295|w>>>15),w=b+(y^I&(O^y))+x[3]+3250441966&4294967295,b=I+(w<<22&4294967295|w>>>10),w=y+(O^b&(I^O))+x[4]+4118548399&4294967295,y=b+(w<<7&4294967295|w>>>25),w=O+(I^y&(b^I))+x[5]+1200080426&4294967295,O=y+(w<<12&4294967295|w>>>20),w=I+(b^O&(y^b))+x[6]+2821735955&4294967295,I=O+(w<<17&4294967295|w>>>15),w=b+(y^I&(O^y))+x[7]+4249261313&4294967295,b=I+(w<<22&4294967295|w>>>10),w=y+(O^b&(I^O))+x[8]+1770035416&4294967295,y=b+(w<<7&4294967295|w>>>25),w=O+(I^y&(b^I))+x[9]+2336552879&4294967295,O=y+(w<<12&4294967295|w>>>20),w=I+(b^O&(y^b))+x[10]+4294925233&4294967295,I=O+(w<<17&4294967295|w>>>15),w=b+(y^I&(O^y))+x[11]+2304563134&4294967295,b=I+(w<<22&4294967295|w>>>10),w=y+(O^b&(I^O))+x[12]+1804603682&4294967295,y=b+(w<<7&4294967295|w>>>25),w=O+(I^y&(b^I))+x[13]+4254626195&4294967295,O=y+(w<<12&4294967295|w>>>20),w=I+(b^O&(y^b))+x[14]+2792965006&4294967295,I=O+(w<<17&4294967295|w>>>15),w=b+(y^I&(O^y))+x[15]+1236535329&4294967295,b=I+(w<<22&4294967295|w>>>10),w=y+(I^O&(b^I))+x[1]+4129170786&4294967295,y=b+(w<<5&4294967295|w>>>27),w=O+(b^I&(y^b))+x[6]+3225465664&4294967295,O=y+(w<<9&4294967295|w>>>23),w=I+(y^b&(O^y))+x[11]+643717713&4294967295,I=O+(w<<14&4294967295|w>>>18),w=b+(O^y&(I^O))+x[0]+3921069994&4294967295,b=I+(w<<20&4294967295|w>>>12),w=y+(I^O&(b^I))+x[5]+3593408605&4294967295,y=b+(w<<5&4294967295|w>>>27),w=O+(b^I&(y^b))+x[10]+38016083&4294967295,O=y+(w<<9&4294967295|w>>>23),w=I+(y^b&(O^y))+x[15]+3634488961&4294967295,I=O+(w<<14&4294967295|w>>>18),w=b+(O^y&(I^O))+x[4]+3889429448&4294967295,b=I+(w<<20&4294967295|w>>>12),w=y+(I^O&(b^I))+x[9]+568446438&4294967295,y=b+(w<<5&4294967295|w>>>27),w=O+(b^I&(y^b))+x[14]+3275163606&4294967295,O=y+(w<<9&4294967295|w>>>23),w=I+(y^b&(O^y))+x[3]+4107603335&4294967295,I=O+(w<<14&4294967295|w>>>18),w=b+(O^y&(I^O))+x[8]+1163531501&4294967295,b=I+(w<<20&4294967295|w>>>12),w=y+(I^O&(b^I))+x[13]+2850285829&4294967295,y=b+(w<<5&4294967295|w>>>27),w=O+(b^I&(y^b))+x[2]+4243563512&4294967295,O=y+(w<<9&4294967295|w>>>23),w=I+(y^b&(O^y))+x[7]+1735328473&4294967295,I=O+(w<<14&4294967295|w>>>18),w=b+(O^y&(I^O))+x[12]+2368359562&4294967295,b=I+(w<<20&4294967295|w>>>12),w=y+(b^I^O)+x[5]+4294588738&4294967295,y=b+(w<<4&4294967295|w>>>28),w=O+(y^b^I)+x[8]+2272392833&4294967295,O=y+(w<<11&4294967295|w>>>21),w=I+(O^y^b)+x[11]+1839030562&4294967295,I=O+(w<<16&4294967295|w>>>16),w=b+(I^O^y)+x[14]+4259657740&4294967295,b=I+(w<<23&4294967295|w>>>9),w=y+(b^I^O)+x[1]+2763975236&4294967295,y=b+(w<<4&4294967295|w>>>28),w=O+(y^b^I)+x[4]+1272893353&4294967295,O=y+(w<<11&4294967295|w>>>21),w=I+(O^y^b)+x[7]+4139469664&4294967295,I=O+(w<<16&4294967295|w>>>16),w=b+(I^O^y)+x[10]+3200236656&4294967295,b=I+(w<<23&4294967295|w>>>9),w=y+(b^I^O)+x[13]+681279174&4294967295,y=b+(w<<4&4294967295|w>>>28),w=O+(y^b^I)+x[0]+3936430074&4294967295,O=y+(w<<11&4294967295|w>>>21),w=I+(O^y^b)+x[3]+3572445317&4294967295,I=O+(w<<16&4294967295|w>>>16),w=b+(I^O^y)+x[6]+76029189&4294967295,b=I+(w<<23&4294967295|w>>>9),w=y+(b^I^O)+x[9]+3654602809&4294967295,y=b+(w<<4&4294967295|w>>>28),w=O+(y^b^I)+x[12]+3873151461&4294967295,O=y+(w<<11&4294967295|w>>>21),w=I+(O^y^b)+x[15]+530742520&4294967295,I=O+(w<<16&4294967295|w>>>16),w=b+(I^O^y)+x[2]+3299628645&4294967295,b=I+(w<<23&4294967295|w>>>9),w=y+(I^(b|~O))+x[0]+4096336452&4294967295,y=b+(w<<6&4294967295|w>>>26),w=O+(b^(y|~I))+x[7]+1126891415&4294967295,O=y+(w<<10&4294967295|w>>>22),w=I+(y^(O|~b))+x[14]+2878612391&4294967295,I=O+(w<<15&4294967295|w>>>17),w=b+(O^(I|~y))+x[5]+4237533241&4294967295,b=I+(w<<21&4294967295|w>>>11),w=y+(I^(b|~O))+x[12]+1700485571&4294967295,y=b+(w<<6&4294967295|w>>>26),w=O+(b^(y|~I))+x[3]+2399980690&4294967295,O=y+(w<<10&4294967295|w>>>22),w=I+(y^(O|~b))+x[10]+4293915773&4294967295,I=O+(w<<15&4294967295|w>>>17),w=b+(O^(I|~y))+x[1]+2240044497&4294967295,b=I+(w<<21&4294967295|w>>>11),w=y+(I^(b|~O))+x[8]+1873313359&4294967295,y=b+(w<<6&4294967295|w>>>26),w=O+(b^(y|~I))+x[15]+4264355552&4294967295,O=y+(w<<10&4294967295|w>>>22),w=I+(y^(O|~b))+x[6]+2734768916&4294967295,I=O+(w<<15&4294967295|w>>>17),w=b+(O^(I|~y))+x[13]+1309151649&4294967295,b=I+(w<<21&4294967295|w>>>11),w=y+(I^(b|~O))+x[4]+4149444226&4294967295,y=b+(w<<6&4294967295|w>>>26),w=O+(b^(y|~I))+x[11]+3174756917&4294967295,O=y+(w<<10&4294967295|w>>>22),w=I+(y^(O|~b))+x[2]+718787259&4294967295,I=O+(w<<15&4294967295|w>>>17),w=b+(O^(I|~y))+x[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+I&4294967295,E.g[3]=E.g[3]+O&4294967295}i.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var b=y-this.blockSize,x=this.B,I=this.h,O=0;O<y;){if(I==0)for(;O<=b;)r(this,E,O),O+=this.blockSize;if(typeof E=="string"){for(;O<y;)if(x[I++]=E.charCodeAt(O++),I==this.blockSize){r(this,x),I=0;break}}else for(;O<y;)if(x[I++]=E[O++],I==this.blockSize){r(this,x),I=0;break}}this.h=I,this.o+=y},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var b=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=b&255,b/=256;for(this.u(E),E=Array(16),y=b=0;4>y;++y)for(var x=0;32>x;x+=8)E[b++]=this.g[y]>>>x&255;return E};function s(E,y){var b=l;return Object.prototype.hasOwnProperty.call(b,E)?b[E]:b[E]=y(E)}function a(E,y){this.h=y;for(var b=[],x=!0,I=E.length-1;0<=I;I--){var O=E[I]|0;x&&O==y||(b[I]=O,x=!1)}this.g=b}var l={};function u(E){return-128<=E&&128>E?s(E,function(y){return new a([y|0],0>y?-1:0)}):new a([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return g;if(0>E)return C(c(-E));for(var y=[],b=1,x=0;E>=b;x++)y[x]=E/b|0,b*=4294967296;return new a(y,0)}function f(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return C(f(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(y,8)),x=g,I=0;I<E.length;I+=8){var O=Math.min(8,E.length-I),w=parseInt(E.substring(I,I+O),y);8>O?(O=c(Math.pow(y,O)),x=x.j(O).add(c(w))):(x=x.j(b),x=x.add(c(w)))}return x}var g=u(0),m=u(1),_=u(16777216);t=a.prototype,t.m=function(){if(D(this))return-C(this).m();for(var E=0,y=1,b=0;b<this.g.length;b++){var x=this.i(b);E+=(0<=x?x:4294967296+x)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(R(this))return"0";if(D(this))return"-"+C(this).toString(E);for(var y=c(Math.pow(E,6)),b=this,x="";;){var I=M(b,y).g;b=S(b,I.j(y));var O=((0<b.g.length?b.g[0]:b.h)>>>0).toString(E);if(b=I,R(b))return O+x;for(;6>O.length;)O="0"+O;x=O+x}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function R(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function D(E){return E.h==-1}t.l=function(E){return E=S(this,E),D(E)?-1:R(E)?0:1};function C(E){for(var y=E.g.length,b=[],x=0;x<y;x++)b[x]=~E.g[x];return new a(b,~E.h).add(m)}t.abs=function(){return D(this)?C(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),b=[],x=0,I=0;I<=y;I++){var O=x+(this.i(I)&65535)+(E.i(I)&65535),w=(O>>>16)+(this.i(I)>>>16)+(E.i(I)>>>16);x=w>>>16,O&=65535,w&=65535,b[I]=w<<16|O}return new a(b,b[b.length-1]&-2147483648?-1:0)};function S(E,y){return E.add(C(y))}t.j=function(E){if(R(this)||R(E))return g;if(D(this))return D(E)?C(this).j(C(E)):C(C(this).j(E));if(D(E))return C(this.j(C(E)));if(0>this.l(_)&&0>E.l(_))return c(this.m()*E.m());for(var y=this.g.length+E.g.length,b=[],x=0;x<2*y;x++)b[x]=0;for(x=0;x<this.g.length;x++)for(var I=0;I<E.g.length;I++){var O=this.i(x)>>>16,w=this.i(x)&65535,Je=E.i(I)>>>16,An=E.i(I)&65535;b[2*x+2*I]+=w*An,T(b,2*x+2*I),b[2*x+2*I+1]+=O*An,T(b,2*x+2*I+1),b[2*x+2*I+1]+=w*Je,T(b,2*x+2*I+1),b[2*x+2*I+2]+=O*Je,T(b,2*x+2*I+2)}for(x=0;x<y;x++)b[x]=b[2*x+1]<<16|b[2*x];for(x=y;x<2*y;x++)b[x]=0;return new a(b,0)};function T(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function A(E,y){this.g=E,this.h=y}function M(E,y){if(R(y))throw Error("division by zero");if(R(E))return new A(g,g);if(D(E))return y=M(C(E),y),new A(C(y.g),C(y.h));if(D(y))return y=M(E,C(y)),new A(C(y.g),y.h);if(30<E.g.length){if(D(E)||D(y))throw Error("slowDivide_ only works with positive integers.");for(var b=m,x=y;0>=x.l(E);)b=z(b),x=z(x);var I=B(b,1),O=B(x,1);for(x=B(x,2),b=B(b,2);!R(x);){var w=O.add(x);0>=w.l(E)&&(I=I.add(b),O=w),x=B(x,1),b=B(b,1)}return y=S(E,I.j(y)),new A(I,y)}for(I=g;0<=E.l(y);){for(b=Math.max(1,Math.floor(E.m()/y.m())),x=Math.ceil(Math.log(b)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),O=c(b),w=O.j(y);D(w)||0<w.l(E);)b-=x,O=c(b),w=O.j(y);R(O)&&(O=m),I=I.add(O),E=S(E,w)}return new A(I,E)}t.A=function(E){return M(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),b=[],x=0;x<y;x++)b[x]=this.i(x)&E.i(x);return new a(b,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),b=[],x=0;x<y;x++)b[x]=this.i(x)|E.i(x);return new a(b,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),b=[],x=0;x<y;x++)b[x]=this.i(x)^E.i(x);return new a(b,this.h^E.h)};function z(E){for(var y=E.g.length+1,b=[],x=0;x<y;x++)b[x]=E.i(x)<<1|E.i(x-1)>>>31;return new a(b,E.h)}function B(E,y){var b=y>>5;y%=32;for(var x=E.g.length-b,I=[],O=0;O<x;O++)I[O]=0<y?E.i(O+b)>>>y|E.i(O+b+1)<<32-y:E.i(O+b);return new a(I,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,z1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,cr=a}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B1,fo,q1,Bu,rp,H1,F1,G1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,h,d){return o==Array.prototype||o==Object.prototype||(o[h]=d.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof mu=="object"&&mu];for(var h=0;h<o.length;++h){var d=o[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function r(o,h){if(h)e:{var d=i;o=o.split(".");for(var v=0;v<o.length-1;v++){var N=o[v];if(!(N in d))break e;d=d[N]}o=o[o.length-1],v=d[o],h=h(v),h!=v&&h!=null&&e(d,o,{configurable:!0,writable:!0,value:h})}}function s(o,h){o instanceof String&&(o+="");var d=0,v=!1,N={next:function(){if(!v&&d<o.length){var V=d++;return{value:h(V,o[V]),done:!1}}return v=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}r("Array.prototype.values",function(o){return o||function(){return s(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var h=typeof o;return h=h!="object"?h:o?Array.isArray(o)?"array":h:"null",h=="array"||h=="object"&&typeof o.length=="number"}function c(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function f(o,h,d){return o.call.apply(o.bind,arguments)}function g(o,h,d){if(!o)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,v),o.apply(h,N)}}return function(){return o.apply(h,arguments)}}function m(o,h,d){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,m.apply(null,arguments)}function _(o,h){var d=Array.prototype.slice.call(arguments,1);return function(){var v=d.slice();return v.push.apply(v,arguments),o.apply(this,v)}}function R(o,h){function d(){}d.prototype=h.prototype,o.aa=h.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(v,N,V){for(var q=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)q[Ie-2]=arguments[Ie];return h.prototype[N].apply(v,q)}}function D(o){const h=o.length;if(0<h){const d=Array(h);for(let v=0;v<h;v++)d[v]=o[v];return d}return[]}function C(o,h){for(let d=1;d<arguments.length;d++){const v=arguments[d];if(u(v)){const N=o.length||0,V=v.length||0;o.length=N+V;for(let q=0;q<V;q++)o[N+q]=v[q]}else o.push(v)}}class S{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function T(o){return/^[\s\xa0]*$/.test(o)}function A(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function M(o){return M[" "](o),o}M[" "]=function(){};var z=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function B(o,h,d){for(const v in o)h.call(d,o[v],v,o)}function E(o,h){for(const d in o)h.call(void 0,o[d],d,o)}function y(o){const h={};for(const d in o)h[d]=o[d];return h}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(o,h){let d,v;for(let N=1;N<arguments.length;N++){v=arguments[N];for(d in v)o[d]=v[d];for(let V=0;V<b.length;V++)d=b[V],Object.prototype.hasOwnProperty.call(v,d)&&(o[d]=v[d])}}function I(o){var h=1;o=o.split(":");const d=[];for(;0<h&&o.length;)d.push(o.shift()),h--;return o.length&&d.push(o.join(":")),d}function O(o){l.setTimeout(()=>{throw o},0)}function w(){var o=Re;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class Je{constructor(){this.h=this.g=null}add(h,d){const v=An.get();v.set(h,d),this.h?this.h.next=v:this.g=v,this.h=v}}var An=new S(()=>new G,o=>o.reset());class G{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,J=!1,Re=new Je,ze=()=>{const o=l.Promise.resolve(void 0);Z=()=>{o.then(Bt)}};var Bt=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(d){O(d)}var h=An;h.j(o),100>h.h&&(h.h++,o.next=h.g,h.g=o)}J=!1};function kt(){this.s=this.s,this.C=this.C}kt.prototype.s=!1,kt.prototype.ma=function(){this.s||(this.s=!0,this.N())},kt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function qe(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}qe.prototype.h=function(){this.defaultPrevented=!0};var fn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};l.addEventListener("test",d,h),l.removeEventListener("test",d,h)}catch{}return o}();function Wt(o,h){if(qe.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,v=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget){if(z){e:{try{M(h.nodeName);var N=!0;break e}catch{}N=!1}N||(h=null)}}else d=="mouseover"?h=o.fromElement:d=="mouseout"&&(h=o.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Vl[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Wt.aa.h.call(this)}}R(Wt,qe);var Vl={2:"touch",3:"pen",4:"mouse"};Wt.prototype.h=function(){Wt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Dr="closure_listenable_"+(1e6*Math.random()|0),P=0;function ae(o,h,d,v,N){this.listener=o,this.proxy=null,this.src=h,this.type=d,this.capture=!!v,this.ha=N,this.key=++P,this.da=this.fa=!1}function Ye(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ot(o){this.src=o,this.g={},this.h=0}ot.prototype.add=function(o,h,d,v,N){var V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);var q=lt(o,h,v,N);return-1<q?(h=o[q],d||(h.fa=!1)):(h=new ae(h,this.src,V,!!v,N),h.fa=d,o.push(h)),h};function ue(o,h){var d=h.type;if(d in o.g){var v=o.g[d],N=Array.prototype.indexOf.call(v,h,void 0),V;(V=0<=N)&&Array.prototype.splice.call(v,N,1),V&&(Ye(h),o.g[d].length==0&&(delete o.g[d],o.h--))}}function lt(o,h,d,v){for(var N=0;N<o.length;++N){var V=o[N];if(!V.da&&V.listener==h&&V.capture==!!d&&V.ha==v)return N}return-1}var vt="closure_lm_"+(1e6*Math.random()|0),wn={};function Or(o,h,d,v,N){if(Array.isArray(h)){for(var V=0;V<h.length;V++)Or(o,h[V],d,v,N);return null}return d=xm(d),o&&o[Dr]?o.K(h,d,c(v)?!!v.capture:!1,N):kl(o,h,d,!1,v,N)}function kl(o,h,d,v,N,V){if(!h)throw Error("Invalid event type");var q=c(N)?!!N.capture:!!N,Ie=Lh(o);if(Ie||(o[vt]=Ie=new ot(o)),d=Ie.add(h,d,v,q,V),d.proxy)return d;if(v=jl(),d.proxy=v,v.src=o,v.listener=d,o.addEventListener)fn||(N=q),N===void 0&&(N=!1),o.addEventListener(h.toString(),v,N);else if(o.attachEvent)o.attachEvent(Sm(h.toString()),v);else if(o.addListener&&o.removeListener)o.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return d}function jl(){function o(d){return h.call(o.src,o.listener,d)}const h=Tx;return o}function za(o,h,d,v,N){if(Array.isArray(h))for(var V=0;V<h.length;V++)za(o,h[V],d,v,N);else v=c(v)?!!v.capture:!!v,d=xm(d),o&&o[Dr]?(o=o.i,h=String(h).toString(),h in o.g&&(V=o.g[h],d=lt(V,d,v,N),-1<d&&(Ye(V[d]),Array.prototype.splice.call(V,d,1),V.length==0&&(delete o.g[h],o.h--)))):o&&(o=Lh(o))&&(h=o.g[h.toString()],o=-1,h&&(o=lt(h,d,v,N)),(d=-1<o?h[o]:null)&&bs(d))}function bs(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[Dr])ue(h.i,o);else{var d=o.type,v=o.proxy;h.removeEventListener?h.removeEventListener(d,v,o.capture):h.detachEvent?h.detachEvent(Sm(d),v):h.addListener&&h.removeListener&&h.removeListener(v),(d=Lh(h))?(ue(d,o),d.h==0&&(d.src=null,h[vt]=null)):Ye(o)}}}function Sm(o){return o in wn?wn[o]:wn[o]="on"+o}function Tx(o,h){if(o.da)o=!0;else{h=new Wt(h,this);var d=o.listener,v=o.ha||o.src;o.fa&&bs(o),o=d.call(v,h)}return o}function Lh(o){return o=o[vt],o instanceof ot?o:null}var Uh="__closure_events_fn_"+(1e9*Math.random()>>>0);function xm(o){return typeof o=="function"?o:(o[Uh]||(o[Uh]=function(h){return o.handleEvent(h)}),o[Uh])}function It(){kt.call(this),this.i=new ot(this),this.M=this,this.F=null}R(It,kt),It.prototype[Dr]=!0,It.prototype.removeEventListener=function(o,h,d,v){za(this,o,h,d,v)};function jt(o,h){var d,v=o.F;if(v)for(d=[];v;v=v.F)d.push(v);if(o=o.M,v=h.type||h,typeof h=="string")h=new qe(h,o);else if(h instanceof qe)h.target=h.target||o;else{var N=h;h=new qe(v,o),x(h,N)}if(N=!0,d)for(var V=d.length-1;0<=V;V--){var q=h.g=d[V];N=Ll(q,v,!0,h)&&N}if(q=h.g=o,N=Ll(q,v,!0,h)&&N,N=Ll(q,v,!1,h)&&N,d)for(V=0;V<d.length;V++)q=h.g=d[V],N=Ll(q,v,!1,h)&&N}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var o=this.i,h;for(h in o.g){for(var d=o.g[h],v=0;v<d.length;v++)Ye(d[v]);delete o.g[h],o.h--}}this.F=null},It.prototype.K=function(o,h,d,v){return this.i.add(String(o),h,!1,d,v)},It.prototype.L=function(o,h,d,v){return this.i.add(String(o),h,!0,d,v)};function Ll(o,h,d,v){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();for(var N=!0,V=0;V<h.length;++V){var q=h[V];if(q&&!q.da&&q.capture==d){var Ie=q.listener,_t=q.ha||q.src;q.fa&&ue(o.i,q),N=Ie.call(_t,v)!==!1&&N}}return N&&!v.defaultPrevented}function Am(o,h,d){if(typeof o=="function")d&&(o=m(o,d));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(o,h||0)}function wm(o){o.g=Am(()=>{o.g=null,o.i&&(o.i=!1,wm(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class Ex extends kt{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:wm(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ba(o){kt.call(this),this.h=o,this.g={}}R(Ba,kt);var Rm=[];function Im(o){B(o.g,function(h,d){this.g.hasOwnProperty(d)&&bs(h)},o),o.g={}}Ba.prototype.N=function(){Ba.aa.N.call(this),Im(this)},Ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ph=l.JSON.stringify,Sx=l.JSON.parse,xx=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function zh(){}zh.prototype.h=null;function Cm(o){return o.h||(o.h=o.i())}function Dm(){}var qa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bh(){qe.call(this,"d")}R(Bh,qe);function qh(){qe.call(this,"c")}R(qh,qe);var Nr={},Om=null;function Ul(){return Om=Om||new It}Nr.La="serverreachability";function Nm(o){qe.call(this,Nr.La,o)}R(Nm,qe);function Ha(o){const h=Ul();jt(h,new Nm(h))}Nr.STAT_EVENT="statevent";function Mm(o,h){qe.call(this,Nr.STAT_EVENT,o),this.stat=h}R(Mm,qe);function Lt(o){const h=Ul();jt(h,new Mm(h,o))}Nr.Ma="timingevent";function Vm(o,h){qe.call(this,Nr.Ma,o),this.size=h}R(Vm,qe);function Fa(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},h)}function Ga(){this.g=!0}Ga.prototype.xa=function(){this.g=!1};function Ax(o,h,d,v,N,V){o.info(function(){if(o.g)if(V)for(var q="",Ie=V.split("&"),_t=0;_t<Ie.length;_t++){var me=Ie[_t].split("=");if(1<me.length){var Ct=me[0];me=me[1];var Dt=Ct.split("_");q=2<=Dt.length&&Dt[1]=="type"?q+(Ct+"="+me+"&"):q+(Ct+"=redacted&")}}else q=null;else q=V;return"XMLHTTP REQ ("+v+") [attempt "+N+"]: "+h+`
`+d+`
`+q})}function wx(o,h,d,v,N,V,q){o.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+N+"]: "+h+`
`+d+`
`+V+" "+q})}function Ts(o,h,d,v){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+Ix(o,d)+(v?" "+v:"")})}function Rx(o,h){o.info(function(){return"TIMEOUT: "+h})}Ga.prototype.info=function(){};function Ix(o,h){if(!o.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var v=d[o];if(!(2>v.length)){var N=v[1];if(Array.isArray(N)&&!(1>N.length)){var V=N[0];if(V!="noop"&&V!="stop"&&V!="close")for(var q=1;q<N.length;q++)N[q]=""}}}}return Ph(d)}catch{return h}}var Pl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},km={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hh;function zl(){}R(zl,zh),zl.prototype.g=function(){return new XMLHttpRequest},zl.prototype.i=function(){return{}},Hh=new zl;function Di(o,h,d,v){this.j=o,this.i=h,this.l=d,this.R=v||1,this.U=new Ba(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jm}function jm(){this.i=null,this.g="",this.h=!1}var Lm={},Fh={};function Gh(o,h,d){o.L=1,o.v=Fl(Jn(h)),o.m=d,o.P=!0,Um(o,null)}function Um(o,h){o.F=Date.now(),Bl(o),o.A=Jn(o.v);var d=o.A,v=o.R;Array.isArray(v)||(v=[String(v)]),Jm(d.i,"t",v),o.C=0,d=o.j.J,o.h=new jm,o.g=my(o.j,d?h:null,!o.m),0<o.O&&(o.M=new Ex(m(o.Y,o,o.g),o.O)),h=o.U,d=o.g,v=o.ca;var N="readystatechange";Array.isArray(N)||(N&&(Rm[0]=N.toString()),N=Rm);for(var V=0;V<N.length;V++){var q=Or(d,N[V],v||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,h)):(o.u="GET",o.g.ea(o.A,o.u,null,h)),Ha(),Ax(o.i,o.u,o.A,o.l,o.R,o.m)}Di.prototype.ca=function(o){o=o.target;const h=this.M;h&&Zn(o)==3?h.j():this.Y(o)},Di.prototype.Y=function(o){try{if(o==this.g)e:{const Dt=Zn(this.g);var h=this.g.Ba();const xs=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||sy(this.g)))){this.J||Dt!=4||h==7||(h==8||0>=xs?Ha(3):Ha(2)),Qh(this);var d=this.g.Z();this.X=d;t:if(Pm(this)){var v=sy(this.g);o="";var N=v.length,V=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mr(this),Qa(this);var q="";break t}this.h.i=new l.TextDecoder}for(h=0;h<N;h++)this.h.h=!0,o+=this.h.i.decode(v[h],{stream:!(V&&h==N-1)});v.length=0,this.h.g+=o,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=d==200,wx(this.i,this.u,this.A,this.l,this.R,Dt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,_t=this.g;if((Ie=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(Ie)){var me=Ie;break t}}me=null}if(d=me)Ts(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yh(this,d);else{this.o=!1,this.s=3,Lt(12),Mr(this),Qa(this);break e}}if(this.P){d=!0;let Rn;for(;!this.J&&this.C<q.length;)if(Rn=Cx(this,q),Rn==Fh){Dt==4&&(this.s=4,Lt(14),d=!1),Ts(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Lm){this.s=4,Lt(15),Ts(this.i,this.l,q,"[Invalid Chunk]"),d=!1;break}else Ts(this.i,this.l,Rn,null),Yh(this,Rn);if(Pm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||q.length!=0||this.h.h||(this.s=1,Lt(16),d=!1),this.o=this.o&&d,!d)Ts(this.i,this.l,q,"[Invalid Chunked Response]"),Mr(this),Qa(this);else if(0<q.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Zh(Ct),Ct.M=!0,Lt(11))}}else Ts(this.i,this.l,q,null),Yh(this,q);Dt==4&&Mr(this),this.o&&!this.J&&(Dt==4?fy(this.j,this):(this.o=!1,Bl(this)))}else Qx(this.g),d==400&&0<q.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),Mr(this),Qa(this)}}}catch{}finally{}};function Pm(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Cx(o,h){var d=o.C,v=h.indexOf(`
`,d);return v==-1?Fh:(d=Number(h.substring(d,v)),isNaN(d)?Lm:(v+=1,v+d>h.length?Fh:(h=h.slice(v,v+d),o.C=v+d,h)))}Di.prototype.cancel=function(){this.J=!0,Mr(this)};function Bl(o){o.S=Date.now()+o.I,zm(o,o.I)}function zm(o,h){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Fa(m(o.ba,o),h)}function Qh(o){o.B&&(l.clearTimeout(o.B),o.B=null)}Di.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Rx(this.i,this.A),this.L!=2&&(Ha(),Lt(17)),Mr(this),this.s=2,Qa(this)):zm(this,this.S-o)};function Qa(o){o.j.G==0||o.J||fy(o.j,o)}function Mr(o){Qh(o);var h=o.M;h&&typeof h.ma=="function"&&h.ma(),o.M=null,Im(o.U),o.g&&(h=o.g,o.g=null,h.abort(),h.ma())}function Yh(o,h){try{var d=o.j;if(d.G!=0&&(d.g==o||Kh(d.h,o))){if(!o.K&&Kh(d.h,o)&&d.G==3){try{var v=d.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var N=v;if(N[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)$l(d),Kl(d);else break e;Jh(d),Lt(18)}}else d.za=N[1],0<d.za-d.T&&37500>N[2]&&d.F&&d.v==0&&!d.C&&(d.C=Fa(m(d.Za,d),6e3));if(1>=Hm(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else kr(d,11)}else if((o.K||d.g==o)&&$l(d),!T(h))for(N=d.Da.g.parse(h),h=0;h<N.length;h++){let me=N[h];if(d.T=me[0],me=me[1],d.G==2)if(me[0]=="c"){d.K=me[1],d.ia=me[2];const Ct=me[3];Ct!=null&&(d.la=Ct,d.j.info("VER="+d.la));const Dt=me[4];Dt!=null&&(d.Aa=Dt,d.j.info("SVER="+d.Aa));const xs=me[5];xs!=null&&typeof xs=="number"&&0<xs&&(v=1.5*xs,d.L=v,d.j.info("backChannelRequestTimeoutMs_="+v)),v=d;const Rn=o.g;if(Rn){const Jl=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jl){var V=v.h;V.g||Jl.indexOf("spdy")==-1&&Jl.indexOf("quic")==-1&&Jl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Xh(V,V.h),V.h=null))}if(v.D){const ef=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;ef&&(v.ya=ef,Me(v.I,v.D,ef))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),v=d;var q=o;if(v.qa=gy(v,v.J?v.ia:null,v.W),q.K){Fm(v.h,q);var Ie=q,_t=v.L;_t&&(Ie.I=_t),Ie.B&&(Qh(Ie),Bl(Ie)),v.g=q}else cy(v);0<d.i.length&&Xl(d)}else me[0]!="stop"&&me[0]!="close"||kr(d,7);else d.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?kr(d,7):Wh(d):me[0]!="noop"&&d.l&&d.l.ta(me),d.v=0)}}Ha(4)}catch{}}var Dx=class{constructor(o,h){this.g=o,this.map=h}};function Bm(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qm(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Hm(o){return o.h?1:o.g?o.g.size:0}function Kh(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function Xh(o,h){o.g?o.g.add(h):o.h=h}function Fm(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}Bm.prototype.cancel=function(){if(this.i=Gm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Gm(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const d of o.g.values())h=h.concat(d.D);return h}return D(o.i)}function Ox(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var h=[],d=o.length,v=0;v<d;v++)h.push(o[v]);return h}h=[],d=0;for(v in o)h[d++]=o[v];return h}function Nx(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var h=[];o=o.length;for(var d=0;d<o;d++)h.push(d);return h}h=[],d=0;for(const v in o)h[d++]=v;return h}}}function Qm(o,h){if(o.forEach&&typeof o.forEach=="function")o.forEach(h,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,h,void 0);else for(var d=Nx(o),v=Ox(o),N=v.length,V=0;V<N;V++)h.call(void 0,v[V],d&&d[V],o)}var Ym=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mx(o,h){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var v=o[d].indexOf("="),N=null;if(0<=v){var V=o[d].substring(0,v);N=o[d].substring(v+1)}else V=o[d];h(V,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Vr(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Vr){this.h=o.h,ql(this,o.j),this.o=o.o,this.g=o.g,Hl(this,o.s),this.l=o.l;var h=o.i,d=new Xa;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),Km(this,d),this.m=o.m}else o&&(h=String(o).match(Ym))?(this.h=!1,ql(this,h[1]||"",!0),this.o=Ya(h[2]||""),this.g=Ya(h[3]||"",!0),Hl(this,h[4]),this.l=Ya(h[5]||"",!0),Km(this,h[6]||"",!0),this.m=Ya(h[7]||"")):(this.h=!1,this.i=new Xa(null,this.h))}Vr.prototype.toString=function(){var o=[],h=this.j;h&&o.push(Ka(h,Xm,!0),":");var d=this.g;return(d||h=="file")&&(o.push("//"),(h=this.o)&&o.push(Ka(h,Xm,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(Ka(d,d.charAt(0)=="/"?jx:kx,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",Ka(d,Ux)),o.join("")};function Jn(o){return new Vr(o)}function ql(o,h,d){o.j=d?Ya(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function Hl(o,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);o.s=h}else o.s=null}function Km(o,h,d){h instanceof Xa?(o.i=h,Px(o.i,o.h)):(d||(h=Ka(h,Lx)),o.i=new Xa(h,o.h))}function Me(o,h,d){o.i.set(h,d)}function Fl(o){return Me(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Ya(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ka(o,h,d){return typeof o=="string"?(o=encodeURI(o).replace(h,Vx),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Vx(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Xm=/[#\/\?@]/g,kx=/[#\?:]/g,jx=/[#\?]/g,Lx=/[#\?@]/g,Ux=/#/g;function Xa(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function Oi(o){o.g||(o.g=new Map,o.h=0,o.i&&Mx(o.i,function(h,d){o.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=Xa.prototype,t.add=function(o,h){Oi(this),this.i=null,o=Es(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(h),this.h+=1,this};function $m(o,h){Oi(o),h=Es(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function Wm(o,h){return Oi(o),h=Es(o,h),o.g.has(h)}t.forEach=function(o,h){Oi(this),this.g.forEach(function(d,v){d.forEach(function(N){o.call(h,N,v,this)},this)},this)},t.na=function(){Oi(this);const o=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let v=0;v<h.length;v++){const N=o[v];for(let V=0;V<N.length;V++)d.push(h[v])}return d},t.V=function(o){Oi(this);let h=[];if(typeof o=="string")Wm(this,o)&&(h=h.concat(this.g.get(Es(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)h=h.concat(o[d])}return h},t.set=function(o,h){return Oi(this),this.i=null,o=Es(this,o),Wm(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=this.V(o),0<o.length?String(o[0]):h):h};function Jm(o,h,d){$m(o,h),0<d.length&&(o.i=null,o.g.set(Es(o,h),D(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var v=h[d];const V=encodeURIComponent(String(v)),q=this.V(v);for(v=0;v<q.length;v++){var N=V;q[v]!==""&&(N+="="+encodeURIComponent(String(q[v]))),o.push(N)}}return this.i=o.join("&")};function Es(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function Px(o,h){h&&!o.j&&(Oi(o),o.i=null,o.g.forEach(function(d,v){var N=v.toLowerCase();v!=N&&($m(this,v),Jm(this,N,d))},o)),o.j=h}function zx(o,h){const d=new Ga;if(l.Image){const v=new Image;v.onload=_(Ni,d,"TestLoadImage: loaded",!0,h,v),v.onerror=_(Ni,d,"TestLoadImage: error",!1,h,v),v.onabort=_(Ni,d,"TestLoadImage: abort",!1,h,v),v.ontimeout=_(Ni,d,"TestLoadImage: timeout",!1,h,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=o}else h(!1)}function Bx(o,h){const d=new Ga,v=new AbortController,N=setTimeout(()=>{v.abort(),Ni(d,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:v.signal}).then(V=>{clearTimeout(N),V.ok?Ni(d,"TestPingServer: ok",!0,h):Ni(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(N),Ni(d,"TestPingServer: error",!1,h)})}function Ni(o,h,d,v,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),v(d)}catch{}}function qx(){this.g=new xx}function Hx(o,h,d){const v=d||"";try{Qm(o,function(N,V){let q=N;c(N)&&(q=Ph(N)),h.push(v+V+"="+encodeURIComponent(q))})}catch(N){throw h.push(v+"type="+encodeURIComponent("_badmap")),N}}function Gl(o){this.l=o.Ub||null,this.j=o.eb||!1}R(Gl,zh),Gl.prototype.g=function(){return new Ql(this.l,this.j)},Gl.prototype.i=function(o){return function(){return o}}({});function Ql(o,h){It.call(this),this.D=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Ql,It),t=Ql.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=h,this.readyState=1,Wa(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(h.body=o),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$a(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Wa(this)),this.g&&(this.readyState=3,Wa(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zm(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zm(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?$a(this):Wa(this),this.readyState==3&&Zm(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,$a(this))},t.Qa=function(o){this.g&&(this.response=o,$a(this))},t.ga=function(){this.g&&$a(this)};function $a(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Wa(o)}t.setRequestHeader=function(o,h){this.u.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=h.next();return o.join(`\r
`)};function Wa(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function ey(o){let h="";return B(o,function(d,v){h+=v,h+=":",h+=d,h+=`\r
`}),h}function $h(o,h,d){e:{for(v in d){var v=!1;break e}v=!0}v||(d=ey(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):Me(o,h,d))}function Fe(o){It.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Fe,It);var Fx=/^https?$/i,Gx=["POST","PUT"];t=Fe.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,h,d,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hh.g(),this.v=this.o?Cm(this.o):Cm(Hh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(V){ty(this,V);return}if(o=d||"",d=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var N in v)d.set(N,v[N]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const V of v.keys())d.set(V,v.get(V));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(d.keys()).find(V=>V.toLowerCase()=="content-type"),N=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Gx,h,void 0))||v||N||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,q]of d)this.g.setRequestHeader(V,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ry(this),this.u=!0,this.g.send(o),this.u=!1}catch(V){ty(this,V)}};function ty(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.m=5,ny(o),Yl(o)}function ny(o){o.A||(o.A=!0,jt(o,"complete"),jt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,jt(this,"complete"),jt(this,"abort"),Yl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yl(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iy(this):this.bb())},t.bb=function(){iy(this)};function iy(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Zn(o)!=4||o.Z()!=2)){if(o.u&&Zn(o)==4)Am(o.Ea,0,o);else if(jt(o,"readystatechange"),Zn(o)==4){o.h=!1;try{const q=o.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var v;if(v=q===0){var N=String(o.D).match(Ym)[1]||null;!N&&l.self&&l.self.location&&(N=l.self.location.protocol.slice(0,-1)),v=!Fx.test(N?N.toLowerCase():"")}d=v}if(d)jt(o,"complete"),jt(o,"success");else{o.m=6;try{var V=2<Zn(o)?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.Z()+"]",ny(o)}}finally{Yl(o)}}}}function Yl(o,h){if(o.g){ry(o);const d=o.g,v=o.v[0]?()=>{}:null;o.g=null,o.v=null,h||jt(o,"ready");try{d.onreadystatechange=v}catch{}}}function ry(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function Zn(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),Sx(h)}};function sy(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Qx(o){const h={};o=(o.g&&2<=Zn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<o.length;v++){if(T(o[v]))continue;var d=I(o[v]);const N=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const V=h[N]||[];h[N]=V,V.push(d)}E(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ja(o,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||h}function ay(o){this.Aa=0,this.i=[],this.j=new Ga,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ja("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ja("baseRetryDelayMs",5e3,o),this.cb=Ja("retryDelaySeedMs",1e4,o),this.Wa=Ja("forwardChannelMaxRetries",2,o),this.wa=Ja("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Bm(o&&o.concurrentRequestLimit),this.Da=new qx,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ay.prototype,t.la=8,t.G=1,t.connect=function(o,h,d,v){Lt(0),this.W=o,this.H=h||{},d&&v!==void 0&&(this.H.OSID=d,this.H.OAID=v),this.F=this.X,this.I=gy(this,null,this.W),Xl(this)};function Wh(o){if(oy(o),o.G==3){var h=o.U++,d=Jn(o.I);if(Me(d,"SID",o.K),Me(d,"RID",h),Me(d,"TYPE","terminate"),Za(o,d),h=new Di(o,o.j,h),h.L=2,h.v=Fl(Jn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=h.v,d=!0),d||(h.g=my(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Bl(h)}py(o)}function Kl(o){o.g&&(Zh(o),o.g.cancel(),o.g=null)}function oy(o){Kl(o),o.u&&(l.clearTimeout(o.u),o.u=null),$l(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Xl(o){if(!qm(o.h)&&!o.s){o.s=!0;var h=o.Ga;Z||ze(),J||(Z(),J=!0),Re.add(h,o),o.B=0}}function Yx(o,h){return Hm(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=h.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Fa(m(o.Ga,o,h),dy(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const N=new Di(this,this.j,o);let V=this.o;if(this.S&&(V?(V=y(V),x(V,this.S)):V=this.S),this.m!==null||this.O||(N.H=V,V=null),this.P)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var v=this.i[d];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=uy(this,N,h),d=Jn(this.I),Me(d,"RID",o),Me(d,"CVER",22),this.D&&Me(d,"X-HTTP-Session-Id",this.D),Za(this,d),V&&(this.O?h="headers="+encodeURIComponent(String(ey(V)))+"&"+h:this.m&&$h(d,this.m,V)),Xh(this.h,N),this.Ua&&Me(d,"TYPE","init"),this.P?(Me(d,"$req",h),Me(d,"SID","null"),N.T=!0,Gh(N,d,null)):Gh(N,d,h),this.G=2}}else this.G==3&&(o?ly(this,o):this.i.length==0||qm(this.h)||ly(this))};function ly(o,h){var d;h?d=h.l:d=o.U++;const v=Jn(o.I);Me(v,"SID",o.K),Me(v,"RID",d),Me(v,"AID",o.T),Za(o,v),o.m&&o.o&&$h(v,o.m,o.o),d=new Di(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),h&&(o.i=h.D.concat(o.i)),h=uy(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Xh(o.h,d),Gh(d,v,h)}function Za(o,h){o.H&&B(o.H,function(d,v){Me(h,v,d)}),o.l&&Qm({},function(d,v){Me(h,v,d)})}function uy(o,h,d){d=Math.min(o.i.length,d);var v=o.l?m(o.l.Na,o.l,o):null;e:{var N=o.i;let V=-1;for(;;){const q=["count="+d];V==-1?0<d?(V=N[0].g,q.push("ofs="+V)):V=0:q.push("ofs="+V);let Ie=!0;for(let _t=0;_t<d;_t++){let me=N[_t].g;const Ct=N[_t].map;if(me-=V,0>me)V=Math.max(0,N[_t].g-100),Ie=!1;else try{Hx(Ct,q,"req"+me+"_")}catch{v&&v(Ct)}}if(Ie){v=q.join("&");break e}}}return o=o.i.splice(0,d),h.D=o,v}function cy(o){if(!o.g&&!o.u){o.Y=1;var h=o.Fa;Z||ze(),J||(Z(),J=!0),Re.add(h,o),o.v=0}}function Jh(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Fa(m(o.Fa,o),dy(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,hy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Fa(m(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Kl(this),hy(this))};function Zh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function hy(o){o.g=new Di(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var h=Jn(o.qa);Me(h,"RID","rpc"),Me(h,"SID",o.K),Me(h,"AID",o.T),Me(h,"CI",o.F?"0":"1"),!o.F&&o.ja&&Me(h,"TO",o.ja),Me(h,"TYPE","xmlhttp"),Za(o,h),o.m&&o.o&&$h(h,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=Fl(Jn(h)),d.m=null,d.P=!0,Um(d,o)}t.Za=function(){this.C!=null&&(this.C=null,Kl(this),Jh(this),Lt(19))};function $l(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function fy(o,h){var d=null;if(o.g==h){$l(o),Zh(o),o.g=null;var v=2}else if(Kh(o.h,h))d=h.D,Fm(o.h,h),v=1;else return;if(o.G!=0){if(h.o)if(v==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var N=o.B;v=Ul(),jt(v,new Vm(v,d)),Xl(o)}else cy(o);else if(N=h.s,N==3||N==0&&0<h.X||!(v==1&&Yx(o,h)||v==2&&Jh(o)))switch(d&&0<d.length&&(h=o.h,h.i=h.i.concat(d)),N){case 1:kr(o,5);break;case 4:kr(o,10);break;case 3:kr(o,6);break;default:kr(o,2)}}}function dy(o,h){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*h}function kr(o,h){if(o.j.info("Error code "+h),h==2){var d=m(o.fb,o),v=o.Xa;const N=!v;v=new Vr(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ql(v,"https"),Fl(v),N?zx(v.toString(),d):Bx(v.toString(),d)}else Lt(2);o.G=0,o.l&&o.l.sa(h),py(o),oy(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function py(o){if(o.G=0,o.ka=[],o.l){const h=Gm(o.h);(h.length!=0||o.i.length!=0)&&(C(o.ka,h),C(o.ka,o.i),o.h.i.length=0,D(o.i),o.i.length=0),o.l.ra()}}function gy(o,h,d){var v=d instanceof Vr?Jn(d):new Vr(d);if(v.g!="")h&&(v.g=h+"."+v.g),Hl(v,v.s);else{var N=l.location;v=N.protocol,h=h?h+"."+N.hostname:N.hostname,N=+N.port;var V=new Vr(null);v&&ql(V,v),h&&(V.g=h),N&&Hl(V,N),d&&(V.l=d),v=V}return d=o.D,h=o.ya,d&&h&&Me(v,d,h),Me(v,"VER",o.la),Za(o,v),v}function my(o,h,d){if(h&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Ca&&!o.pa?new Fe(new Gl({eb:d})):new Fe(o.pa),h.Ha(o.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yy(){}t=yy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wl(){}Wl.prototype.g=function(o,h){return new Jt(o,h)};function Jt(o,h){It.call(this),this.g=new ay(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(o?o["X-WebChannel-Client-Profile"]=h.va:o={"X-WebChannel-Client-Profile":h.va}),this.g.S=o,(o=h&&h.Sb)&&!T(o)&&(this.g.m=o),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!T(h)&&(this.g.D=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new Ss(this)}R(Jt,It),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Wh(this.g)},Jt.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=Ph(o),o=d);h.i.push(new Dx(h.Ya++,o)),h.G==3&&Xl(h)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Wh(this.g),delete this.g,Jt.aa.N.call(this)};function vy(o){Bh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(const d in h){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}R(vy,Bh);function _y(){qh.call(this),this.status=1}R(_y,qh);function Ss(o){this.g=o}R(Ss,yy),Ss.prototype.ua=function(){jt(this.g,"a")},Ss.prototype.ta=function(o){jt(this.g,new vy(o))},Ss.prototype.sa=function(o){jt(this.g,new _y)},Ss.prototype.ra=function(){jt(this.g,"b")},Wl.prototype.createWebChannel=Wl.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,G1=function(){return new Wl},F1=function(){return Ul()},H1=Nr,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pl.NO_ERROR=0,Pl.TIMEOUT=8,Pl.HTTP_ERROR=6,Bu=Pl,km.COMPLETE="complete",q1=km,Dm.EventType=qa,qa.OPEN="a",qa.CLOSE="b",qa.ERROR="c",qa.MESSAGE="d",It.prototype.listen=It.prototype.K,fo=Dm,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,B1=Fe}).apply(typeof mu<"u"?mu:typeof self<"u"?self:typeof window<"u"?window:{});const N_="@firebase/firestore",M_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Sg("@firebase/firestore");function Ds(){return ls.logLevel}function Q(t,...e){if(ls.logLevel<=he.DEBUG){const n=e.map(Lg);ls.debug(`Firestore (${Va}): ${t}`,...n)}}function xi(t,...e){if(ls.logLevel<=he.ERROR){const n=e.map(Lg);ls.error(`Firestore (${Va}): ${t}`,...n)}}function mr(t,...e){if(ls.logLevel<=he.WARN){const n=e.map(Lg);ls.warn(`Firestore (${Va}): ${t}`,...n)}}function Lg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Q1(t,i,n)}function Q1(t,e,n){let i=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw xi(i),new Error(i)}function be(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||Q1(e,r,i)}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends Ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class N4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class M4{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){be(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mi,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(be(typeof i.accessToken=="string",31837,{l:i}),new Y1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string",2055,{h:e}),new Nt(e)}}class V4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new V4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){be(this.o===void 0,3512);const i=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new V_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=L4(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function se(t,e){return t<e?-1:t>e?1:0}function sp(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),r=e.codePointAt(n);if(i!==r){if(i<128&&r<128)return se(i,r);{const s=K1(),a=U4(s.encode(k_(t,n)),s.encode(k_(e,n)));return a!==0?a:se(i,r)}}n+=i>65535?2:1}return se(t.length,e.length)}function k_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function U4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return se(t[n],e[n]);return se(t.length,e.length)}function ya(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="__name__";class Ln{constructor(e,n,i){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&X(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ln.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ln?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=Ln.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return se(e.length,n.length)}static compareSegments(e,n){const i=Ln.isNumericId(e),r=Ln.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?Ln.extractNumericId(e).compare(Ln.extractNumericId(n)):sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class Oe extends Ln{construct(e,n,i){return new Oe(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new F(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const P4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends Ln{construct(e,n,i){return new xt(e,n,i)}static isValidIdentifier(e){return P4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new xt([j_])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new F(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new F(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new F(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(Oe.fromString(e))}static fromName(e){return new K(Oe.fromString(e).popFirst(5))}static empty(){return new K(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new Oe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t,e,n){if(!n)throw new F(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function z4(t,e,n,i){if(e===!0&&i===!0)throw new F(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L_(t){if(!K.isDocumentKey(t))throw new F(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function U_(t){if(K.isDocumentKey(t))throw new F(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ph(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function Vn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ph(t);throw new F(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t,e){const n={typeString:t};return e&&(n.value=e),n}function Il(t,e){if(!$1(t))throw new F(j.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new F(j.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=-62135596800,z_=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*z_);return new Le(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<P_)throw new F(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Il(e,Le._jsonSchema))return new Le(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Le._jsonSchemaVersion="firestore/timestamp/1.0",Le._jsonSchema={type:st("string",Le._jsonSchemaVersion),seconds:st("number"),nanoseconds:st("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Le(0,0))}static max(){return new ee(new Le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=-1;function B4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ee.fromTimestamp(i===1e9?new Le(n+1,0):new Le(n,i));return new yr(r,K.empty(),e)}function q4(t){return new yr(t.readTime,t.key,tl)}class yr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new yr(ee.min(),K.empty(),tl)}static max(){return new yr(ee.max(),K.empty(),tl)}}function H4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==F4)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,i)=>{n(e)})}static reject(e){return new U((n,i)=>{i(e)})}static waitFor(e){return new U((n,i)=>{let r=0,s=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(e){let n=U.resolve(!1);for(const i of e)n=n.next(r=>r?U.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new U((i,r)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{a[c]=f,++l,l===s&&i(a)},f=>r(f))}})}static doWhile(e,n){return new U((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function Q4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ja(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}gh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg=-1;function mh(t){return t==null}function Dc(t){return t===0&&1/t==-1/0}function Y4(t){return typeof t=="number"&&Number.isInteger(t)&&!Dc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="";function K4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=B_(e)),e=X4(t.get(n),e);return B_(e)}function X4(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case W1:n+="";break;default:n+=s}}return n}function B_(t){return t+W1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ir(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function J1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yu(this.root,e,this.comparator,!0)}}class yu{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??Tt.RED,this.left=r??Tt.EMPTY,this.right=s??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new Tt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Tt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new Tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(e){return new H_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class H_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new rn([])}unionWith(e){let n=new ct(xt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Z1("Invalid base64 string: "+s):s}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const $4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(t){if(be(!!t,39018),typeof t=="string"){let e=0;const n=$4.exec(t);if(be(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _r(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="server_timestamp",tS="__type__",nS="__previous_value__",iS="__local_write_time__";function zg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[tS])===null||n===void 0?void 0:n.stringValue)===eS}function yh(t){const e=t.mapValue.fields[nS];return zg(e)?yh(e):e}function nl(t){const e=vr(t.mapValue.fields[iS].timestampValue);return new Le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n,i,r,s,a,l,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f}}const Oc="(default)";class il{constructor(e,n){this.projectId=e,this.database=n||Oc}static empty(){return new il("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(e){return e instanceof il&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="__type__",J4="__max__",vu={mapValue:{}},sS="__vector__",Nc="value";function br(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zg(t)?4:eO(t)?9007199254740991:Z4(t)?10:11:X(28295,{value:t})}function Xn(t,e){if(t===e)return!0;const n=br(t);if(n!==br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nl(t).isEqual(nl(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=vr(r.timestampValue),l=vr(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return _r(r.bytesValue).isEqual(_r(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ke(r.geoPointValue.latitude)===Ke(s.geoPointValue.latitude)&&Ke(r.geoPointValue.longitude)===Ke(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ke(r.integerValue)===Ke(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Ke(r.doubleValue),l=Ke(s.doubleValue);return a===l?Dc(a)===Dc(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return ya(t.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(q_(a)!==q_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Xn(a[u],l[u])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function rl(t,e){return(t.values||[]).find(n=>Xn(n,e))!==void 0}function va(t,e){if(t===e)return 0;const n=br(t),i=br(e);if(n!==i)return se(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Ke(s.integerValue||s.doubleValue),u=Ke(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return F_(t.timestampValue,e.timestampValue);case 4:return F_(nl(t),nl(e));case 5:return sp(t.stringValue,e.stringValue);case 6:return function(s,a){const l=_r(s),u=_r(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=se(l[c],u[c]);if(f!==0)return f}return se(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=se(Ke(s.latitude),Ke(a.latitude));return l!==0?l:se(Ke(s.longitude),Ke(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return G_(t.arrayValue,e.arrayValue);case 10:return function(s,a){var l,u,c,f;const g=s.fields||{},m=a.fields||{},_=(l=g[Nc])===null||l===void 0?void 0:l.arrayValue,R=(u=m[Nc])===null||u===void 0?void 0:u.arrayValue,D=se(((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0,((f=R==null?void 0:R.values)===null||f===void 0?void 0:f.length)||0);return D!==0?D:G_(_,R)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===vu.mapValue&&a===vu.mapValue)return 0;if(s===vu.mapValue)return 1;if(a===vu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=a.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const m=sp(u[g],f[g]);if(m!==0)return m;const _=va(l[u[g]],c[f[g]]);if(_!==0)return _}return se(u.length,f.length)}(t.mapValue,e.mapValue);default:throw X(23264,{le:n})}}function F_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=vr(t),i=vr(e),r=se(n.seconds,i.seconds);return r!==0?r:se(n.nanos,i.nanos)}function G_(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=va(n[r],i[r]);if(s)return s}return se(n.length,i.length)}function _a(t){return ap(t)}function ap(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=vr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _r(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=ap(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${ap(n.fields[a])}`;return r+"}"}(t.mapValue):X(61005,{value:t})}function qu(t){switch(br(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(t);return e?16+qu(e):16;case 5:return 2*t.stringValue.length;case 6:return _r(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+qu(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return Ir(i.fields,(s,a)=>{r+=s.length+qu(a)}),r}(t.mapValue);default:throw X(13486,{value:t})}}function Q_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function op(t){return!!t&&"integerValue"in t}function Bg(t){return!!t&&"arrayValue"in t}function Y_(t){return!!t&&"nullValue"in t}function K_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hu(t){return!!t&&"mapValue"in t}function Z4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[rS])===null||n===void 0?void 0:n.stringValue)===sS}function Mo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ir(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Mo(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===J4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Hu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mo(n)}setAll(e){let n=xt.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=Mo(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Hu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Hu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Ir(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Yt(Mo(this.value))}}function aS(t){const e=[];return Ir(t.fields,(n,i)=>{const r=new xt([n]);if(Hu(i)){const s=aS(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,i,r,s,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Mt(e,0,ee.min(),ee.min(),ee.min(),Yt.empty(),0)}static newFoundDocument(e,n,i,r){return new Mt(e,1,n,ee.min(),i,r,0)}static newNoDocument(e,n){return new Mt(e,2,n,ee.min(),ee.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,ee.min(),ee.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.position=e,this.inclusive=n}}function X_(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=K.comparator(K.fromName(a.referenceValue),n.key):i=va(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function $_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n="asc"){this.field=e,this.dir=n}}function tO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{}class it extends oS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new iO(e,n,i):n==="array-contains"?new aO(e,i):n==="in"?new oO(e,i):n==="not-in"?new lO(e,i):n==="array-contains-any"?new uO(e,i):new it(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new rO(e,i):new sO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(va(n,this.value)):n!==null&&br(this.value)===br(n)&&this.matchesComparison(va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends oS{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new kn(e,n)}matches(e){return lS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function lS(t){return t.op==="and"}function uS(t){return nO(t)&&lS(t)}function nO(t){for(const e of t.filters)if(e instanceof kn)return!1;return!0}function lp(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+_a(t.value);if(uS(t))return t.filters.map(e=>lp(e)).join(",");{const e=t.filters.map(n=>lp(n)).join(",");return`${t.op}(${e})`}}function cS(t,e){return t instanceof it?function(i,r){return r instanceof it&&i.op===r.op&&i.field.isEqual(r.field)&&Xn(i.value,r.value)}(t,e):t instanceof kn?function(i,r){return r instanceof kn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&cS(a,r.filters[l]),!0):!1}(t,e):void X(19439)}function hS(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${_a(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(hS).join(" ,")+"}"}(t):"Filter"}class iO extends it{constructor(e,n,i){super(e,n,i),this.key=K.fromName(i.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class rO extends it{constructor(e,n){super(e,"in",n),this.keys=fS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sO extends it{constructor(e,n){super(e,"not-in",n),this.keys=fS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>K.fromName(i.referenceValue))}class aO extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bg(n)&&rl(n.arrayValue,this.value)}}class oO extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rl(this.value.arrayValue,n)}}class lO extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rl(this.value.arrayValue,n)}}class uO extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>rl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n=null,i=[],r=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Pe=null}}function W_(t,e=null,n=[],i=[],r=null,s=null,a=null){return new cO(t,e,n,i,r,s,a)}function qg(t){const e=te(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>lp(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>_a(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>_a(i)).join(",")),e.Pe=n}return e.Pe}function Hg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$_(t.startAt,e.startAt)&&$_(t.endAt,e.endAt)}function up(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function hO(t,e,n,i,r,s,a,l){return new La(t,e,n,i,r,s,a,l)}function vh(t){return new La(t)}function J_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dS(t){return t.collectionGroup!==null}function Vo(t){const e=te(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ct(xt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new sl(s,i))}),n.has(xt.keyField().canonicalString())||e.Te.push(new sl(xt.keyField(),i))}return e.Te}function Hn(t){const e=te(t);return e.Ie||(e.Ie=fO(e,Vo(t))),e.Ie}function fO(t,e){if(t.limitType==="F")return W_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new sl(r.field,s)});const n=t.endAt?new Mc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Mc(t.startAt.position,t.startAt.inclusive):null;return W_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function cp(t,e){const n=t.filters.concat([e]);return new La(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vc(t,e,n){return new La(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _h(t,e){return Hg(Hn(t),Hn(e))&&t.limitType===e.limitType}function pS(t){return`${qg(Hn(t))}|lt:${t.limitType}`}function Os(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>hS(r)).join(", ")}]`),mh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>_a(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>_a(r)).join(",")),`Target(${i})`}(Hn(t))}; limitType=${t.limitType})`}function bh(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):K.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of Vo(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,u){const c=X_(a,l,u);return a.inclusive?c<=0:c<0}(i.startAt,Vo(i),r)||i.endAt&&!function(a,l,u){const c=X_(a,l,u);return a.inclusive?c>=0:c>0}(i.endAt,Vo(i),r))}(t,e)}function dO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gS(t){return(e,n)=>{let i=!1;for(const r of Vo(t)){const s=pO(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function pO(t,e,n){const i=t.field.isKeyField()?K.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),c=l.data.field(s);return u!==null&&c!==null?va(u,c):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ir(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return J1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new He(K.comparator);function Ai(){return gO}const mS=new He(K.comparator);function po(...t){let e=mS;for(const n of t)e=e.insert(n.key,n);return e}function yS(t){let e=mS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Hr(){return ko()}function vS(){return ko()}function ko(){return new ys(t=>t.toString(),(t,e)=>t.isEqual(e))}const mO=new He(K.comparator),yO=new ct(K.comparator);function fe(...t){let e=yO;for(const n of t)e=e.add(n);return e}const vO=new ct(se);function _O(){return vO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(e)?"-0":e}}function _S(t){return{integerValue:""+t}}function bO(t,e){return Y4(e)?_S(e):Fg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function TO(t,e,n){return t instanceof al?function(r,s){const a={fields:{[tS]:{stringValue:eS},[iS]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&zg(s)&&(s=yh(s)),s&&(a.fields[nS]=s),{mapValue:a}}(n,e):t instanceof ol?TS(t,e):t instanceof ll?ES(t,e):function(r,s){const a=bS(r,s),l=Z_(a)+Z_(r.Ee);return op(a)&&op(r.Ee)?_S(l):Fg(r.serializer,l)}(t,e)}function EO(t,e,n){return t instanceof ol?TS(t,e):t instanceof ll?ES(t,e):n}function bS(t,e){return t instanceof kc?function(i){return op(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class al extends Th{}class ol extends Th{constructor(e){super(),this.elements=e}}function TS(t,e){const n=SS(e);for(const i of t.elements)n.some(r=>Xn(r,i))||n.push(i);return{arrayValue:{values:n}}}class ll extends Th{constructor(e){super(),this.elements=e}}function ES(t,e){let n=SS(e);for(const i of t.elements)n=n.filter(r=>!Xn(r,i));return{arrayValue:{values:n}}}class kc extends Th{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Z_(t){return Ke(t.integerValue||t.doubleValue)}function SS(t){return Bg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n){this.field=e,this.transform=n}}function xO(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof ol&&r instanceof ol||i instanceof ll&&r instanceof ll?ya(i.elements,r.elements,Xn):i instanceof kc&&r instanceof kc?Xn(i.Ee,r.Ee):i instanceof al&&r instanceof al}(t.transform,e.transform)}class AO{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Eh{}function xS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wS(t.key,Fn.none()):new Cl(t.key,t.data,Fn.none());{const n=t.data,i=Yt.empty();let r=new ct(xt.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Cr(t.key,i,new rn(r.toArray()),Fn.none())}}function wO(t,e,n){t instanceof Cl?function(r,s,a){const l=r.value.clone(),u=t0(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Cr?function(r,s,a){if(!Fu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=t0(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(AS(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function jo(t,e,n,i){return t instanceof Cl?function(s,a,l,u){if(!Fu(s.precondition,a))return l;const c=s.value.clone(),f=n0(s.fieldTransforms,u,a);return c.setAll(f),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Cr?function(s,a,l,u){if(!Fu(s.precondition,a))return l;const c=n0(s.fieldTransforms,u,a),f=a.data;return f.setAll(AS(s)),f.setAll(c),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,i):function(s,a,l){return Fu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function RO(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=bS(i.transform,r||null);s!=null&&(n===null&&(n=Yt.empty()),n.set(i.field,s))}return n||null}function e0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ya(i,r,(s,a)=>xO(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cl extends Eh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Cr extends Eh{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function t0(t,e,n){const i=new Map;be(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,l=e.data.field(s.field);i.set(s.field,EO(a,l,n[r]))}return i}function n0(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,TO(s,a,e))}return i}class wS extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IO extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&wO(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=jo(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=jo(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=vS();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=xS(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(ee.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,(n,i)=>e0(n,i))&&ya(this.baseMutations,e.baseMutations,(n,i)=>e0(n,i))}}class Gg{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){be(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let r=function(){return mO}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Gg(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,ge;function NO(t){switch(t){case j.OK:return X(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function RS(t){if(t===void 0)return xi("GRPC error has no .code"),j.UNKNOWN;switch(t){case Ze.OK:return j.OK;case Ze.CANCELLED:return j.CANCELLED;case Ze.UNKNOWN:return j.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return j.INTERNAL;case Ze.UNAVAILABLE:return j.UNAVAILABLE;case Ze.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Ze.NOT_FOUND:return j.NOT_FOUND;case Ze.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Ze.ABORTED:return j.ABORTED;case Ze.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Ze.DATA_LOSS:return j.DATA_LOSS;default:return X(39323,{code:t})}}(ge=Ze||(Ze={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=new cr([4294967295,4294967295],0);function i0(t){const e=K1().encode(t),n=new z1;return n.update(e),new Uint8Array(n.digest())}function r0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cr([n,i],0),new cr([r,s],0)]}class Qg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new go(`Invalid padding: ${n}`);if(i<0)throw new go(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new go(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new go(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=cr.fromNumber(this.fe)}pe(e,n,i){let r=e.add(n.multiply(cr.fromNumber(i)));return r.compare(MO)===1&&(r=new cr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=i0(e),[i,r]=r0(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);if(!this.ye(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Qg(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.fe===0)return;const n=i0(e),[i,r]=r0(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);this.we(a)}}we(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Dl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Sh(ee.min(),r,new He(se),Ai(),fe())}}class Dl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Dl(i,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n,i,r){this.Se=e,this.removedTargetIds=n,this.key=i,this.be=r}}class IS{constructor(e,n){this.targetId=e,this.De=n}}class CS{constructor(e,n,i=Rt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class s0{constructor(){this.ve=0,this.Ce=a0(),this.Fe=Rt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=fe(),n=fe(),i=fe();return this.Ce.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:X(38017,{changeType:s})}}),new Dl(this.Fe,this.Me,e,n,i)}ke(){this.xe=!1,this.Ce=a0()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,be(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class VO{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ai(),this.je=_u(),this.Je=_u(),this.He=new He(se)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const i=this.tt(n);switch(e.state){case 0:this.nt(n)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((i,r)=>{this.nt(r)&&n(r)})}it(e){const n=e.targetId,i=e.De.count,r=this.st(n);if(r){const s=r.target;if(up(s))if(i===0){const a=new K(s.path);this.Xe(n,a,Mt.newNoDocument(a,ee.min()))}else be(i===1,20013,{expectedCount:i});else{const a=this.ot(n);if(a!==i){const l=this._t(e),u=l?this.ut(l,e,a):1;if(u!==0){this.rt(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=_r(i).toUint8Array()}catch(u){if(u instanceof Z1)return mr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Qg(a,r,s)}catch(u){return mr(u instanceof go?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.fe===0?null:l}ut(e,n,i){return n.De.count===i-this.ht(e,n.targetId)?0:2}ht(e,n){const i=this.We.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.We.lt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,s,null),r++)}),r}Pt(e){const n=new Map;this.Ge.forEach((s,a)=>{const l=this.st(a);if(l){if(s.current&&up(l.target)){const u=new K(l.target.path);this.Tt(u).has(a)||this.It(a,u)||this.Xe(a,u,Mt.newNoDocument(u,e))}s.Ne&&(n.set(a,s.Le()),s.ke())}});let i=fe();this.Je.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.st(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.ze.forEach((s,a)=>a.setReadTime(e));const r=new Sh(e,n,this.He,this.ze,i);return this.ze=Ai(),this.je=_u(),this.Je=_u(),this.He=new He(se),r}Ze(e,n){if(!this.nt(e))return;const i=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,i){if(!this.nt(e))return;const r=this.tt(e);this.It(e,n)?r.qe(n,1):r.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new s0,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new ct(se),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new ct(se),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new s0),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function _u(){return new He(K.comparator)}function a0(){return new He(K.comparator)}const kO={asc:"ASCENDING",desc:"DESCENDING"},jO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LO={and:"AND",or:"OR"};class UO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hp(t,e){return t.useProto3Json||mh(e)?e:{value:e}}function jc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PO(t,e){return jc(t,e.toTimestamp())}function Gn(t){return be(!!t,49232),ee.fromTimestamp(function(n){const i=vr(n);return new Le(i.seconds,i.nanos)}(t))}function Yg(t,e){return fp(t,e).canonicalString()}function fp(t,e){const n=function(r){return new Oe(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OS(t){const e=Oe.fromString(t);return be(jS(e),10190,{key:e.toString()}),e}function dp(t,e){return Yg(t.databaseId,e.path)}function Yf(t,e){const n=OS(e);if(n.get(1)!==t.databaseId.projectId)throw new F(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(MS(n))}function NS(t,e){return Yg(t.databaseId,e)}function zO(t){const e=OS(t);return e.length===4?Oe.emptyPath():MS(e)}function pp(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MS(t){return be(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function o0(t,e,n){return{name:dp(t,e),fields:n.value.mapValue.fields}}function BO(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(be(f===void 0||typeof f=="string",58123),Rt.fromBase64String(f||"")):(be(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Rt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(c){const f=c.code===void 0?j.UNKNOWN:RS(c.code);return new F(f,c.message||"")}(a);n=new CS(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Yf(t,i.document.name),s=Gn(i.document.updateTime),a=i.document.createTime?Gn(i.document.createTime):ee.min(),l=new Yt({mapValue:{fields:i.document.fields}}),u=Mt.newFoundDocument(r,s,a,l),c=i.targetIds||[],f=i.removedTargetIds||[];n=new Gu(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Yf(t,i.document),s=i.readTime?Gn(i.readTime):ee.min(),a=Mt.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Gu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Yf(t,i.document),s=i.removedTargetIds||[];n=new Gu([],s,r,null)}else{if(!("filter"in e))return X(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new OO(r,s),l=i.targetId;n=new IS(l,a)}}return n}function qO(t,e){let n;if(e instanceof Cl)n={update:o0(t,e.key,e.value)};else if(e instanceof wS)n={delete:dp(t,e.key)};else if(e instanceof Cr)n={update:o0(t,e.key,e.data),updateMask:WO(e.fieldMask)};else{if(!(e instanceof IO))return X(16599,{Rt:e.type});n={verify:dp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof al)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ol)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ll)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof kc)return{fieldPath:a.field.canonicalString(),increment:l.Ee};throw X(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:PO(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X(27497)}(t,e.precondition)),n}function HO(t,e){return t&&t.length>0?(be(e!==void 0,14353),t.map(n=>function(r,s){let a=r.updateTime?Gn(r.updateTime):Gn(s);return a.isEqual(ee.min())&&(a=Gn(s)),new AO(a,r.transformResults||[])}(n,e))):[]}function FO(t,e){return{documents:[NS(t,e.path)]}}function GO(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=NS(t,r);const s=function(c){if(c.length!==0)return kS(kn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:Ns(m.field),direction:KO(m.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=hp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:r}}function QO(t){let e=zO(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){be(i===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){const m=VS(g);return m instanceof kn&&uS(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(R){return new sl(Ms(R.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(g){let m;return m=typeof g=="object"?g.value:g,mh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,_=g.values||[];return new Mc(_,m)}(n.startAt));let c=null;return n.endAt&&(c=function(g){const m=!g.before,_=g.values||[];return new Mc(_,m)}(n.endAt)),hO(e,r,a,s,l,"F",u,c)}function YO(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ms(n.unaryFilter.field);return it.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ms(n.unaryFilter.field);return it.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ms(n.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ms(n.unaryFilter.field);return it.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return it.create(Ms(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(i=>VS(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function KO(t){return kO[t]}function XO(t){return jO[t]}function $O(t){return LO[t]}function Ns(t){return{fieldPath:t.canonicalString()}}function Ms(t){return xt.fromServerFormat(t.fieldPath)}function kS(t){return t instanceof it?function(n){if(n.op==="=="){if(K_(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NAN"}};if(Y_(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K_(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NAN"}};if(Y_(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(n.field),op:XO(n.op),value:n.value}}}(t):t instanceof kn?function(n){const i=n.getFilters().map(r=>kS(r));return i.length===1?i[0]:{compositeFilter:{op:$O(n.op),filters:i}}}(t):X(54877,{filter:t})}function WO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,i,r,s=ee.min(),a=ee.min(),l=Rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.gt=e}}function ZO(t){const e=QO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.Dn=new tN}addToCollectionParentIndex(e,n){return this.Dn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(yr.min())}updateCollectionGroup(e,n,i){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class tN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new ct(Oe.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ct(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LS=41943040;class Qt{static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(LS,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ba(0)}static ur(){return new ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="LruGarbageCollector",nN=1048576;function c0([t,e],[n,i]){const r=se(t,n);return r===0?se(e,i):r}class iN{constructor(e){this.Tr=e,this.buffer=new ct(c0),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();c0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Q(u0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ja(n)?Q(u0,"Ignoring IndexedDB error during garbage collection: ",n):await ka(n)}await this.Rr(3e5)})}}class sN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return U.resolve(gh.ue);const i=new iN(n);return this.Vr.forEachTarget(e,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(e,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(l0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l0):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let i,r,s,a,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(e,r))).next(g=>(i=g,l=Date.now(),this.removeTargets(e,i,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(g=>(c=Date.now(),Ds()<=he.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function aN(t,e){return new sN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.changes=new ys(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&jo(i.mutation,r,rn.empty(),Le.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,fe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=fe()){const r=Hr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=po();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Hr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,fe()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let s=Ai();const a=ko(),l=function(){return ko()}();return n.forEach((u,c)=>{const f=i.get(c.key);r.has(c.key)&&(f===void 0||f.mutation instanceof Cr)?s=s.insert(c.key,c):f!==void 0?(a.set(c.key,f.mutation.getFieldMask()),jo(f.mutation,c,f.mutation.getFieldMask(),Le.now())):a.set(c.key,rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>a.set(c,f)),n.forEach((c,f)=>{var g;return l.set(c,new lN(f,(g=a.get(c))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const i=ko();let r=new He((a,l)=>a-l),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=i.get(u)||rn.empty();f=l.applyToLocalView(c,f),i.set(u,f);const g=(r.get(l.batchId)||fe()).add(u);r=r.insert(l.batchId,g)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,g=vS();f.forEach(m=>{if(!s.has(m)){const _=xS(n.get(m),i.get(m));_!==null&&g.set(m,_),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,g))}return U.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return K.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):U.resolve(Hr());let l=tl,u=s;return a.next(c=>U.forEach(c,(f,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(f)?U.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,fe())).next(f=>({batchId:l,changes:yS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(i=>{let r=po();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let a=po();return this.indexManager.getCollectionParents(e,s).next(l=>U.forEach(l,u=>{const c=function(g,m){return new La(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(f=>{f.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(a=>{s.forEach((u,c)=>{const f=c.getKey();a.get(f)===null&&(a=a.insert(f,Mt.newInvalidDocument(f)))});let l=po();return a.forEach((u,c)=>{const f=s.get(u);f!==void 0&&jo(f.mutation,c,rn.empty(),Le.now()),bh(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return U.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Gn(r.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(r){return{name:r.name,query:ZO(r.bundledQuery),readTime:Gn(r.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.overlays=new He(K.comparator),this.kr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Hr();return U.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.wt(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(i)),U.resolve()}getOverlaysForCollection(e,n,i){const r=Hr(),s=n.length+1,a=new K(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return U.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new He((c,f)=>c-f);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=s.get(c.largestBatchId);f===null&&(f=Hr(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Hr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=r)););return U.resolve(l)}wt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new DO(n,i));let s=this.kr.get(n);s===void 0&&(s=fe(),this.kr.set(n,s)),this.kr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this.qr=new ct(ft.Qr),this.$r=new ct(ft.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const i=new ft(e,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new ft(e,n))}Gr(e,n){e.forEach(i=>this.removeReference(i,n))}zr(e){const n=new K(new Oe([])),i=new ft(n,e),r=new ft(n,e+1),s=[];return this.$r.forEachInRange([i,r],a=>{this.Wr(a),s.push(a.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new K(new Oe([])),i=new ft(n,e),r=new ft(n,e+1);let s=fe();return this.$r.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new ft(e,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class ft{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return K.comparator(e.key,n.key)||se(e.Hr,n.Hr)}static Ur(e,n){return se(e.Hr,n.Hr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new ct(ft.Qr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new CO(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Yr=this.Yr.add(new ft(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,n){return U.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Xr(i),s=r<0?0:r;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Pg:this.er-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ft(n,0),r=new ft(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([i,r],a=>{const l=this.Zr(a.Hr);s.push(l)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ct(se);return n.forEach(r=>{const s=new ft(r,0),a=new ft(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],l=>{i=i.add(l.Hr)})}),U.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;K.isDocumentKey(s)||(s=s.child(""));const a=new ft(new K(s),0);let l=new ct(se);return this.Yr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(l=l.add(u.Hr)),!0)},a),U.resolve(this.ei(l))}ei(e){const n=[];return e.forEach(i=>{const r=this.Zr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){be(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return U.forEach(n.mutations,r=>{const s=new ft(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,n){const i=new ft(n,0),r=this.Yr.firstAfterOrEqual(i);return U.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.ni=e,this.docs=function(){return new He(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let i=Ai();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Mt.newInvalidDocument(r))}),U.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Ai();const a=n.path,l=new K(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||H4(q4(f),i)<=0||(r.has(f.key)||bh(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,i,r){X(9500)}ri(e,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new gN(this)}getSize(e){return U.resolve(this.size)}}class gN extends oN{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Or.addEntry(e,r)):this.Or.removeEntry(i)}),U.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.persistence=e,this.ii=new ys(n=>qg(n),Hg),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.si=0,this.oi=new Kg,this.targetCount=0,this._i=ba.ar()}forEachTarget(e,n){return this.ii.forEach((i,r)=>n(r)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),U.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new ba(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.hr(n),U.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.ii.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),U.waitFor(s).next(()=>r)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const i=this.ii.get(n)||null;return U.resolve(i)}addMatchingKeys(e,n,i){return this.oi.Kr(n,i),U.resolve()}removeMatchingKeys(e,n,i){this.oi.Gr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const i=this.oi.Jr(n);return U.resolve(i)}containsKey(e,n){return U.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n){this.ai={},this.overlays={},this.ui=new gh(0),this.ci=!1,this.ci=!0,this.li=new fN,this.referenceDelegate=e(this),this.hi=new mN(this),this.indexManager=new eN,this.remoteDocumentCache=function(r){return new pN(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new JO(n),this.Ti=new cN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ai[e.toKey()];return i||(i=new dN(n,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,i){Q("MemoryPersistence","Starting transaction:",e);const r=new yN(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ei(e,n){return U.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,n)))}}class yN extends G4{constructor(e){super(),this.currentSequenceNumber=e}}class Xg{constructor(e){this.persistence=e,this.Ai=new Kg,this.Ri=null}static Vi(e){return new Xg(e)}get mi(){if(this.Ri)return this.Ri;throw X(60996)}addReference(e,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),U.resolve()}removeReference(e,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(r=>this.mi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.mi.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.mi,i=>{const r=K.fromPath(i);return this.fi(e,r).next(s=>{s||n.removeEntry(r,ee.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return U.or([()=>U.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Lc{constructor(e,n){this.persistence=e,this.gi=new ys(i=>K4(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=aN(this,n)}static Vi(e,n){return new Lc(e,n)}Ii(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}yr(e){let n=0;return this.gr(e,i=>{n++}).next(()=>n)}gr(e,n){return U.forEach(this.gi,(i,r)=>this.Sr(e,i,r).next(s=>s?U.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ri(e,a=>this.Sr(e,a,n).next(l=>{l||(i++,s.removeEntry(a,ee.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),U.resolve()}removeReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),U.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qu(e.data.value)),n}Sr(e,n,i){return U.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.gi.get(n);return U.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Is=i,this.ds=r}static Es(e,n){let i=fe(),r=fe();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new $g(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return cI()?8:Q4(Vt())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ps(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ys(e,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new vN;return this.ws(e,n,a).next(l=>{if(s.result=l,this.Rs)return this.Ss(e,n,a,l.size)})}).next(()=>s.result)}Ss(e,n,i,r){return i.documentReadCount<this.Vs?(Ds()<=he.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Os(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(Ds()<=he.DEBUG&&Q("QueryEngine","Query:",Os(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(Ds()<=he.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Os(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):U.resolve())}ps(e,n){if(J_(n))return U.resolve(null);let i=Hn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Vc(n,null,"F"),i=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=fe(...s);return this.gs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const c=this.bs(n,l);return this.Ds(n,c,a,u.readTime)?this.ps(e,Vc(n,null,"F")):this.vs(e,c,n,u)}))})))}ys(e,n,i,r){return J_(n)||r.isEqual(ee.min())?U.resolve(null):this.gs.getDocuments(e,i).next(s=>{const a=this.bs(n,s);return this.Ds(n,a,i,r)?U.resolve(null):(Ds()<=he.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Os(n)),this.vs(e,a,n,B4(r,tl)).next(l=>l))})}bs(e,n){let i=new ct(gS(e));return n.forEach((r,s)=>{bh(e,s)&&(i=i.add(s))}),i}Ds(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ws(e,n,i){return Ds()<=he.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Os(n)),this.gs.getDocumentsMatchingQuery(e,n,yr.min(),i)}vs(e,n,i,r){return this.gs.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="LocalStore",bN=3e8;class TN{constructor(e,n,i,r){this.persistence=e,this.Cs=n,this.serializer=r,this.Fs=new He(se),this.Ms=new ys(s=>qg(s),Hg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function EN(t,e,n,i){return new TN(t,e,n,i)}async function PS(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=fe();for(const c of r){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Bs:c,removedBatchIds:a,addedBatchIds:l}))})})}function SN(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const g=c.batch,m=g.keys();let _=U.resolve();return m.forEach(R=>{_=_.next(()=>f.getEntry(u,R)).next(D=>{const C=c.docVersions.get(R);be(C!==null,48541),D.version.compareTo(C)<0&&(g.applyToRemoteDocument(D,c),D.isValidDocument()&&(D.setReadTime(c.commitVersion),f.addEntry(D)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=fe();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function zS(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function xN(t,e){const n=te(t),i=e.snapshotVersion;let r=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Os.newChangeBuffer({trackRemovals:!0});r=n.Fs;const l=[];e.targetChanges.forEach((f,g)=>{const m=r.get(g);if(!m)return;l.push(n.hi.removeMatchingKeys(s,f.removedDocuments,g).next(()=>n.hi.addMatchingKeys(s,f.addedDocuments,g)));let _=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(Rt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,i)),r=r.insert(g,_),function(D,C,S){return D.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=bN?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,_,f)&&l.push(n.hi.updateTargetData(s,_))});let u=Ai(),c=fe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(AN(s,a,e.documentUpdates).next(f=>{u=f.Ls,c=f.ks})),!i.isEqual(ee.min())){const f=n.hi.getLastRemoteSnapshotVersion(s).next(g=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return U.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Fs=r,s))}function AN(t,e,n){let i=fe(),r=fe();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=Ai();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):Q(Wg,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ls:a,ks:r}})}function wN(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Pg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function RN(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.hi.getTargetData(i,e).next(s=>s?(r=s,U.resolve(r)):n.hi.allocateTargetId(i).next(a=>(r=new Wi(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(e,i.targetId)),i})}async function gp(t,e,n){const i=te(t),r=i.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!ja(a))throw a;Q(Wg,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(r.target)}function h0(t,e,n){const i=te(t);let r=ee.min(),s=fe();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,f){const g=te(u),m=g.Ms.get(f);return m!==void 0?U.resolve(g.Fs.get(m)):g.hi.getTargetData(c,f)}(i,a,Hn(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,n?r:ee.min(),n?s:fe())).next(l=>(IN(i,dO(e),l),{documents:l,qs:s})))}function IN(t,e,n){let i=t.xs.get(e)||ee.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.xs.set(e,i)}class f0{constructor(){this.activeTargetIds=_O()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CN{constructor(){this.Fo=new f0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,i){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new f0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="ConnectivityMonitor";class p0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Q(d0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Q(d0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu=null;function mp(){return bu===null?bu=function(){return 268435456+Math.round(2147483648*Math.random())}():bu++,"0x"+bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="RestConnection",ON={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NN{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===Oc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,n,i,r,s){const a=mp(),l=this.Go(e,n.toUriEncodedString());Q(Kf,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,r,s);const{host:c}=new URL(l),f=Oa(c);return this.jo(e,l,u,i,f).then(g=>(Q(Kf,`Received RPC '${e}' ${a}: `,g),g),g=>{throw mr(Kf,`RPC '${e}' ${a} failed with error: `,g,"url: ",l,"request:",i),g})}Jo(e,n,i,r,s,a){return this.Wo(e,n,i,r,s)}zo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Va}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}Go(e,n){const i=ON[e];return`${this.$o}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class VN extends NN{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,i,r,s){const a=mp();return new Promise((l,u)=>{const c=new B1;c.setWithCredentials(!0),c.listenOnce(q1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Bu.NO_ERROR:const g=c.getResponseJson();Q(Ot,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Bu.TIMEOUT:Q(Ot,`RPC '${e}' ${a} timed out`),u(new F(j.DEADLINE_EXCEEDED,"Request time out"));break;case Bu.HTTP_ERROR:const m=c.getStatus();if(Q(Ot,`RPC '${e}' ${a} failed with status:`,m,"response text:",c.getResponseText()),m>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const R=_==null?void 0:_.error;if(R&&R.status&&R.message){const D=function(S){const T=S.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(T)>=0?T:j.UNKNOWN}(R.status);u(new F(D,R.message))}else u(new F(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new F(j.UNAVAILABLE,"Connection failed."));break;default:X(9055,{c_:e,streamId:a,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{Q(Ot,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(r);Q(Ot,`RPC '${e}' ${a} sending request:`,r),c.send(n,"POST",f,i,15)})}P_(e,n,i){const r=mp(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=G1(),l=F1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const f=s.join("");Q(Ot,`Creating RPC '${e}' stream ${r}: ${f}`,u);const g=a.createWebChannel(f,u);this.T_(g);let m=!1,_=!1;const R=new MN({Ho:C=>{_?Q(Ot,`Not sending because RPC '${e}' stream ${r} is closed:`,C):(m||(Q(Ot,`Opening RPC '${e}' stream ${r} transport.`),g.open(),m=!0),Q(Ot,`RPC '${e}' stream ${r} sending:`,C),g.send(C))},Yo:()=>g.close()}),D=(C,S,T)=>{C.listen(S,A=>{try{T(A)}catch(M){setTimeout(()=>{throw M},0)}})};return D(g,fo.EventType.OPEN,()=>{_||(Q(Ot,`RPC '${e}' stream ${r} transport opened.`),R.s_())}),D(g,fo.EventType.CLOSE,()=>{_||(_=!0,Q(Ot,`RPC '${e}' stream ${r} transport closed`),R.__(),this.I_(g))}),D(g,fo.EventType.ERROR,C=>{_||(_=!0,mr(Ot,`RPC '${e}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),R.__(new F(j.UNAVAILABLE,"The operation could not be completed")))}),D(g,fo.EventType.MESSAGE,C=>{var S;if(!_){const T=C.data[0];be(!!T,16349);const A=T,M=(A==null?void 0:A.error)||((S=A[0])===null||S===void 0?void 0:S.error);if(M){Q(Ot,`RPC '${e}' stream ${r} received error:`,M);const z=M.status;let B=function(b){const x=Ze[b];if(x!==void 0)return RS(x)}(z),E=M.message;B===void 0&&(B=j.INTERNAL,E="Unknown error status: "+z+" with message "+M.message),_=!0,R.__(new F(B,E)),g.close()}else Q(Ot,`RPC '${e}' stream ${r} received:`,T),R.a_(T)}}),D(l,H1.STAT_EVENT,C=>{C.stat===rp.PROXY?Q(Ot,`RPC '${e}' stream ${r} detected buffering proxy`):C.stat===rp.NOPROXY&&Q(Ot,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{R.o_()},0),R}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){return new UO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=i,this.E_=r,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,n-i);r>0&&Q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="PersistentStream";class qS{constructor(e,n,i,r,s,a,l,u){this.Fi=e,this.w_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new BS(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===n&&this.W_(i,r)},i=>{e(()=>{const r=new F(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(e,n){const i=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Q(g0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Q(g0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kN extends qS{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=BO(this.serializer,e),i=function(s){if(!("targetChange"in s))return ee.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ee.min():a.readTime?Gn(a.readTime):ee.min()}(e);return this.listener.J_(n,i)}H_(e){const n={};n.database=pp(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=up(u)?{documents:FO(s,u)}:{query:GO(s,u).Vt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=DS(s,a.resumeToken);const c=hp(s,a.expectedCount);c!==null&&(l.expectedCount=c)}else if(a.snapshotVersion.compareTo(ee.min())>0){l.readTime=jc(s,a.snapshotVersion.toTimestamp());const c=hp(s,a.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const i=YO(this.serializer,e);i&&(n.labels=i),this.k_(n)}Y_(e){const n={};n.database=pp(this.serializer),n.removeTarget=e,this.k_(n)}}class jN extends qS{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=HO(e.writeResults,e.commitTime),i=Gn(e.commitTime);return this.listener.ta(i,n)}na(){const e={};e.database=pp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>qO(this.serializer,i))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{}class UN extends LN{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new F(j.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,fp(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(j.UNKNOWN,s.toString())})}Jo(e,n,i,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Jo(e,fp(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new F(j.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class PN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(xi(n),this._a=!1):Q("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="RemoteStore";class zN{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(a=>{i.enqueueAndForget(async()=>{vs(this)&&(Q(us,"Restarting streams for network reachability change."),await async function(u){const c=te(u);c.Ia.add(4),await Ol(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Ah(c)}(this))})}),this.Aa=new PN(i,r)}}async function Ah(t){if(vs(t))for(const e of t.da)await e(!0)}async function Ol(t){for(const e of t.da)await e(!1)}function HS(t,e){const n=te(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),tm(n)?em(n):Ua(n).x_()&&Zg(n,e))}function Jg(t,e){const n=te(t),i=Ua(n);n.Ta.delete(e),i.x_()&&FS(n,e),n.Ta.size===0&&(i.x_()?i.B_():vs(n)&&n.Aa.set("Unknown"))}function Zg(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ua(t).H_(e)}function FS(t,e){t.Ra.$e(e),Ua(t).Y_(e)}function em(t){t.Ra=new VO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Ua(t).start(),t.Aa.aa()}function tm(t){return vs(t)&&!Ua(t).M_()&&t.Ta.size>0}function vs(t){return te(t).Ia.size===0}function GS(t){t.Ra=void 0}async function BN(t){t.Aa.set("Online")}async function qN(t){t.Ta.forEach((e,n)=>{Zg(t,e)})}async function HN(t,e){GS(t),tm(t)?(t.Aa.la(e),em(t)):t.Aa.set("Unknown")}async function FN(t,e,n){if(t.Aa.set("Online"),e instanceof CS&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ta.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ta.delete(l),r.Ra.removeTarget(l))}(t,e)}catch(i){Q(us,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Uc(t,i)}else if(e instanceof Gu?t.Ra.Ye(e):e instanceof IS?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ee.min()))try{const i=await zS(t.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.Ra.Pt(a);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ta.get(c);f&&s.Ta.set(c,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,c)=>{const f=s.Ta.get(u);if(!f)return;s.Ta.set(u,f.withResumeToken(Rt.EMPTY_BYTE_STRING,f.snapshotVersion)),FS(s,u);const g=new Wi(f.target,u,c,f.sequenceNumber);Zg(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){Q(us,"Failed to raise snapshot:",i),await Uc(t,i)}}async function Uc(t,e,n){if(!ja(e))throw e;t.Ia.add(1),await Ol(t),t.Aa.set("Offline"),n||(n=()=>zS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(us,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Ah(t)})}function QS(t,e){return e().catch(n=>Uc(t,n,e))}async function wh(t){const e=te(t),n=Tr(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Pg;for(;GN(e);)try{const r=await wN(e.localStore,i);if(r===null){e.Pa.length===0&&n.B_();break}i=r.batchId,QN(e,r)}catch(r){await Uc(e,r)}YS(e)&&KS(e)}function GN(t){return vs(t)&&t.Pa.length<10}function QN(t,e){t.Pa.push(e);const n=Tr(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function YS(t){return vs(t)&&!Tr(t).M_()&&t.Pa.length>0}function KS(t){Tr(t).start()}async function YN(t){Tr(t).na()}async function KN(t){const e=Tr(t);for(const n of t.Pa)e.X_(n.mutations)}async function XN(t,e,n){const i=t.Pa.shift(),r=Gg.from(i,e,n);await QS(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await wh(t)}async function $N(t,e){e&&Tr(t).Z_&&await async function(i,r){if(function(a){return NO(a)&&a!==j.ABORTED}(r.code)){const s=i.Pa.shift();Tr(i).N_(),await QS(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await wh(i)}}(t,e),YS(t)&&KS(t)}async function m0(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),Q(us,"RemoteStore received new credentials");const i=vs(n);n.Ia.add(3),await Ol(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Ah(n)}async function WN(t,e){const n=te(t);e?(n.Ia.delete(2),await Ah(n)):e||(n.Ia.add(2),await Ol(n),n.Aa.set("Unknown"))}function Ua(t){return t.Va||(t.Va=function(n,i,r){const s=te(n);return s.ia(),new kN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:BN.bind(null,t),e_:qN.bind(null,t),n_:HN.bind(null,t),J_:FN.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),tm(t)?em(t):t.Aa.set("Unknown")):(await t.Va.stop(),GS(t))})),t.Va}function Tr(t){return t.ma||(t.ma=function(n,i,r){const s=te(n);return s.ia(),new jN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:YN.bind(null,t),n_:$N.bind(null,t),ea:KN.bind(null,t),ta:XN.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await wh(t)):(await t.ma.stop(),t.Pa.length>0&&(Q(us,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,l=new nm(e,n,a,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function im(t,e){if(xi("AsyncQueue",`${e}: ${t}`),ja(t))return new F(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{static emptySet(e){return new na(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||K.comparator(n.key,i.key):(n,i)=>K.comparator(n.key,i.key),this.keyedMap=po(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new na;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.fa=new He(K.comparator)}track(e){const n=e.doc.key,i=this.fa.get(n);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(n,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(n):e.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):X(63341,{At:e,ga:i}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ta{constructor(e,n,i,r,s,a,l,u,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ta(e,n,na.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class ZN{constructor(){this.queries=v0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const r=te(n),s=r.queries;r.queries=v0(),s.forEach((a,l)=>{for(const u of l.wa)u.onError(i)})})(this,new F(j.ABORTED,"Firestore shutting down"))}}function v0(){return new ys(t=>pS(t),_h)}async function rm(t,e){const n=te(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.Sa()&&e.ba()&&(i=2):(s=new JN,i=e.ba()?0:1);try{switch(i){case 0:s.ya=await n.onListen(r,!0);break;case 1:s.ya=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=im(a,`Initialization of query '${Os(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&am(n)}async function sm(t,e){const n=te(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?r=e.ba()?0:1:!s.Sa()&&e.ba()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function eM(t,e){const n=te(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.wa)l.Ca(r)&&(i=!0);a.ya=r}}i&&am(n)}function tM(t,e,n){const i=te(t),r=i.queries.get(e);if(r)for(const s of r.wa)s.onError(n);i.queries.delete(e)}function am(t){t.Da.forEach(e=>{e.next()})}var yp,_0;(_0=yp||(yp={})).Fa="default",_0.Cache="cache";class om{constructor(e,n,i){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Ta(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const i=n!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.key=e}}class $S{constructor(e){this.key=e}}class nM{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=fe(),this.mutatedKeys=fe(),this.Xa=gS(e),this.eu=new na(this.Xa)}get tu(){return this.Ha}nu(e,n){const i=n?n.ru:new y0,r=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,g)=>{const m=r.get(f),_=bh(this.query,g)?g:null,R=!!m&&this.mutatedKeys.has(m.key),D=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let C=!1;m&&_?m.data.isEqual(_.data)?R!==D&&(i.track({type:3,doc:_}),C=!0):this.iu(m,_)||(i.track({type:2,doc:_}),C=!0,(u&&this.Xa(_,u)>0||c&&this.Xa(_,c)<0)&&(l=!0)):!m&&_?(i.track({type:0,doc:_}),C=!0):m&&!_&&(i.track({type:1,doc:m}),C=!0,(u||c)&&(l=!0)),C&&(_?(a=a.add(_),s=D?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{eu:a,ru:i,Ds:l,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((f,g)=>function(_,R){const D=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{At:C})}};return D(_)-D(R)}(f.type,g.type)||this.Xa(f.doc,g.doc)),this.su(i),r=r!=null&&r;const l=n&&!r?this.ou():[],u=this.Za.size===0&&this.current&&!r?1:0,c=u!==this.Ya;return this.Ya=u,a.length!==0||c?{snapshot:new Ta(this.query,e.eu,s,a,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new y0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=fe(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const n=[];return e.forEach(i=>{this.Za.has(i)||n.push(new $S(i))}),this.Za.forEach(i=>{e.has(i)||n.push(new XS(i))}),n}uu(e){this.Ha=e.qs,this.Za=fe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Ta.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const lm="SyncEngine";class iM{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class rM{constructor(e){this.key=e,this.lu=!1}}class sM{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new ys(l=>pS(l),_h),this.Tu=new Map,this.Iu=new Set,this.du=new He(K.comparator),this.Eu=new Map,this.Au=new Kg,this.Ru={},this.Vu=new Map,this.mu=ba.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function aM(t,e,n=!0){const i=nx(t);let r;const s=i.Pu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.cu()):r=await WS(i,e,n,!0),r}async function oM(t,e){const n=nx(t);await WS(n,e,!0,!1)}async function WS(t,e,n,i){const r=await RN(t.localStore,Hn(e)),s=r.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await lM(t,e,s,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&HS(t.remoteStore,r),l}async function lM(t,e,n,i,r){t.gu=(g,m,_)=>async function(D,C,S,T){let A=C.view.nu(S);A.Ds&&(A=await h0(D.localStore,C.query,!1).then(({documents:E})=>C.view.nu(E,A)));const M=T&&T.targetChanges.get(C.targetId),z=T&&T.targetMismatches.get(C.targetId)!=null,B=C.view.applyChanges(A,D.isPrimaryClient,M,z);return T0(D,C.targetId,B._u),B.snapshot}(t,g,m,_);const s=await h0(t.localStore,e,!0),a=new nM(e,s.qs),l=a.nu(s.documents),u=Dl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=a.applyChanges(l,t.isPrimaryClient,u);T0(t,n,c._u);const f=new iM(e,n,a);return t.Pu.set(e,f),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function uM(t,e,n){const i=te(t),r=i.Pu.get(e),s=i.Tu.get(r.targetId);if(s.length>1)return i.Tu.set(r.targetId,s.filter(a=>!_h(a,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await gp(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Jg(i.remoteStore,r.targetId),vp(i,r.targetId)}).catch(ka)):(vp(i,r.targetId),await gp(i.localStore,r.targetId,!0))}async function cM(t,e){const n=te(t),i=n.Pu.get(e),r=n.Tu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Jg(n.remoteStore,i.targetId))}async function hM(t,e,n){const i=vM(t);try{const r=await function(a,l){const u=te(a),c=Le.now(),f=l.reduce((_,R)=>_.add(R.key),fe());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let R=Ai(),D=fe();return u.Os.getEntries(_,f).next(C=>{R=C,R.forEach((S,T)=>{T.isValidDocument()||(D=D.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,R)).next(C=>{g=C;const S=[];for(const T of l){const A=RO(T,g.get(T.key).overlayedDocument);A!=null&&S.push(new Cr(T.key,A,aS(A.value.mapValue),Fn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,S,l)}).next(C=>{m=C;const S=C.applyToLocalDocumentSet(g,D);return u.documentOverlayCache.saveOverlays(_,C.batchId,S)})}).then(()=>({batchId:m.batchId,changes:yS(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let c=a.Ru[a.currentUser.toKey()];c||(c=new He(se)),c=c.insert(l,u),a.Ru[a.currentUser.toKey()]=c}(i,r.batchId,n),await Nl(i,r.changes),await wh(i.remoteStore)}catch(r){const s=im(r,"Failed to persist write");n.reject(s)}}async function JS(t,e){const n=te(t);try{const i=await xN(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.Eu.get(s);a&&(be(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.lu=!0:r.modifiedDocuments.size>0?be(a.lu,14607):r.removedDocuments.size>0&&(be(a.lu,42227),a.lu=!1))}),await Nl(n,i,e)}catch(i){await ka(i)}}function b0(t,e,n){const i=te(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Pu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=te(a);u.onlineState=l;let c=!1;u.queries.forEach((f,g)=>{for(const m of g.wa)m.va(l)&&(c=!0)}),c&&am(u)}(i.eventManager,e),r.length&&i.hu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function fM(t,e,n){const i=te(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Eu.get(e),s=r&&r.key;if(s){let a=new He(K.comparator);a=a.insert(s,Mt.newNoDocument(s,ee.min()));const l=fe().add(s),u=new Sh(ee.min(),new Map,new He(se),a,l);await JS(i,u),i.du=i.du.remove(s),i.Eu.delete(e),um(i)}else await gp(i.localStore,e,!1).then(()=>vp(i,e,n)).catch(ka)}async function dM(t,e){const n=te(t),i=e.batch.batchId;try{const r=await SN(n.localStore,e);ex(n,i,null),ZS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Nl(n,r)}catch(r){await ka(r)}}async function pM(t,e,n){const i=te(t);try{const r=await function(a,l){const u=te(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(g=>(be(g!==null,37113),f=g.keys(),u.mutationQueue.removeMutationBatch(c,g))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(i.localStore,e);ex(i,e,n),ZS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Nl(i,r)}catch(r){await ka(r)}}function ZS(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function ex(t,e,n){const i=te(t);let r=i.Ru[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ru[i.currentUser.toKey()]=r}}function vp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Tu.get(e))t.Pu.delete(i),n&&t.hu.pu(i,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(i=>{t.Au.containsKey(i)||tx(t,i)})}function tx(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Jg(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),um(t))}function T0(t,e,n){for(const i of n)i instanceof XS?(t.Au.addReference(i.key,e),gM(t,i)):i instanceof $S?(Q(lm,"Document no longer in limbo: "+i.key),t.Au.removeReference(i.key,e),t.Au.containsKey(i.key)||tx(t,i.key)):X(19791,{yu:i})}function gM(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Iu.has(i)||(Q(lm,"New document in limbo: "+n),t.Iu.add(i),um(t))}function um(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new K(Oe.fromString(e)),i=t.mu.next();t.Eu.set(i,new rM(n)),t.du=t.du.insert(n,i),HS(t.remoteStore,new Wi(Hn(vh(n.path)),i,"TargetPurposeLimboResolution",gh.ue))}}async function Nl(t,e,n){const i=te(t),r=[],s=[],a=[];i.Pu.isEmpty()||(i.Pu.forEach((l,u)=>{a.push(i.gu(u,e,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const g=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(c){r.push(c);const g=$g.Es(u.targetId,c);s.push(g)}}))}),await Promise.all(a),i.hu.J_(r),await async function(u,c){const f=te(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>U.forEach(c,m=>U.forEach(m.Is,_=>f.persistence.referenceDelegate.addReference(g,m.targetId,_)).next(()=>U.forEach(m.ds,_=>f.persistence.referenceDelegate.removeReference(g,m.targetId,_)))))}catch(g){if(!ja(g))throw g;Q(Wg,"Failed to update sequence numbers: "+g)}for(const g of c){const m=g.targetId;if(!g.fromCache){const _=f.Fs.get(m),R=_.snapshotVersion,D=_.withLastLimboFreeSnapshotVersion(R);f.Fs=f.Fs.insert(m,D)}}}(i.localStore,s))}async function mM(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){Q(lm,"User change. New user:",e.toKey());const i=await PS(n.localStore,e);n.currentUser=e,function(s,a){s.Vu.forEach(l=>{l.forEach(u=>{u.reject(new F(j.CANCELLED,a))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Nl(n,i.Bs)}}function yM(t,e){const n=te(t),i=n.Eu.get(e);if(i&&i.lu)return fe().add(i.key);{let r=fe();const s=n.Tu.get(e);if(!s)return r;for(const a of s){const l=n.Pu.get(a);r=r.unionWith(l.view.tu)}return r}}function nx(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fM.bind(null,e),e.hu.J_=eM.bind(null,e.eventManager),e.hu.pu=tM.bind(null,e.eventManager),e}function vM(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pM.bind(null,e),e}class Pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return EN(this.persistence,new _N,e.initialUser,this.serializer)}Du(e){return new US(Xg.Vi,this.serializer)}bu(e){return new CN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pc.provider={build:()=>new Pc};class _M extends Pc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){be(this.persistence.referenceDelegate instanceof Lc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new rN(i,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new US(i=>Lc.Vi(i,n),this.serializer)}}class _p{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>b0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mM.bind(null,this.syncEngine),await WN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZN}()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),i=function(s){return new VN(s)}(e.databaseInfo);return function(s,a,l,u){return new UN(s,a,l,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,a,l){return new zN(i,r,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>b0(this.syncEngine,n,0),function(){return p0.C()?new p0:new DN}())}createSyncEngine(e,n){return function(r,s,a,l,u,c,f){const g=new sM(r,s,a,l,u,c);return f&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=te(r);Q(us,"RemoteStore shutting down."),s.Ia.add(5),await Ol(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="FirestoreClient";class bM{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Nt.UNAUTHENTICATED,this.clientId=Ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{Q(Er,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(Q(Er,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=im(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function $f(t,e){t.asyncQueue.verifyOperationInProgress(),Q(Er,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await PS(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>{mr("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Q("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{mr("Terminating Firestore due to IndexedDb database deletion failed",r)})}),t._offlineComponents=e}async function E0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await TM(t);Q(Er,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>m0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>m0(e.remoteStore,r)),t._onlineComponents=e}async function TM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(Er,"Using user provided OfflineComponentProvider");try{await $f(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===j.FAILED_PRECONDITION||r.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;mr("Error using user provided cache. Falling back to memory cache: "+n),await $f(t,new Pc)}}else Q(Er,"Using default OfflineComponentProvider"),await $f(t,new _M(void 0));return t._offlineComponents}async function ix(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(Er,"Using user provided OnlineComponentProvider"),await E0(t,t._uninitializedComponentsProvider._online)):(Q(Er,"Using default OnlineComponentProvider"),await E0(t,new _p))),t._onlineComponents}function EM(t){return ix(t).then(e=>e.syncEngine)}async function zc(t){const e=await ix(t),n=e.eventManager;return n.onListen=aM.bind(null,e.syncEngine),n.onUnlisten=uM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cM.bind(null,e.syncEngine),n}function SM(t,e,n={}){const i=new mi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,c){const f=new cm({next:m=>{f.Ou(),a.enqueueAndForget(()=>sm(s,g));const _=m.docs.has(l);!_&&m.fromCache?c.reject(new F(j.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?c.reject(new F(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),g=new om(vh(l.path),f,{includeMetadataChanges:!0,ka:!0});return rm(s,g)}(await zc(t),t.asyncQueue,e,n,i)),i.promise}function xM(t,e,n={}){const i=new mi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,c){const f=new cm({next:m=>{f.Ou(),a.enqueueAndForget(()=>sm(s,g)),m.fromCache&&u.source==="server"?c.reject(new F(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),g=new om(l,f,{includeMetadataChanges:!0,ka:!0});return rm(s,g)}(await zc(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="firestore.googleapis.com",x0=!0;class A0{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new F(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sx,this.ssl=x0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:x0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nN)throw new F(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rx((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new O4;switch(i.type){case"firstParty":return new k4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new F(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=S0.get(n);i&&(Q("ComponentProvider","Removing Datastore"),S0.delete(n),i.terminate())}(this),Promise.resolve()}}function AM(t,e,n,i={}){var r;t=Vn(t,Rh);const s=Oa(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;s&&(n1(`https://${u}`),i1("Firestore",!0)),a.host!==sx&&a.host!==u&&mr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:i});if(!ss(c,l)&&(t._setSettings(c),i.mockUserToken)){let f,g;if(typeof i.mockUserToken=="string")f=i.mockUserToken,g=Nt.MOCK_USER;else{f=tI(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new F(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Nt(m)}t._authCredentials=new N4(new Y1(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ci(this.firestore,e,this._query)}}class $e{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $e(this.firestore,e,this._key)}toJSON(){return{type:$e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Il(n,$e._jsonSchema))return new $e(e,i||null,new K(Oe.fromString(n.referencePath)))}}$e._jsonSchemaVersion="firestore/documentReference/1.0",$e._jsonSchema={type:st("string",$e._jsonSchemaVersion),referencePath:st("string")};class hr extends Ci{constructor(e,n,i){super(e,n,vh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $e(this.firestore,null,new K(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function hn(t,e,...n){if(t=mt(t),X1("collection","path",e),t instanceof Rh){const i=Oe.fromString(e,...n);return U_(i),new hr(t,null,i)}{if(!(t instanceof $e||t instanceof hr))throw new F(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Oe.fromString(e,...n));return U_(i),new hr(t.firestore,null,i)}}function Pa(t,e,...n){if(t=mt(t),arguments.length===1&&(e=Ug.newId()),X1("doc","path",e),t instanceof Rh){const i=Oe.fromString(e,...n);return L_(i),new $e(t,null,new K(i))}{if(!(t instanceof $e||t instanceof hr))throw new F(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Oe.fromString(e,...n));return L_(i),new $e(t.firestore,t instanceof hr?t.converter:null,new K(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="AsyncQueue";class R0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new BS(this,"async_queue_retry"),this.oc=()=>{const i=Xf();i&&Q(w0,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const n=Xf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Xf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new mi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ja(e))throw e;Q(w0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,xi("INTERNAL UNHANDLED ERROR: ",I0(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(e,n,i){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const r=nm.createAndSchedule(this,e,n,i,s=>this.lc(s));return this.ec.push(r),r}ac(){this.tc&&X(47125,{hc:I0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function I0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}class cs extends Rh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new R0,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R0(e),this._firestoreClient=void 0,await e}}}function wM(t,e){const n=typeof t=="object"?t:o1(),i=typeof t=="string"?t:Oc,r=Ag(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Z2("firestore");s&&AM(r,...s)}return r}function Ih(t){if(t._terminated)throw new F(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RM(t),t._firestoreClient}function RM(t){var e,n,i;const r=t._freezeSettings(),s=function(l,u,c,f){return new W4(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,rx(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new bM(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bn(Rt.fromBase64String(e))}catch(n){throw new F(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bn(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Il(e,bn._jsonSchema))return bn.fromBase64String(e.bytes)}}bn._jsonSchemaVersion="firestore/bytes/1.0",bn._jsonSchema={type:st("string",bn._jsonSchemaVersion),bytes:st("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qn._jsonSchemaVersion}}static fromJSON(e){if(Il(e,Qn._jsonSchema))return new Qn(e.latitude,e.longitude)}}Qn._jsonSchemaVersion="firestore/geoPoint/1.0",Qn._jsonSchema={type:st("string",Qn._jsonSchemaVersion),latitude:st("number"),longitude:st("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Yn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Il(e,Yn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Yn(e.vectorValues);throw new F(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yn._jsonSchemaVersion="firestore/vectorValue/1.0",Yn._jsonSchema={type:st("string",Yn._jsonSchemaVersion),vectorValues:st("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=/^__.*__$/;class CM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cl(e,this.data,n,this.fieldTransforms)}}class ax{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Cr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ox(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ec:t})}}class hm{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new hm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Rc({path:i,mc:!1});return r.fc(e),r}gc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Bc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(ox(this.Ec)&&IM.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class DM{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||xh(e)}Dc(e,n,i,r=!1){return new hm({Ec:e,methodName:n,bc:i,path:xt.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fm(t){const e=t._freezeSettings(),n=xh(t._databaseId);return new DM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OM(t,e,n,i,r,s={}){const a=t.Dc(s.merge||s.mergeFields?2:0,e,n,r);pm("Data must be an object, but it was:",a,i);const l=lx(i,a);let u,c;if(s.merge)u=new rn(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const m=bp(e,g,n);if(!a.contains(m))throw new F(j.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);cx(f,m)||f.push(m)}u=new rn(f),c=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,c=a.fieldTransforms;return new CM(new Yt(l),u,c)}class Oh extends Dh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}class dm extends Dh{_toFieldTransform(e){return new SO(e.path,new al)}isEqual(e){return e instanceof dm}}function NM(t,e,n,i){const r=t.Dc(1,e,n);pm("Data must be an object, but it was:",r,i);const s=[],a=Yt.empty();Ir(i,(u,c)=>{const f=gm(e,u,n);c=mt(c);const g=r.gc(f);if(c instanceof Oh)s.push(f);else{const m=Ml(c,g);m!=null&&(s.push(f),a.set(f,m))}});const l=new rn(s);return new ax(a,l,r.fieldTransforms)}function MM(t,e,n,i,r,s){const a=t.Dc(1,e,n),l=[bp(e,i,n)],u=[r];if(s.length%2!=0)throw new F(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(bp(e,s[m])),u.push(s[m+1]);const c=[],f=Yt.empty();for(let m=l.length-1;m>=0;--m)if(!cx(c,l[m])){const _=l[m];let R=u[m];R=mt(R);const D=a.gc(_);if(R instanceof Oh)c.push(_);else{const C=Ml(R,D);C!=null&&(c.push(_),f.set(_,C))}}const g=new rn(c);return new ax(f,g,a.fieldTransforms)}function VM(t,e,n,i=!1){return Ml(n,t.Dc(i?4:3,e))}function Ml(t,e){if(ux(t=mt(t)))return pm("Unsupported field value:",e,t),lx(t,e);if(t instanceof Dh)return function(i,r){if(!ox(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=Ml(l,r.yc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=mt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return bO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Le.fromDate(i);return{timestampValue:jc(r.serializer,s)}}if(i instanceof Le){const s=new Le(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:jc(r.serializer,s)}}if(i instanceof Qn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof bn)return{bytesValue:DS(r.serializer,i._byteString)};if(i instanceof $e){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Yg(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Yn)return function(a,l){return{mapValue:{fields:{[rS]:{stringValue:sS},[Nc]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.wc("VectorValues must only contain numeric values.");return Fg(l.serializer,c)})}}}}}}(i,r);throw r.wc(`Unsupported field value: ${ph(i)}`)}(t,e)}function lx(t,e){const n={};return J1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ir(t,(i,r)=>{const s=Ml(r,e.Vc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function ux(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof Qn||t instanceof bn||t instanceof $e||t instanceof Dh||t instanceof Yn)}function pm(t,e,n){if(!ux(n)||!$1(n)){const i=ph(n);throw i==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+i)}}function bp(t,e,n){if((e=mt(e))instanceof Ch)return e._internalPath;if(typeof e=="string")return gm(t,e);throw Bc("Field path arguments must be of type string or ",t,!1,void 0,n)}const kM=new RegExp("[~\\*/\\[\\]]");function gm(t,e,n){if(e.search(kM)>=0)throw Bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ch(...e.split("."))._internalPath}catch{throw Bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bc(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new F(j.INVALID_ARGUMENT,l+t+u)}function cx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Nh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jM extends hx{data(){return super.data()}}function Nh(t,e){return typeof e=="string"?gm(t,e):e instanceof Ch?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mm{}class ym extends mm{}function Sr(t,e,...n){let i=[];e instanceof mm&&i.push(e),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof vm).length,l=s.filter(u=>u instanceof Mh).length;if(a>1||a>0&&l>0)throw new F(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class Mh extends ym{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Mh(e,n,i)}_apply(e){const n=this._parse(e);return px(e._query,n),new Ci(e.firestore,e.converter,cp(e._query,n))}_parse(e){const n=fm(e.firestore);return function(s,a,l,u,c,f,g){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new F(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){O0(g,f);const R=[];for(const D of g)R.push(D0(u,s,D));m={arrayValue:{values:R}}}else m=D0(u,s,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||O0(g,f),m=VM(l,a,g,f==="in"||f==="not-in");return it.create(c,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ea(t,e,n){const i=e,r=Nh("where",t);return Mh._create(r,i,n)}class vm extends mm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vm(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)px(a,u),a=cp(a,u)}(e._query,n),new Ci(e.firestore,e.converter,cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _m extends ym{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _m(e,n)}_apply(e){const n=function(r,s,a){if(r.startAt!==null)throw new F(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new F(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sl(s,a)}(e._query,this._field,this._direction);return new Ci(e.firestore,e.converter,function(r,s){const a=r.explicitOrderBy.concat([s]);return new La(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function dx(t,e="asc"){const n=e,i=Nh("orderBy",t);return _m._create(i,n)}class bm extends ym{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new bm(e,n,i)}_apply(e){return new Ci(e.firestore,e.converter,Vc(e._query,this._limit,this._limitType))}}function LM(t){return bm._create("limit",t,"F")}function D0(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new F(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dS(e)&&n.indexOf("/")!==-1)throw new F(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Oe.fromString(n));if(!K.isDocumentKey(i))throw new F(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Q_(t,new K(i))}if(n instanceof $e)return Q_(t,n._key);throw new F(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(n)}.`)}function O0(t,e){if(!Array.isArray(t)||t.length===0)throw new F(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function px(t,e){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class UM{convertValue(e,n="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ir(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n[Nc].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>Ke(a.doubleValue));return new Yn(s)}convertGeoPoint(e){return new Qn(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=yh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(nl(e));default:return null}}convertTimestamp(e){const n=vr(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Oe.fromString(e);be(jS(i),9688,{name:e});const r=new il(i.get(1),i.get(3)),s=new K(i.popFirst(5));return r.isEqual(n)||xi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class mo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jr extends hx{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Nh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new F(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Jr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:st("string",Jr._jsonSchemaVersion),bundleSource:st("string","DocumentSnapshot"),bundleName:st("string"),bundle:st("string")};class Qu extends Jr{data(e={}){return super.data(e)}}class Zr{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new mo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Qu(this._firestore,this._userDataWriter,i.key,i,new mo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Qu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new mo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Qu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new mo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,f=-1;return l.type!==0&&(c=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:zM(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new F(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){t=Vn(t,$e);const e=Vn(t.firestore,cs);return SM(Ih(e),t._key).then(n=>mx(e,t,n))}Zr._jsonSchemaVersion="firestore/querySnapshot/1.0",Zr._jsonSchema={type:st("string",Zr._jsonSchemaVersion),bundleSource:st("string","QuerySnapshot"),bundleName:st("string"),bundle:st("string")};class Tm extends UM{constructor(e){super(),this.firestore=e}convertBytes(e){return new bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $e(this.firestore,null,n)}}function xr(t){t=Vn(t,Ci);const e=Vn(t.firestore,cs),n=Ih(e),i=new Tm(e);return fx(t._query),xM(n,t._query).then(r=>new Zr(e,i,t,r))}function Vh(t,e,n,...i){t=Vn(t,$e);const r=Vn(t.firestore,cs),s=fm(r);let a;return a=typeof(e=mt(e))=="string"||e instanceof Ch?MM(s,"updateDoc",t._key,e,n,i):NM(s,"updateDoc",t._key,e),gx(r,[a.toMutation(t._key,Fn.exists(!0))])}function kh(t,e){const n=Vn(t.firestore,cs),i=Pa(t),r=PM(t.converter,e);return gx(n,[OM(fm(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Fn.exists(!1))]).then(()=>i)}function qM(t,...e){var n,i,r;t=mt(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||C0(e[a])||(s=e[a++]);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(C0(e[a])){const g=e[a];e[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[a+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),e[a+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}let u,c,f;if(t instanceof $e)c=Vn(t.firestore,cs),f=vh(t._key.path),u={next:g=>{e[a]&&e[a](mx(c,t,g))},error:e[a+1],complete:e[a+2]};else{const g=Vn(t,Ci);c=Vn(g.firestore,cs),f=g._query;const m=new Tm(c);u={next:_=>{e[a]&&e[a](new Zr(c,m,g,_))},error:e[a+1],complete:e[a+2]},fx(t._query)}return function(m,_,R,D){const C=new cm(D),S=new om(_,C,R);return m.asyncQueue.enqueueAndForget(async()=>rm(await zc(m),S)),()=>{C.Ou(),m.asyncQueue.enqueueAndForget(async()=>sm(await zc(m),S))}}(Ih(c),f,l,u)}function gx(t,e){return function(i,r){const s=new mi;return i.asyncQueue.enqueueAndForget(async()=>hM(await EM(i),r,s)),s.promise}(Ih(t),e)}function mx(t,e,n){const i=n.docs.get(e._key),r=new Tm(t);return new Jr(t,r,e._key,i,new mo(n.hasPendingWrites,n.fromCache),e.converter)}function wi(){return new dm("serverTimestamp")}(function(e,n=!0){(function(r){Va=r})(Na),ga(new as("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new cs(new M4(i.getProvider("auth-internal")),new j4(a,i.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new F(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new il(c.options.projectId,f)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ur(N_,M_,e),ur(N_,M_,"esm2017")})();const HM={apiKey:"AIzaSyAJ5jAARBVNimSc4W6F2d0hVNwgkhtaWX0",authDomain:"hangout-673c1.firebaseapp.com",projectId:"hangout-673c1",storageBucket:"hangout-673c1.firebasestorage.app",messagingSenderId:"662234246980",appId:"1:662234246980:web:3763ec326b9563fecf3111"},yx=a1(HM),Em=C4(yx),yt=wM(yx),FM=new oi,GM=async()=>{try{const e=(await UD(Em,FM)).user,n={email:e.email,name:e.displayName,displayName:e.displayName,uid:e.uid,photo:e.photoURL,phone:e.phoneNumber||""};return localStorage.setItem("hanggOutUser",JSON.stringify(n)),n}catch(t){throw console.error("Google sign-in error:",t),t}},QM=()=>{const t=localStorage.getItem("hanggOutUser");return t?JSON.parse(t):null},vx=async()=>{try{await vD(Em),localStorage.removeItem("hanggOutUser")}catch(t){throw console.error("Logout error:",t),t}},_s=()=>{const[t,e]=k.useState(null),[n,i]=k.useState(!0);return k.useEffect(()=>{const r=yD(Em,s=>{if(s){const l=QM()||{email:s.email,name:s.displayName,displayName:s.displayName,uid:s.uid,photo:s.photoURL,phone:s.phoneNumber||""};e(l)}else e(null);i(!1)});return()=>r()},[]),{user:t,loading:n}},N0="/Hanggout/assets/Hang2-BSB2Y21A.png";function YM(){const t=xn(),{user:e}=_s(),[n,i]=k.useState(!1),r=k.useRef(null);k.useEffect(()=>{function a(l){r.current&&!r.current.contains(l.target)&&i(!1)}return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]);const s=async()=>{try{await vx(),i(!1),t("/login")}catch(a){console.error("Logout error:",a),t("/login")}};return p.jsx("header",{style:De.header,children:p.jsxs("div",{className:"container",style:De.headerContent,children:[p.jsxs("div",{style:De.logo,onClick:()=>t("/"),children:[p.jsx("img",{src:N0,alt:"Hangg-Out",style:De.logoImg}),p.jsx("span",{style:De.logoText,children:"Hangg-Out"})]}),p.jsx("nav",{style:De.nav,children:e?p.jsxs("div",{style:De.profileSection,ref:r,children:[p.jsxs("button",{style:{...De.profileBtn,...n?De.profileBtnActive:{}},onClick:()=>i(!n),children:[p.jsx("img",{src:e.photo||N0,alt:e.name,style:De.profileImg}),p.jsx("span",{children:e.name}),p.jsx("span",{style:{...De.arrowIcon,transform:n?"rotate(180deg)":"rotate(0deg)"},children:""})]}),n&&p.jsxs("div",{style:De.dropdown,children:[p.jsx("div",{style:De.dropdownArrow}),p.jsxs("button",{style:De.dropdownItem,onClick:()=>{t("/profile"),i(!1)},onMouseEnter:a=>{a.currentTarget.style.background="rgba(255, 214, 10, 0.1)",a.currentTarget.style.paddingLeft="24px"},onMouseLeave:a=>{a.currentTarget.style.background="none",a.currentTarget.style.paddingLeft="20px"},children:[p.jsx("span",{style:De.itemIcon,children:""}),p.jsx("span",{children:"Profile"})]}),p.jsxs("button",{style:De.dropdownItem,onClick:()=>{t("/my-vacants"),i(!1)},onMouseEnter:a=>{a.currentTarget.style.background="rgba(255, 214, 10, 0.1)",a.currentTarget.style.paddingLeft="24px"},onMouseLeave:a=>{a.currentTarget.style.background="none",a.currentTarget.style.paddingLeft="20px"},children:[p.jsx("span",{style:De.itemIcon,children:""}),p.jsx("span",{children:"My Vacants"})]}),p.jsxs("button",{style:De.dropdownItem,onClick:()=>{t("/your-requests"),i(!1)},onMouseEnter:a=>{a.currentTarget.style.background="rgba(255, 214, 10, 0.1)",a.currentTarget.style.paddingLeft="24px"},onMouseLeave:a=>{a.currentTarget.style.background="none",a.currentTarget.style.paddingLeft="20px"},children:[p.jsx("span",{style:De.itemIcon,children:""}),p.jsx("span",{children:"My Requests"})]}),p.jsxs("button",{style:De.dropdownItem,onClick:()=>{t("/create-vacant"),i(!1)},onMouseEnter:a=>{a.currentTarget.style.background="rgba(255, 214, 10, 0.1)",a.currentTarget.style.paddingLeft="24px"},onMouseLeave:a=>{a.currentTarget.style.background="none",a.currentTarget.style.paddingLeft="20px"},children:[p.jsx("span",{style:De.itemIcon,children:""}),p.jsx("span",{children:"Create Vacant"})]}),p.jsx("div",{style:De.divider}),p.jsxs("button",{style:De.logoutItem,onClick:s,onMouseEnter:a=>{a.currentTarget.style.background="linear-gradient(135deg, #ff4757 0%, #ff6348 100%)",a.currentTarget.style.paddingLeft="24px",a.currentTarget.style.boxShadow="0 4px 15px rgba(255, 71, 87, 0.4)";const l=a.currentTarget.querySelector("[data-logout-icon]");l&&(l.style.transform="rotate(20deg) scale(1.15)")},onMouseLeave:a=>{a.currentTarget.style.background="rgba(255, 107, 107, 0.08)",a.currentTarget.style.paddingLeft="20px",a.currentTarget.style.boxShadow="none";const l=a.currentTarget.querySelector("[data-logout-icon]");l&&(l.style.transform="rotate(0deg) scale(1)")},children:[p.jsx("span",{style:De.logoutIcon,"data-logout-icon":!0,children:""}),p.jsx("span",{style:De.logoutText,children:"Logout"})]})]})]}):p.jsx("button",{style:De.btnLogin,onClick:()=>t("/login"),children:"Login"})})]})})}const De={header:{background:"var(--bg-card)",borderBottom:"1px solid var(--border)",padding:"16px 0",position:"sticky",top:0,opacity:.98,zIndex:1e3},headerContent:{display:"flex",justifyContent:"space-between",alignItems:"center"},logo:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"25px",fontWeight:"bold",background:"linear-gradient(267deg, #da7c25 .36%, #b923e1 102.06%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},logoImg:{height:"65px",width:"95px",opacity:.8,borderRadius:"80px"},logoText:{color:"var(--yellow)"},nav:{display:"flex",alignItems:"center",gap:"16px"},btnLogin:{background:"var(--yellow)",color:"var(--bg-black)",border:"none",padding:"10px 20px",borderRadius:"var(--radius)",fontWeight:"600",cursor:"pointer",fontSize:"14px"},profileSection:{position:"relative"},profileBtn:{display:"flex",alignItems:"center",gap:"8px",background:"transparent",border:"1px solid transparent",color:"var(--white)",cursor:"pointer",padding:"8px 16px",borderRadius:"var(--radius)",fontSize:"14px",transition:"all 0.2s ease",position:"relative"},profileBtnActive:{background:"rgba(255, 214, 10, 0.1)",borderColor:"var(--yellow)"},profileImg:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid var(--yellow)",objectFit:"cover"},arrowIcon:{fontSize:"12px",marginLeft:"4px",transition:"transform 0.3s ease",color:"var(--yellow)"},dropdown:{position:"absolute",top:"calc(100% + 15px)",right:0,background:"var(--bg-black)",border:"1px solid var(--border)",borderRadius:"12px",minWidth:"240px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)",overflow:"hidden",zIndex:1001,marginTop:"0"},dropdownArrow:{position:"absolute",top:"-8px",right:"20px",width:"16px",height:"16px",background:"var(--bg-black)",borderTop:"1px solid var(--border)",borderLeft:"1px solid var(--border)",transform:"rotate(45deg)",zIndex:1},dropdownItem:{display:"flex",alignItems:"center",gap:"12px",width:"100%",padding:"14px 20px",background:"none",border:"none",color:"var(--white)",textAlign:"left",cursor:"pointer",fontSize:"14px",borderBottom:"1px solid rgba(255, 255, 255, 0.05)",transition:"all 0.3s ease",fontWeight:"500",position:"relative",zIndex:2},itemIcon:{fontSize:"18px",display:"flex",alignItems:"center",justifyContent:"center",width:"20px"},divider:{height:"1px",background:"rgba(255, 255, 255, 0.1)",margin:"8px 0"},logoutItem:{display:"flex",alignItems:"center",gap:"12px",width:"100%",padding:"14px 20px",background:"rgba(255, 107, 107, 0.08)",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",transition:"all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)",fontWeight:"600",borderTop:"1px solid rgba(255, 107, 107, 0.2)",position:"relative",zIndex:2},logoutIcon:{fontSize:"18px",display:"flex",alignItems:"center",justifyContent:"center",width:"20px",transition:"transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},logoutText:{color:"white",fontWeight:"700",letterSpacing:"0.5px",textTransform:"uppercase",fontSize:"13px"}},KM=async(t,e)=>{try{console.log("Creating vacant with data:",t),console.log("User UID:",e);const n={...t,creatorUid:e,createdAt:wi(),status:"open",applicants:[],applied:0,requiredPersons:Number(t.requiredPersons)},i=await kh(hn(yt,"vacants"),n);return console.log("Vacant created successfully with ID:",i.id),i.id}catch(n){throw console.error("Error creating vacant:",n),console.error("Error details:",n.message),n}},ia=async t=>{try{const e=Pa(yt,"vacants",t),n=await BM(e);return n.exists()?{id:n.id,...n.data()}:(console.log("No vacant found with ID:",t),null)}catch(e){throw console.error("Error getting vacant:",e),e}},XM=async()=>{try{const t=Sr(hn(yt,"vacants"),dx("createdAt","desc")),n=(await xr(t)).docs.map(i=>({id:i.id,...i.data()}));return console.log(`Fetched ${n.length} total vacants`),n}catch(t){throw console.error("Error getting vacants:",t),t}},$M=async t=>{try{console.log("Fetching vacants for user:",t);const e=Sr(hn(yt,"vacants"),Ea("creatorUid","==",t)),i=(await xr(e)).docs.map(r=>({id:r.id,...r.data()})).sort((r,s)=>{var u,c;const a=((u=r.createdAt)==null?void 0:u.toMillis())||0;return(((c=s.createdAt)==null?void 0:c.toMillis())||0)-a});return console.log(`Found ${i.length} vacants for user ${t}`),i}catch(e){throw console.error("Error getting user vacants:",e),console.error("Error details:",e.message),e}},WM=async t=>{try{console.log("Fetching joined vacants for user:",t);const n=(await xr(hn(yt,"vacants"))).docs.map(i=>({id:i.id,...i.data()})).filter(i=>{var r;return(r=i.applicants)==null?void 0:r.some(s=>s.uid===t)}).sort((i,r)=>{var l,u;const s=((l=i.createdAt)==null?void 0:l.toMillis())||0;return(((u=r.createdAt)==null?void 0:u.toMillis())||0)-s});return console.log(`Found ${n.length} joined vacants for user ${t}`),n}catch(e){throw console.error("Error getting joined vacants:",e),console.error("Error details:",e.message),e}},JM=async(t,e)=>{try{const n=Pa(yt,"users",t);await Vh(n,{...e,updatedAt:wi()}),console.log("User profile updated successfully")}catch(n){throw console.error("Error saving user profile:",n),n}},ZM="/Hanggout/assets/cricket-BxLU1oue.png",eV="/Hanggout/assets/badminton-D7cv9H4e.png",tV="/Hanggout/assets/Travel-DC1ZRdFS.png",nV="/Hanggout/assets/chess-25hr7PsU.png";function iV(){var B,E;const t=xn(),{user:e}=_s(),[n,i]=k.useState([]),[r,s]=k.useState([]),[a,l]=k.useState("all"),[u,c]=k.useState(""),[f,g]=k.useState(""),[m,_]=k.useState(!0),[R,D]=k.useState(!1),C=[{id:"all",name:"All",icon:"",isEmoji:!0},{id:"Cricket",name:"Cricket",icon:ZM,isEmoji:!1},{id:"Badminton",name:"Badminton",icon:eV,isEmoji:!1},{id:"Roaming",name:"Roaming",icon:tV,isEmoji:!1},{id:"Chess",name:"Chess",icon:nV,isEmoji:!1}];k.useEffect(()=>{S()},[]),k.useEffect(()=>{T()},[n,a,u,f]),k.useEffect(()=>(R?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[R]);const S=async()=>{try{_(!0);const b=(await XM()).filter(x=>!e||x.creatorUid!==e.uid);i(b)}catch(y){console.error("Error loading vacants:",y)}finally{_(!1)}},T=()=>{let y=n;a!=="all"&&(y=y.filter(b=>b.category===a)),u&&(y=y.filter(b=>b.title.toLowerCase().includes(u.toLowerCase()))),f&&(y=y.filter(b=>b.city.toLowerCase().includes(f.toLowerCase())||b.area.toLowerCase().includes(f.toLowerCase()))),s(y)},A=()=>{t(e?"/create-vacant":"/login")},M=()=>{D(!R)},z=y=>{D(!1),t(y)};return p.jsxs("div",{style:H.container,children:[p.jsx("section",{style:H.searchSection,children:p.jsxs("div",{className:"container",style:H.searchContainer,children:[p.jsx("button",{style:H.hamburgerButton,onClick:M,"aria-label":"Toggle Menu","aria-expanded":R,children:p.jsx("span",{style:H.hamburgerIcon,children:""})}),p.jsxs("div",{style:H.searchInputWrapper,children:[p.jsx("span",{style:H.searchIcon,children:""}),p.jsx("input",{type:"text",placeholder:"Search vacants...",value:u,onChange:y=>c(y.target.value),style:H.searchInput})]}),p.jsxs("div",{style:H.locationInputWrapper,children:[p.jsx("span",{style:H.locationIcon,children:""}),p.jsx("input",{type:"text",placeholder:"Enter location...",value:f,onChange:y=>g(y.target.value),style:H.locationInput})]})]})}),p.jsx("div",{style:{...H.overlay,opacity:R?1:0,pointerEvents:R?"auto":"none"},onClick:()=>D(!1)}),p.jsxs("div",{style:{...H.sidebar,transform:R?"translateX(0)":"translateX(-100%)"},children:[p.jsxs("div",{style:H.sidebarHeader,children:[p.jsxs("div",{style:H.logoContainer,children:[p.jsx("div",{style:H.logoIcon,children:"H"}),p.jsx("h2",{style:H.logoText,children:"Hangg Out"})]}),p.jsx("button",{style:H.closeButton,onClick:()=>D(!1),"aria-label":"Close Menu",children:""})]}),e&&p.jsxs("div",{style:H.userInfo,children:[p.jsx("div",{style:H.userAvatar,children:e.photo?p.jsx("img",{src:e.photo,alt:e.name,style:H.avatarImg}):p.jsx("span",{style:H.avatarFallback,children:((B=e.name)==null?void 0:B.charAt(0).toUpperCase())||((E=e.email)==null?void 0:E.charAt(0).toUpperCase())})}),p.jsxs("div",{style:H.userDetails,children:[p.jsx("div",{style:H.userName,children:e.name||"User"}),p.jsx("div",{style:H.userEmail,children:e.email})]})]}),p.jsxs("nav",{style:H.sidebarNav,children:[p.jsxs("button",{onClick:()=>z("/"),style:H.navItem,onMouseEnter:y=>{y.currentTarget.style.background="rgba(255, 214, 10, 0.15)",y.currentTarget.style.transform="translateX(5px)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.transform="translateX(0)"},children:[p.jsx("span",{style:H.navIcon,children:""}),p.jsx("span",{children:"Home"})]}),e?p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>z("/profile"),style:H.navItem,onMouseEnter:y=>{y.currentTarget.style.background="rgba(255, 214, 10, 0.15)",y.currentTarget.style.transform="translateX(5px)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.transform="translateX(0)"},children:[p.jsx("span",{style:H.navIcon,children:""}),p.jsx("span",{children:"Profile"})]}),p.jsxs("button",{onClick:()=>z("/my-vacants"),style:H.navItem,onMouseEnter:y=>{y.currentTarget.style.background="rgba(255, 214, 10, 0.15)",y.currentTarget.style.transform="translateX(5px)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.transform="translateX(0)"},children:[p.jsx("span",{style:H.navIcon,children:""}),p.jsx("span",{children:"My Vacants"})]}),p.jsxs("button",{onClick:()=>z("/your-requests"),style:H.navItem,onMouseEnter:y=>{y.currentTarget.style.background="rgba(255, 214, 10, 0.15)",y.currentTarget.style.transform="translateX(5px)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.transform="translateX(0)"},children:[p.jsx("span",{style:H.navIcon,children:""}),p.jsx("span",{children:"My Requests"})]}),p.jsxs("button",{onClick:()=>z("/create-vacant"),style:H.navItem,onMouseEnter:y=>{y.currentTarget.style.background="rgba(255, 214, 10, 0.15)",y.currentTarget.style.transform="translateX(5px)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.transform="translateX(0)"},children:[p.jsx("span",{style:H.navIcon,children:""}),p.jsx("span",{children:"Create Vacant"})]}),p.jsx("div",{style:H.divider}),p.jsxs("button",{onClick:async()=>{try{await vx(),D(!1),t("/login")}catch(y){console.error("Logout error:",y),t("/login")}},style:{...H.navItem,color:"#ff6b6b"},onMouseEnter:y=>{y.currentTarget.style.background="rgba(255, 107, 107, 0.15)",y.currentTarget.style.transform="translateX(5px)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.transform="translateX(0)"},children:[p.jsx("span",{style:H.navIcon,children:""}),p.jsx("span",{children:"Logout"})]})]}):p.jsxs("button",{onClick:()=>z("/login"),style:H.navItem,onMouseEnter:y=>{y.currentTarget.style.background="rgba(255, 214, 10, 0.15)",y.currentTarget.style.transform="translateX(5px)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.transform="translateX(0)"},children:[p.jsx("span",{style:H.navIcon,children:""}),p.jsx("span",{children:"Login"})]})]}),p.jsxs("div",{style:H.sidebarFooter,children:[p.jsx("p",{style:H.footerText,children:" 2024 Hangg Out"}),p.jsx("p",{style:H.footerSubtext,children:"Version 1.0.0"})]})]}),p.jsxs("section",{style:H.heroSection,children:[p.jsx("h1",{style:H.heroTitle,children:"Join People. Create Vacants. Hangout Together."}),p.jsx("p",{style:H.heroSubtitle,children:"Find open spots in games, trips, activities  or create your own vacant."})]}),p.jsx("section",{style:H.categorySection,children:p.jsx("div",{className:"container",children:p.jsxs("div",{style:H.categoriesGrid,children:[C.map(y=>p.jsxs("div",{style:H.tabContainer,children:[p.jsx("div",{style:{...H.tabItem,...a===y.id?H.tabItemActive:{}},onClick:()=>l(y.id),onMouseEnter:b=>{a!==y.id&&(b.currentTarget.style.transform="translateY(-5px)",b.currentTarget.style.boxShadow="0 8px 16px rgba(255, 214, 10, 0.3)")},onMouseLeave:b=>{a!==y.id&&(b.currentTarget.style.transform="translateY(0)",b.currentTarget.style.boxShadow="none")},children:y.isEmoji?p.jsx("span",{style:H.tabIconEmoji,children:y.icon}):p.jsx("img",{src:y.icon,alt:y.name,style:H.tabIconImg,onError:b=>{b.target.style.display="none"}})}),p.jsx("span",{style:H.tabName,children:y.name})]},y.id)),p.jsxs("div",{style:H.tabContainer,children:[p.jsx("div",{style:H.tabItemCreate,onClick:A,onMouseEnter:y=>{y.currentTarget.style.transform="translateY(-5px)",y.currentTarget.style.boxShadow="0 8px 16px rgba(255, 214, 10, 0.5)"},onMouseLeave:y=>{y.currentTarget.style.transform="translateY(0)",y.currentTarget.style.boxShadow="none"},children:p.jsx("span",{style:H.createIcon,children:"+"})}),p.jsx("span",{style:H.tabName,children:"Create Vacant"})]})]})})}),p.jsx("section",{style:H.vacantsSection,children:p.jsxs("div",{className:"container",children:[p.jsx("h2",{style:H.sectionTitle,children:"Available Vacants"}),m?p.jsxs("div",{style:H.loadingContainer,children:[p.jsx("div",{style:H.spinner}),p.jsx("p",{style:H.loadingText,children:"Loading vacants..."})]}):r.length===0?p.jsxs("div",{style:H.emptyState,children:[p.jsx("span",{style:H.emptyIcon,children:""}),p.jsx("p",{style:H.noResults,children:"No vacants found"}),p.jsx("p",{style:H.emptySubtext,children:"Try adjusting your search or filters"})]}):p.jsx("div",{style:H.vacantsGrid,children:r.map(y=>p.jsxs("div",{style:H.vacantCard,onClick:()=>t(`/vacant/${y.id}`),onMouseEnter:b=>{b.currentTarget.style.transform="translateY(-5px)",b.currentTarget.style.boxShadow="0 10px 20px rgba(255, 214, 10, 0.2)"},onMouseLeave:b=>{b.currentTarget.style.transform="translateY(0)",b.currentTarget.style.boxShadow="none"},children:[p.jsxs("div",{style:H.cardHeader,children:[p.jsx("h3",{style:H.cardTitle,children:y.title}),p.jsx("span",{style:H.categoryBadge,children:y.category})]}),p.jsxs("div",{style:H.cardBody,children:[p.jsxs("p",{children:[" ",y.area,", ",y.city]}),p.jsxs("p",{children:[" ",y.date," ",y.time&&` ${y.time}`]}),p.jsxs("p",{children:[" Need ",y.requiredPersons," person(s)"]}),p.jsxs("p",{style:H.creatorText,children:["By: ",y.creatorName]})]})]},y.id))})]})}),e&&p.jsx("button",{style:H.floatingButton,onClick:()=>t("/your-requests"),onMouseEnter:y=>{y.currentTarget.style.transform="scale(1.1) rotate(5deg)",y.currentTarget.style.boxShadow="0 8px 20px rgba(255, 214, 10, 0.6)"},onMouseLeave:y=>{y.currentTarget.style.transform="scale(1) rotate(0deg)",y.currentTarget.style.boxShadow="0 4px 12px rgba(255, 214, 10, 0.4)"},title:"My Requests","aria-label":"My Requests",children:p.jsx("span",{style:H.floatingButtonIcon,children:""})})]})}const H={container:{minHeight:"100vh",background:"var(--bg-black)",position:"relative"},searchSection:{background:"var(--yellow",padding:"14px 20px",marginBottom:"20px",position:"sticky",top:0,zIndex:100,boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)"},searchContainer:{display:"flex",gap:"20px",alignItems:"center",maxWidth:"1200px",margin:"0 auto",flexWrap:"wrap"},hamburgerButton:{background:"transparent",border:"none",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",borderRadius:"0",zIndex:1001,transition:"all 0.3s ease",boxShadow:"none",outline:"none"},hamburgerIcon:{fontSize:"28px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},searchInputWrapper:{position:"relative",flex:"1",minWidth:"250px",display:"flex",alignItems:"center"},searchIcon:{position:"absolute",left:"16px",fontSize:"18px",zIndex:1,pointerEvents:"none"},searchInput:{width:"100%",padding:"12px 16px 12px 45px",borderRadius:"15px",border:"none",fontSize:"18px",fontWeight:"bold",background:"white",height:"50px"},locationInputWrapper:{position:"relative",flex:"1",minWidth:"250px",display:"flex",alignItems:"center"},locationIcon:{position:"absolute",left:"18px",fontSize:"22px",zIndex:1,pointerEvents:"none"},locationInput:{width:"100%",padding:"12px 16px 12px 45px",borderRadius:"15px",border:"none",fontSize:"18px",fontWeight:"bold",background:"white",height:"50px"},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(2px)",zIndex:998,transition:"opacity 0.3s ease"},sidebar:{position:"fixed",top:0,left:0,width:"300px",height:"100vh",background:"linear-gradient(180deg, #1a1f2e 0%, #0f1419 100%)",zIndex:999,padding:"0",boxShadow:"4px 0 20px rgba(0, 0, 0, 0.5)",transition:"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",flexDirection:"column",overflow:"hidden"},sidebarHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 214, 10, 0.05)"},logoContainer:{display:"flex",alignItems:"center",gap:"12px"},logoIcon:{width:"45px",height:"45px",background:"black",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"26px",fontWeight:"bold",color:"yellow",boxShadow:"0 4px 10px rgba(255, 214, 10, 0.3)"},logoText:{fontSize:"22px",fontWeight:"bold",background:"linear-gradient(135deg, #ffd60a 0%, #ffa500 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",margin:0},closeButton:{background:"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",transition:"all 0.2s ease"},userInfo:{display:"flex",alignItems:"center",gap:"15px",padding:"20px",background:"rgba(255, 214, 10, 0.05)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},userAvatar:{width:"50px",height:"50px",borderRadius:"50%",background:"var(--yellow)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",boxShadow:"0 2px 8px rgba(255, 214, 10, 0.3)"},avatarImg:{width:"100%",height:"100%",objectFit:"cover"},avatarFallback:{fontSize:"24px",fontWeight:"bold",color:"#000"},userDetails:{flex:1,overflow:"hidden"},userName:{color:"#fff",fontSize:"16px",fontWeight:"600",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},userEmail:{color:"#999",fontSize:"13px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},sidebarNav:{flex:1,display:"flex",flexDirection:"column",gap:"2px",padding:"20px",overflowY:"auto"},navItem:{display:"flex",alignItems:"center",gap:"15px",padding:"15px 20px",color:"#fff",background:"transparent",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"500",transition:"all 0.2s ease",cursor:"pointer",textAlign:"left",width:"100%"},navIcon:{fontSize:"22px",width:"28px",display:"flex",alignItems:"center",justifyContent:"center"},divider:{height:"1px",background:"rgba(255, 255, 255, 0.1)",margin:"10px 0"},sidebarFooter:{padding:"20px",borderTop:"1px solid rgba(255, 255, 255, 0.1)",textAlign:"center"},footerText:{color:"#666",fontSize:"12px",margin:"0 0 4px 0"},footerSubtext:{color:"#555",fontSize:"11px",margin:0},heroSection:{padding:"40px 20px",textAlign:"center"},heroTitle:{fontSize:"32px",fontWeight:"bold",marginBottom:"12px",color:"var(--white)"},heroSubtitle:{fontSize:"20px",color:"var(--gray)"},categorySection:{padding:"20px 0"},categoriesGrid:{display:"flex",gap:"20px",justifyContent:"center",flexWrap:"wrap"},tabContainer:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",cursor:"pointer"},tabItem:{width:"100px",height:"100px",background:"var(--bg-card)",border:"2px solid var(--border)",borderRadius:"var(--radius)",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",cursor:"pointer",overflow:"hidden"},tabItemActive:{borderColor:"var(--yellow)",backgroundColor:"rgba(255, 214, 10, 0.1)",transform:"translateY(-5px)",boxShadow:"0 8px 16px rgba(255, 214, 10, 0.3)"},tabItemCreate:{width:"100px",height:"100px",background:"var(--yellow)",border:"2px solid var(--yellow)",borderRadius:"var(--radius)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease"},tabIconEmoji:{fontSize:"55px"},tabIconImg:{width:"90px",height:"90px",objectFit:"contain",filter:"brightness(1.2) contrast(1.1)"},createIcon:{fontSize:"80px",fontWeight:"bold",color:"var(--bg-black)",marginTop:"-20px"},tabName:{fontSize:"16.5px",fontWeight:"400",color:"var(--white)",textAlign:"center"},vacantsSection:{padding:"40px 20px"},sectionTitle:{color:"var(--yellow)",marginBottom:"20px",fontSize:"25px"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 20px"},spinner:{width:"50px",height:"50px",border:"4px solid rgba(255, 214, 10, 0.2)",borderTop:"4px solid var(--yellow)",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"},loadingText:{color:"var(--yellow)",textAlign:"center",fontSize:"17px"},emptyState:{textAlign:"center",padding:"60px 20px"},emptyIcon:{fontSize:"80px",display:"block",marginBottom:"20px",opacity:.5},noResults:{color:"var(--gray)",textAlign:"center",fontSize:"20px",marginBottom:"10px"},emptySubtext:{color:"#666",fontSize:"14px"},vacantsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gap:"20px"},vacantCard:{background:"#1a2332",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"18px",cursor:"pointer",transition:"all 0.3s ease",position:"relative"},cardHeader:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"16px"},cardTitle:{color:"var(--yellow)",margin:0,fontSize:"22px",fontWeight:"600",flex:1,paddingRight:"12px"},categoryBadge:{background:"var(--yellow)",color:"#000",padding:"8px 22px",borderRadius:"20px",fontSize:"18px",fontWeight:"700",textTransform:"capitalize",whiteSpace:"nowrap"},cardBody:{color:"#a0aec0",fontSize:"18px",lineHeight:"1.8",display:"flex",flexDirection:"column",gap:"8px"},creatorText:{color:"#6b7280",fontSize:"18px",marginTop:"4px",fontStyle:"italic"},floatingButton:{position:"fixed",bottom:"20px",right:"20px",width:"65px",height:"65px",borderRadius:"50%",background:"linear-gradient(135deg, #ffd700 0%, #ffed4e 50%, #ffd700 100%)",color:"#0a0a0a",border:"none",fontSize:"28px",cursor:"pointer",boxShadow:"0 4px 12px rgba(255, 214, 10, 0.4)",zIndex:999,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",animation:"pulse 2s infinite"},floatingButtonIcon:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"30px"}},jh="/Hanggout/assets/logo-CpgA66DM.png";function rV(){const t=xn(),[e,n]=Fr.useState(!1),[i,r]=Fr.useState(""),s=async()=>{try{n(!0),r(""),await GM(),t("/"),window.location.reload()}catch(a){r("Failed to sign in with Google. Please try again."),console.error("Sign in error:",a)}finally{n(!1)}};return p.jsx("div",{style:ki.container,children:p.jsxs("div",{style:ki.loginBox,children:[p.jsx("img",{src:jh,alt:"Hangg-Out",style:ki.logo}),p.jsx("h1",{style:ki.title,children:"Welcome to Hangg-Out"}),p.jsx("p",{style:ki.subtitle,children:"Find your people. Create vacants. Have fun together."}),i&&p.jsx("p",{style:ki.errorMsg,children:i}),p.jsx("button",{onClick:s,disabled:e,style:ki.googleBtn,children:e?"Signing in...":" Sign in with Google"}),p.jsx("p",{style:ki.helpText,children:"We only use your Google account for secure authentication. No passwords needed!"})]})})}const ki={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, var(--bg-black) 0%, var(--bg-card) 100%)",padding:"20px",margin:"-35px auto"},loginBox:{background:"#ade6e285",border:"1px solid var(--border)",borderRadius:"var(--radius)",padding:"40px",maxWidth:"400px",width:"100%",textAlign:"center",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",margin:"auto"},logo:{width:"80px",height:"80px",marginBottom:"20px"},title:{fontSize:"28px",fontWeight:"bold",marginBottom:"12px",color:"var(--yellow)"},subtitle:{fontSize:"13px",fontWeight:"400",color:"var(--gray)",marginBottom:"32px"},googleBtn:{width:"100%",padding:"14px",background:"var(--yellow)",color:"var(--bg-black)",border:"none",borderRadius:"var(--radius)",fontWeight:"600",fontSize:"16px",cursor:"pointer",transition:"background 0.3s ease",marginBottom:"20px",disabled:{opacity:.6,cursor:"not-allowed"}},helpText:{fontSize:"12px",color:"var(--gray)",margin:0},errorMsg:{color:"#ff6b6b",marginBottom:"20px",padding:"12px",background:"rgba(255, 107, 107, 0.1)",borderRadius:"var(--radius)",fontSize:"14px"}},sV=["Cricket","Badminton","Chess","Roaming","Other"];function aV(){const t=xn(),{user:e}=_s(),[n,i]=k.useState(!1),[r,s]=k.useState(""),[a,l]=k.useState(!1),[u,c]=k.useState({title:"",category:"Cricket",description:"",area:"",city:"",date:"",time:"",requiredPersons:1}),f=new Date().toISOString().split("T")[0];if(!e)return p.jsx("div",{style:re.container,children:p.jsxs("div",{style:re.card,children:[p.jsx("p",{style:re.errorText,children:"Please login to create a vacant"}),p.jsx("button",{style:re.btn,onClick:()=>t("/login"),children:"Go to Login"})]})});const g=R=>{const{name:D,value:C}=R.target;c(S=>({...S,[D]:D==="requiredPersons"?parseInt(C)||1:C})),r&&s("")},m=()=>u.title.trim()?u.area.trim()?u.city.trim()?u.date?u.requiredPersons<1||u.requiredPersons>20?(s("Required persons must be between 1 and 20"),!1):!0:(s("Date is required"),!1):(s("City is required"),!1):(s("Area/Venue is required"),!1):(s("Title is required"),!1),_=async R=>{if(R.preventDefault(),s(""),l(!1),!!m()){i(!0);try{const D={title:u.title.trim(),category:u.category,description:u.description.trim(),area:u.area.trim(),city:u.city.trim(),date:u.date,time:u.time||"TBD",requiredPersons:Number(u.requiredPersons),creatorId:e.uid,creatorName:e.name||e.email,creatorEmail:e.email,status:"open",createdAt:new Date().toISOString()};console.log("Submitting vacant data:",D),console.log("User ID:",e.uid);const C=await KM(D,e.uid);console.log("Vacant created successfully with ID:",C),l(!0),setTimeout(()=>{t("/my-vacants")},1500)}catch(D){console.error("Error creating vacant:",D),s(D.message||"Failed to create vacant. Please try again.")}finally{i(!1)}}};return p.jsx("div",{style:re.container,children:p.jsx("div",{className:"container",children:p.jsxs("div",{style:re.card,children:[p.jsx("h1",{style:re.title,children:"Create a New Vacant"}),r&&p.jsxs("div",{style:re.errorBox,children:[p.jsx("strong",{children:"Error:"})," ",r]}),a&&p.jsxs("div",{style:re.successBox,children:[p.jsx("strong",{children:"Success!"})," Vacant created successfully. Redirecting..."]}),p.jsxs("form",{onSubmit:_,style:re.form,children:[p.jsxs("div",{style:re.formGroup,children:[p.jsx("label",{style:re.label,children:"Vacant Title *"}),p.jsx("input",{type:"text",name:"title",value:u.title,onChange:g,placeholder:"e.g., Cricket match - Need 2 players",required:!0,style:re.input,disabled:n})]}),p.jsxs("div",{style:re.formGroup,children:[p.jsx("label",{style:re.label,children:"Category *"}),p.jsx("select",{name:"category",value:u.category,onChange:g,style:re.input,disabled:n,children:sV.map(R=>p.jsx("option",{value:R,children:R},R))})]}),p.jsxs("div",{style:re.formGroup,children:[p.jsx("label",{style:re.label,children:"Description"}),p.jsx("textarea",{name:"description",value:u.description,onChange:g,placeholder:"Describe your vacant... (optional)",style:re.textarea,disabled:n})]}),p.jsxs("div",{style:re.row,children:[p.jsxs("div",{style:re.formGroup,children:[p.jsx("label",{style:re.label,children:"Area/Venue *"}),p.jsx("input",{type:"text",name:"area",value:u.area,onChange:g,placeholder:"e.g., Koramangala",required:!0,style:re.input,disabled:n})]}),p.jsxs("div",{style:re.formGroup,children:[p.jsx("label",{style:re.label,children:"City *"}),p.jsx("input",{type:"text",name:"city",value:u.city,onChange:g,placeholder:"e.g., Bangalore",required:!0,style:re.input,disabled:n})]})]}),p.jsxs("div",{style:re.row,children:[p.jsxs("div",{style:re.formGroup,children:[p.jsx("label",{style:re.label,children:"Date *"}),p.jsx("input",{type:"date",name:"date",value:u.date,onChange:g,min:f,required:!0,style:re.input,disabled:n})]}),p.jsxs("div",{style:re.formGroup,children:[p.jsx("label",{style:re.label,children:"Time"}),p.jsx("input",{type:"time",name:"time",value:u.time,onChange:g,style:re.input,disabled:n})]})]}),p.jsxs("div",{style:re.formGroup,children:[p.jsx("label",{style:re.label,children:"People Needed *"}),p.jsx("input",{type:"number",name:"requiredPersons",value:u.requiredPersons,onChange:g,min:"1",max:"20",required:!0,style:re.input,disabled:n}),p.jsx("small",{style:re.helpText,children:"How many people do you need? (1-20)"})]}),p.jsxs("div",{style:re.buttonGroup,children:[p.jsx("button",{type:"submit",disabled:n||a,style:{...re.submitBtn,opacity:n||a?.6:1,cursor:n||a?"not-allowed":"pointer"},children:n?"Creating...":a?"Created!":"Create Vacant"}),p.jsx("button",{type:"button",onClick:()=>t("/"),style:re.cancelBtn,disabled:n,children:"Cancel"})]})]})]})})})}const re={container:{minHeight:"100vh",background:"var(--bg-black)",padding:"40px 20px"},card:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"var(--radius)",padding:"32px",maxWidth:"600px",margin:"0 auto"},title:{color:"var(--yellow)",marginBottom:"24px",fontSize:"28px",margin:"0 0 24px 0"},errorBox:{background:"rgba(255, 107, 107, 0.1)",color:"#ff6b6b",padding:"12px 16px",borderRadius:"var(--radius)",marginBottom:"20px",fontSize:"14px",border:"1px solid rgba(255, 107, 107, 0.3)"},successBox:{background:"rgba(76, 175, 80, 0.1)",color:"#4caf50",padding:"12px 16px",borderRadius:"var(--radius)",marginBottom:"20px",fontSize:"14px",border:"1px solid rgba(76, 175, 80, 0.3)"},form:{display:"flex",flexDirection:"column",gap:"20px"},formGroup:{display:"flex",flexDirection:"column",flex:1},label:{color:"var(--white)",marginBottom:"8px",fontWeight:"500",fontSize:"14px"},input:{padding:"10px 12px",background:"var(--bg-black)",border:"1px solid var(--border)",borderRadius:"var(--radius)",color:"var(--white)",fontSize:"14px",fontFamily:"inherit",transition:"border-color 0.2s"},textarea:{padding:"10px 12px",background:"var(--bg-black)",border:"1px solid var(--border)",borderRadius:"var(--radius)",color:"var(--white)",fontSize:"14px",fontFamily:"inherit",minHeight:"100px",resize:"vertical"},helpText:{color:"var(--gray)",fontSize:"12px",marginTop:"4px"},row:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},buttonGroup:{display:"flex",gap:"12px",marginTop:"24px"},submitBtn:{flex:1,padding:"12px 24px",background:"var(--yellow)",color:"var(--bg-black)",border:"none",borderRadius:"var(--radius)",fontWeight:"600",cursor:"pointer",fontSize:"16px",transition:"opacity 0.2s"},cancelBtn:{flex:1,padding:"12px 24px",background:"var(--bg-black)",color:"var(--white)",border:"1px solid var(--border)",borderRadius:"var(--radius)",fontWeight:"600",cursor:"pointer",fontSize:"16px"},errorText:{color:"var(--gray)",textAlign:"center",marginBottom:"16px"},btn:{background:"var(--yellow)",color:"var(--bg-black)",border:"none",padding:"10px 20px",borderRadius:"var(--radius)",cursor:"pointer",fontWeight:"600",width:"100%"}},oV=async t=>{try{if(console.log("Creating request with data:",t),!t.vacantId)throw new Error("Vacant ID is required");if(!t.requesterUid)throw new Error("User authentication required");if(!t.requesterName)throw new Error("Requester name is required");if(!t.requesterEmail)throw new Error("Requester email is required");if(!t.numberOfPersons||t.numberOfPersons<1)throw new Error("Number of persons must be at least 1");if(!t.gender)throw new Error("Gender selection is required");const e=Number(t.numberOfPersons);if(e<=0||e>20)throw new Error("Number of persons must be between 1 and 20");const n={...t,numberOfPersons:e,status:"pending",message:t.message||"",tagUsers:t.tagUsers||"",createdAt:wi(),updatedAt:wi()};if(!n.requesterName.trim())throw new Error("Requester name cannot be empty");if(!n.requesterEmail.trim())throw new Error("Requester email cannot be empty");if(!n.vacantId.trim())throw new Error("Vacant ID cannot be empty");if(!n.requesterUid.trim())throw new Error("User ID cannot be empty");const i=await kh(hn(yt,"requests"),n);return console.log("Request created successfully with ID:",i.id),console.log("Final payload:",n),i.id}catch(e){throw console.error("Error raising request:",e),console.error("Error details:",e.message),e}},_x=async t=>{try{const e=Sr(hn(yt,"requests"),Ea("requesterUid","==",t)),n=await xr(e),i=[];return n.forEach(r=>{i.push({id:r.id,...r.data()})}),i.sort((r,s)=>{var u,c;const a=((u=r.createdAt)==null?void 0:u.seconds)||0;return(((c=s.createdAt)==null?void 0:c.seconds)||0)-a}),console.log(`Fetched ${i.length} requests for user ${t}`),i.length>0&&console.log("Sample request data:",i[0]),i}catch(e){throw console.error("Error getting user requests:",e),e}},M0=async(t,e,n={})=>{try{const i=Pa(yt,"requests",t);return await Vh(i,{status:e,...n,updatedAt:wi()}),console.log("Request status updated to:",e),!0}catch(i){throw console.error("Error updating request status:",i),i}},lV=async t=>{try{console.log("Fetching requests for vacants created by:",t);const e=Sr(hn(yt,"vacants"),Ea("creatorUid","==",t)),n=await xr(e),i=[];if(n.forEach(a=>{i.push(a.id)}),i.length===0)return console.log("No vacants found for user"),[];console.log(`Found ${i.length} vacants for user:`,i);const r=[],s=[];for(let a=0;a<i.length;a+=10)s.push(i.slice(a,a+10));for(const a of s){const l=Sr(hn(yt,"requests"),Ea("vacantId","in",a));(await xr(l)).forEach(c=>{r.push({id:c.id,...c.data()})})}return r.sort((a,l)=>{var f,g;const u=((f=a.createdAt)==null?void 0:f.seconds)||0;return(((g=l.createdAt)==null?void 0:g.seconds)||0)-u}),console.log(`Fetched ${r.length} requests for user's vacants`),r.length>0&&console.log("Sample received request:",r[0]),r}catch(e){throw console.error("Error getting pending requests:",e),console.error("Error details:",e.message),e}};function uV(){const{id:t}=QE(),e=xn(),{user:n}=_s(),[i,r]=k.useState(null),[s,a]=k.useState(!0),[l,u]=k.useState(!1),[c,f]=k.useState(!1),[g,m]=k.useState(!1);k.useEffect(()=>{t&&_()},[t,n]);const _=async()=>{try{a(!0);const S=await ia(t);if(r(S),n!=null&&n.uid)try{const A=(await _x(n.uid)).some(M=>M.vacantId===t);m(A)}catch(T){console.error("Error checking requests:",T),m(!1)}}catch(S){console.error("Error loading vacant:",S)}finally{a(!1)}},R=()=>{if(!n){e("/login");return}e(`/raise-request?vacantId=${t}`)};if(s)return p.jsx("div",{style:ce.container,children:p.jsx("p",{style:ce.loadingText,children:"Loading..."})});if(!i)return p.jsxs("div",{style:ce.container,children:[p.jsx("p",{style:ce.errorText,children:"Vacant not found"}),p.jsx("button",{style:ce.btn,onClick:()=>e("/"),children:"Back to Home"})]});const D=i.creatorUid===(n==null?void 0:n.uid),C=i.status==="closed";return p.jsx("div",{style:ce.container,children:p.jsxs("div",{className:"container",children:[p.jsx("button",{style:{...ce.backBtn,background:l?"black":"yellow",color:l?"yellow":"black",borderColor:l?"yellow":"var(--border)"},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:()=>e("/"),children:" Back"}),p.jsxs("div",{style:ce.detailsCard,children:[p.jsxs("div",{style:ce.header,children:[p.jsx("h1",{style:ce.title,children:i.title}),p.jsx("span",{style:ce.badge,children:i.category})]}),p.jsxs("div",{style:ce.infoGrid,children:[p.jsxs("div",{style:ce.infoItem,children:[p.jsx("span",{style:ce.label,children:" Location"}),p.jsxs("p",{children:[i.area,", ",i.city]})]}),p.jsxs("div",{style:ce.infoItem,children:[p.jsx("span",{style:ce.label,children:" Date"}),p.jsx("p",{children:i.date})]}),p.jsxs("div",{style:ce.infoItem,children:[p.jsx("span",{style:ce.label,children:" Time"}),p.jsx("p",{children:i.time||"Not specified"})]}),p.jsxs("div",{style:ce.infoItem,children:[p.jsx("span",{style:ce.label,children:" People Needed"}),p.jsx("p",{children:i.requiredPersons})]}),p.jsxs("div",{style:ce.infoItem,children:[p.jsx("span",{style:ce.label,children:" Applied"}),p.jsxs("p",{children:[i.applied||0," / ",i.requiredPersons]})]}),p.jsxs("div",{style:ce.infoItem,children:[p.jsx("span",{style:ce.label,children:" Status"}),p.jsx("p",{style:{color:i.status==="open"?"#4caf50":"#ff9800",fontWeight:"600"},children:i.status==="open"?"Open":"Closed"})]})]}),p.jsxs("div",{style:ce.descriptionSection,children:[p.jsx("h3",{style:ce.sectionTitle,children:"Description"}),p.jsx("p",{children:i.description||"No description provided"})]}),p.jsxs("div",{style:ce.creatorSection,children:[p.jsx("h3",{style:ce.sectionTitle,children:"Created by"}),p.jsxs("div",{style:ce.creatorInfo,children:[p.jsx("img",{src:jh,alt:i.creatorName,style:ce.creatorImg}),p.jsxs("div",{children:[p.jsx("p",{style:ce.creatorName,children:i.creatorName}),p.jsx("p",{style:ce.creatorEmail,children:i.creatorEmail})]})]})]}),g?p.jsx("div",{style:ce.appliedBox,children:" You have already sent a request for this vacant"}):D?p.jsx("div",{style:ce.infoBox,children:"This is your vacant. You cannot apply to it."}):C?p.jsx("div",{style:ce.infoBox,children:"This vacant is full. No more applications accepted."}):p.jsx("button",{style:{...ce.joinBtn,background:c?"var(--bg-black)":"var(--yellow)",color:c?"var(--yellow)":"var(--bg-black)",border:c?"2px solid var(--yellow)":"none"},onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onClick:R,children:"Send Request to Join"})]})]})})}const ce={container:{minHeight:"100vh",background:"var(--bg-black)",padding:"20px"},loadingText:{color:"var(--gray)",textAlign:"center",fontSize:"16px"},backBtn:{border:"1px solid var(--border)",padding:"10px 16px",borderRadius:"var(--radius)",cursor:"pointer",marginBottom:"20px",fontWeight:"bold",transition:"all 0.3s ease"},detailsCard:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"var(--radius)",padding:"32px",maxWidth:"800px",margin:"0 auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"24px"},title:{color:"var(--yellow)",margin:0,fontSize:"28px"},badge:{background:"var(--yellow)",color:"var(--bg-black)",padding:"8px 16px",borderRadius:"20px",fontWeight:"600",fontSize:"14px"},appliedBox:{background:"rgba(76, 175, 80, 0.1)",color:"#4caf50",padding:"16px",borderRadius:"var(--radius)",textAlign:"center",fontWeight:"600",border:"1px solid rgba(76, 175, 80, 0.3)"},infoBox:{background:"rgba(255, 152, 0, 0.1)",color:"#ff9800",padding:"16px",borderRadius:"var(--radius)",textAlign:"center",fontWeight:"600",border:"1px solid rgba(255, 152, 0, 0.3)"},infoGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px",marginBottom:"32px"},infoItem:{borderLeft:"3px solid var(--yellow)",paddingLeft:"16px"},label:{display:"block",color:"var(--gray)",fontSize:"12px",marginBottom:"4px"},descriptionSection:{marginBottom:"32px",borderTop:"1px solid var(--border)",paddingTop:"24px"},sectionTitle:{color:"var(--yellow)",margin:"0 0 12px 0",fontSize:"18px"},creatorSection:{marginBottom:"32px",borderTop:"1px solid var(--border)",paddingTop:"24px"},creatorInfo:{display:"flex",alignItems:"center",gap:"16px"},creatorImg:{width:"60px",height:"60px",borderRadius:"50%",border:"2px solid var(--yellow)",objectFit:"cover"},creatorName:{margin:0,color:"var(--white)",fontWeight:"600"},creatorEmail:{margin:"4px 0 0 0",color:"var(--gray)",fontSize:"14px"},joinBtn:{width:"100%",padding:"16px",background:"var(--yellow)",color:"var(--bg-black)",border:"none",borderRadius:"var(--radius)",fontWeight:"600",fontSize:"16px",cursor:"pointer",transition:"all 0.3s ease"},errorText:{color:"var(--gray)",textAlign:"center"},btn:{background:"var(--yellow)",color:"var(--bg-black)",border:"none",padding:"10px 20px",borderRadius:"var(--radius)",cursor:"pointer",fontWeight:"600"}};function cV(){const t=xn(),{user:e,loading:n}=_s(),[i,r]=k.useState("created"),[s,a]=k.useState([]),[l,u]=k.useState([]),[c,f]=k.useState(!0),[g,m]=k.useState(null);k.useEffect(()=>{if(!n&&!e){t("/login");return}e&&_()},[e,n,t]);const _=async()=>{try{f(!0),m(null),console.log("Loading vacants for user:",e.uid);const[S,T]=await Promise.all([$M(e.uid),WM(e.uid)]);console.log("Created vacants:",S),console.log("Joined vacants:",T),a(S||[]),u(T||[])}catch(S){console.error("Error loading vacants:",S),m(S.message)}finally{f(!1)}},R=S=>S?new Date(S).toLocaleDateString("en-GB"):"N/A",D=S=>S;if(n)return p.jsx("div",{style:_e.container,children:p.jsx("div",{style:_e.loadingContainer,children:p.jsx("p",{style:_e.loadingText,children:"Loading..."})})});if(!e)return null;const C=i==="created"?s:l;return p.jsx("div",{style:_e.container,children:p.jsxs("div",{style:_e.content,children:[p.jsxs("div",{style:_e.tabs,children:[p.jsx("button",{style:{..._e.tab,...i==="created"?_e.activeTab:{}},onClick:()=>r("created"),children:"Created Vacants"}),p.jsx("button",{style:{..._e.tab,...i==="joined"?_e.activeTab:{}},onClick:()=>r("joined"),children:"Joined Vacants"})]}),g&&p.jsxs("div",{style:_e.errorBox,children:[p.jsxs("p",{children:["Error: ",g]}),p.jsx("button",{style:_e.retryBtn,onClick:_,children:"Retry"})]}),c?p.jsx("p",{style:_e.loadingText,children:"Loading vacants..."}):C.length===0?p.jsxs("div",{style:_e.emptyState,children:[p.jsx("p",{children:i==="created"?"You haven't created any vacants yet":"You haven't joined any vacants yet"}),i==="created"&&p.jsx("button",{style:_e.primaryBtn,onClick:()=>t("/create-vacant"),children:"Create Your First Vacant"})]}):p.jsx("div",{style:_e.vacantsContainer,children:C.map(S=>{var T,A;return p.jsxs("div",{style:_e.card,children:[p.jsx("h3",{style:_e.cardTitle,children:S.title}),p.jsxs("div",{style:_e.cardInfo,children:[p.jsxs("p",{style:_e.infoRow,children:[p.jsx("span",{style:_e.icon,children:""}),S.area,", ",S.city]}),p.jsxs("p",{style:_e.infoRow,children:[p.jsx("span",{style:_e.icon,children:""}),R(S.date),p.jsx("span",{style:_e.icon,children:" "}),D(S.time)]}),p.jsxs("p",{style:_e.infoRow,children:[p.jsx("span",{style:_e.icon,children:""}),"Accepted: ",((T=S.applicants)==null?void 0:T.length)||0," |",p.jsx("span",{style:_e.icon,children:" "}),"Pending: ",Math.max(0,S.requiredPersons-(((A=S.applicants)==null?void 0:A.length)||0))]})]}),p.jsxs("div",{style:_e.cardActions,children:[p.jsx("button",{style:_e.viewBtn,onClick:()=>t(`/vacant/${S.id}`),children:"View Details"}),i==="created"&&p.jsx("button",{style:_e.manageBtn,onClick:()=>t(`/manage-vacant/${S.id}`),children:"Manage"})]})]},S.id)})})]})})}const _e={container:{minHeight:"100vh",background:"#000",color:"#fff"},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},loadingText:{color:"#666",textAlign:"center",fontSize:"16px"},content:{padding:"0 40px 40px 40px"},tabs:{display:"flex",gap:"0",marginBottom:"40px",marginTop:"20px"},tab:{background:"#1a1a1a",color:"#666",border:"none",padding:"16px 40px",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease",borderRadius:"12px 12px 0 0"},activeTab:{background:"#ffd700",color:"#000"},errorBox:{background:"rgba(255, 68, 68, 0.1)",border:"1px solid #ff4444",color:"#ff4444",padding:"16px",borderRadius:"12px",marginBottom:"24px",textAlign:"center"},retryBtn:{marginTop:"12px",background:"#ff4444",color:"white",border:"none",padding:"8px 20px",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},emptyState:{textAlign:"center",padding:"80px 20px",color:"#888"},primaryBtn:{marginTop:"24px",background:"#ffd700",color:"#000",border:"none",padding:"14px 32px",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"15px"},vacantsContainer:{display:"flex",flexDirection:"column",gap:"16px",maxWidth:"100%"},card:{background:"#0f0f0f",border:"1px solid #222",borderRadius:"16px",padding:"24px 28px"},cardTitle:{color:"#ffd700",margin:"0 0 16px 0",fontSize:"22px",fontWeight:"600"},cardInfo:{marginBottom:"20px"},infoRow:{color:"#aaa",fontSize:"18px",margin:"8px 0",display:"flex",alignItems:"center",gap:"8px"},icon:{fontSize:"17px"},cardActions:{display:"flex",gap:"12px",marginTop:"20px"},viewBtn:{padding:"10px 20px",background:"#ffd700",color:"#000",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"16px",transition:"all 0.2s ease",width:"auto"},manageBtn:{padding:"10px 20px",background:"transparent",color:"#ffd700",border:"2px solid #ffd700",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"16px",transition:"all 0.2s ease",width:"auto"}};function hV(){const t=xn(),{user:e}=_s(),[n,i]=Fr.useState(!1),[r,s]=Fr.useState(""),[a,l]=Fr.useState({displayName:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",bio:"",favoriteGames:[]});if(!e)return p.jsx("div",{style:ke.container,children:p.jsxs("div",{style:ke.card,children:[p.jsx("p",{style:ke.errorText,children:"Please login to view your profile"}),p.jsx("button",{style:ke.btn,onClick:()=>t("/login"),children:"Go to Login"})]})});const u=f=>{const{name:g,value:m}=f.target;l(_=>({..._,[g]:m}))},c=async f=>{f.preventDefault(),i(!0);try{await JM(e.uid,a),s("Profile updated successfully!"),setTimeout(()=>s(""),3e3)}catch(g){console.error("Error updating profile:",g)}finally{i(!1)}};return p.jsx("div",{style:ke.container,children:p.jsx("div",{className:"container",children:p.jsxs("div",{style:ke.card,children:[p.jsxs("div",{style:ke.profileHeader,children:[p.jsx("img",{src:e.photo||jh,alt:e.name,style:ke.profileImg}),p.jsxs("div",{children:[p.jsx("h1",{style:ke.name,children:e.name}),p.jsx("p",{style:ke.email,children:e.email})]})]}),r&&p.jsx("p",{style:ke.successBox,children:r}),p.jsxs("form",{onSubmit:c,style:ke.form,children:[p.jsxs("div",{style:ke.formGroup,children:[p.jsx("label",{style:ke.label,children:"Display Name"}),p.jsx("input",{type:"text",name:"displayName",value:a.displayName,onChange:u,style:ke.input})]}),p.jsxs("div",{style:ke.formGroup,children:[p.jsx("label",{style:ke.label,children:"Email"}),p.jsx("input",{type:"email",value:e.email,disabled:!0,style:{...ke.input,opacity:.6}})]}),p.jsxs("div",{style:ke.formGroup,children:[p.jsx("label",{style:ke.label,children:"Phone"}),p.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:u,placeholder:"Your phone number",style:ke.input})]}),p.jsxs("div",{style:ke.formGroup,children:[p.jsx("label",{style:ke.label,children:"Bio"}),p.jsx("textarea",{name:"bio",value:a.bio,onChange:u,placeholder:"Tell us about yourself...",style:ke.textarea})]}),p.jsx("button",{type:"submit",disabled:n,style:{...ke.submitBtn,opacity:n?.6:1},children:n?"Saving...":"Save Profile"})]})]})})})}const ke={container:{minHeight:"100vh",background:"var(--bg-black)",padding:"40px 20px"},card:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"var(--radius)",padding:"32px",maxWidth:"600px",margin:"0 auto"},profileHeader:{display:"flex",alignItems:"center",gap:"20px",marginBottom:"32px",paddingBottom:"24px",borderBottom:"1px solid var(--border)"},profileImg:{width:"80px",height:"80px",borderRadius:"50%",border:"3px solid var(--yellow)",objectFit:"cover"},name:{margin:0,color:"var(--yellow)",fontSize:"24px"},email:{margin:"8px 0 0 0",color:"var(--gray)",fontSize:"14px"},successBox:{background:"rgba(74, 222, 128, 0.1)",color:"#4ade80",padding:"12px 16px",borderRadius:"var(--radius)",marginBottom:"20px",fontSize:"14px"},form:{display:"flex",flexDirection:"column",gap:"20px"},formGroup:{display:"flex",flexDirection:"column"},label:{color:"var(--white)",marginBottom:"8px",fontWeight:"500",fontSize:"14px"},input:{padding:"10px 12px",background:"var(--bg-black)",border:"1px solid var(--border)",borderRadius:"var(--radius)",color:"var(--white)",fontSize:"14px",fontFamily:"inherit"},textarea:{padding:"10px 12px",background:"var(--bg-black)",border:"1px solid var(--border)",borderRadius:"var(--radius)",color:"var(--white)",fontSize:"14px",fontFamily:"inherit",minHeight:"100px",resize:"vertical"},submitBtn:{padding:"12px 24px",background:"var(--yellow)",color:"var(--bg-black)",border:"none",borderRadius:"var(--radius)",fontWeight:"600",cursor:"pointer",fontSize:"16px",marginTop:"16px"},errorText:{color:"var(--gray)",textAlign:"center"},btn:{background:"var(--yellow)",color:"var(--bg-black)",border:"none",padding:"10px 20px",borderRadius:"var(--radius)",cursor:"pointer",fontWeight:"600"}};function fV(){var z;const t=xn(),[e]=F2(),n=e.get("vacantId"),[i,r]=k.useState({count:"",gender:"",message:"",tagUsers:"",vacantId:n||""}),[s,a]=k.useState({}),[l,u]=k.useState(""),[c,f]=k.useState(!1),[g,m]=k.useState(null),[_,R]=k.useState(null),[D,C]=k.useState(!1);k.useEffect(()=>{const B=JSON.parse(localStorage.getItem("hanggOutUser")||"null");if(R(B),!B){alert("Please login first"),t("/login");return}n?S(n):a({vacantId:"No vacant selected. Please go back and select a vacant."})},[n,t]);const S=async B=>{try{const E=await ia(B);E?(m(E),console.log("Loaded vacant:",E)):a({vacantId:"Vacant not found"})}catch(E){console.error("Error loading vacant:",E),a({vacantId:"Error loading vacant details"})}},T=B=>{const{name:E,value:y}=B.target;r(b=>({...b,[E]:y})),s[E]&&a(b=>({...b,[E]:""})),l&&u("")},A=()=>{var E;const B={};if((!i.count||i.count<1)&&(B.count="Please enter a valid number (at least 1)"),i.count>20&&(B.count="Maximum 20 people allowed"),i.gender||(B.gender="Please select a gender"),i.vacantId||(B.vacantId="Vacant ID missing"),g&&i.count){const y=g.requiredPersons-(((E=g.applicants)==null?void 0:E.length)||0);parseInt(i.count)>y&&(B.count=`Only ${y} spot(s) available`)}return a(B),Object.keys(B).length===0},M=async B=>{if(B.preventDefault(),u(""),a({}),!_){alert("Please login first"),t("/login");return}if(A()){f(!0);try{const E={requesterUid:_.uid,requesterName:_.name||_.email.split("@")[0],requesterEmail:_.email,numberOfPersons:parseInt(i.count,10),gender:i.gender,message:i.message.trim()||"",tagUsers:i.tagUsers.trim()||"",vacantId:i.vacantId,status:"pending",vacantTitle:(g==null?void 0:g.title)||"",vacantCategory:(g==null?void 0:g.category)||""};console.log("Submitting request with payload:",E);const y=await oV(E);console.log("Request created successfully with ID:",y),u("Request submitted successfully! Redirecting..."),r({count:"",gender:"",message:"",tagUsers:"",vacantId:i.vacantId}),setTimeout(()=>{t(-1)},1500)}catch(E){console.error("Error submitting request:",E),a({submit:E.message||"Error submitting request. Please try again."})}finally{f(!1)}}};return _?p.jsx("div",{style:Se.container,children:p.jsxs("div",{style:Se.formBox,children:[p.jsx("button",{style:{...Se.backBtn,background:D?"black":"yellow",color:D?"yellow":"black",borderColor:D?"yellow":"var(--border)"},onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),onClick:()=>t(-1),disabled:c,children:" Back"}),p.jsx("h2",{style:Se.title,children:"Raise Request"}),g&&p.jsxs("div",{style:Se.vacantInfo,children:[p.jsx("h3",{style:Se.vacantTitle,children:g.title}),p.jsxs("p",{style:Se.vacantDetail,children:[p.jsx("strong",{children:"Category:"})," ",g.category," |",p.jsx("strong",{children:" Location:"})," ",g.area,", ",g.city]}),p.jsxs("p",{style:Se.vacantDetail,children:[p.jsx("strong",{children:"Spots Available:"})," ",g.requiredPersons-(((z=g.applicants)==null?void 0:z.length)||0)," / ",g.requiredPersons]})]}),p.jsxs("form",{onSubmit:M,children:[p.jsxs("div",{style:Se.gridRow,children:[p.jsxs("div",{children:[p.jsx("label",{style:Se.label,htmlFor:"count",children:"How many joining? *"}),p.jsx("input",{id:"count",name:"count",type:"number",min:"1",max:"20",value:i.count,onChange:T,placeholder:"Enter Count",style:Se.input,disabled:c,required:!0}),s.count&&p.jsx("div",{style:Se.errorMessage,children:s.count})]}),p.jsxs("div",{children:[p.jsx("label",{style:Se.label,htmlFor:"gender",children:"Gender *"}),p.jsxs("select",{id:"gender",name:"gender",value:i.gender,onChange:T,style:Se.input,disabled:c,required:!0,children:[p.jsx("option",{value:"",children:"Select Gender"}),p.jsx("option",{value:"Male",children:"Male"}),p.jsx("option",{value:"Female",children:"Female"}),p.jsx("option",{value:"Mixed",children:"Mixed"}),p.jsx("option",{value:"Others",children:"Others"})]}),s.gender&&p.jsx("div",{style:Se.errorMessage,children:s.gender})]})]}),p.jsx("label",{style:Se.label,htmlFor:"message",children:"Description"}),p.jsx("textarea",{id:"message",name:"message",value:i.message,onChange:T,placeholder:"Tell something about your group... (optional)",style:{...Se.input,minHeight:"80px",fontFamily:"inherit",resize:"vertical"},disabled:c}),p.jsx("label",{style:Se.label,htmlFor:"tagUsers",children:"Tag Users (if more than 1)"}),p.jsx("input",{id:"tagUsers",name:"tagUsers",type:"text",value:i.tagUsers,onChange:T,placeholder:"@username1, @username2 (optional)",style:Se.input,disabled:c}),s.vacantId&&p.jsx("div",{style:Se.errorMessage,children:s.vacantId}),s.submit&&p.jsx("div",{style:Se.errorMessage,children:s.submit}),l&&p.jsx("div",{style:Se.successMessage,children:l}),p.jsx("div",{style:Se.btnArea,children:p.jsx("button",{type:"submit",style:{...Se.submitBtn,opacity:c?.6:1,cursor:c?"not-allowed":"pointer"},disabled:c,children:c?"Submitting...":"Submit Request"})})]})]})}):p.jsx("div",{style:Se.container,children:p.jsxs("div",{style:Se.formBox,children:[p.jsx("h2",{style:Se.title,children:"Authentication Required"}),p.jsx("p",{style:{color:"#fff",textAlign:"center"},children:"Please login to raise a request"}),p.jsx("button",{style:Se.submitBtn,onClick:()=>t("/login"),children:"Go to Login"})]})})}const Se={container:{minHeight:"100vh",background:"#0a0a0a",padding:"20px",display:"flex",justifyContent:"center",alignItems:"center"},formBox:{background:"#1a1a1a",border:"1px solid #333",borderRadius:"12px",padding:"32px",maxWidth:"600px",width:"100%"},backBtn:{background:"transparent",border:"1px solid #333",color:"#ffd700",padding:"8px 16px",borderRadius:"8px",cursor:"pointer",marginBottom:"20px",fontWeight:"bold",transition:"all 0.3s ease",fontSize:"15px"},title:{color:"#ffd700",marginBottom:"24px",fontSize:"24px",marginTop:0},vacantInfo:{background:"#111",border:"1px solid #333",borderRadius:"8px",padding:"16px",marginBottom:"24px"},vacantTitle:{color:"#ffd700",fontSize:"18px",marginTop:0,marginBottom:"8px"},vacantDetail:{color:"#ccc",fontSize:"14px",margin:"4px 0"},gridRow:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"16px"},label:{display:"block",marginTop:"16px",marginBottom:"6px",color:"#fff",fontWeight:"500",fontSize:"14px"},input:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #333",background:"#111",color:"#fff",fontSize:"14px",boxSizing:"border-box",transition:"border-color 0.2s"},errorMessage:{color:"#ff4444",fontSize:"13px",marginTop:"6px",display:"block"},successMessage:{color:"#4ade80",fontSize:"14px",marginTop:"16px",padding:"12px",background:"rgba(74, 222, 128, 0.1)",border:"1px solid rgba(74, 222, 128, 0.3)",borderRadius:"8px",textAlign:"center",fontWeight:"500"},btnArea:{marginTop:"24px",textAlign:"center"},submitBtn:{background:"#ffd700",color:"#0a0a0a",border:"none",padding:"14px 40px",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"16px",transition:"all 0.3s ease",width:"100%"}},dV=async(t,e,n,i,r,s,a,l=null)=>{try{console.log("Creating chat for request:",t),console.log("Creator:",n,i),console.log("Requester:",r,s),console.log("Request data:",l);const u=Sr(hn(yt,"chats"),Ea("requestId","==",t)),c=await xr(u);if(!c.empty){const _=c.docs[0].id;return console.log("Chat already exists with ID:",_),_}const f={requestId:t,vacantId:e,vacantTitle:a,participants:[n,r],participantNames:{[n]:i,[r]:s},creatorUid:n,requesterUid:r,lastMessage:"",lastMessageTime:wi(),createdAt:wi(),requestDetails:l?{numberOfPersons:l.numberOfPersons||1,gender:l.gender||"Not specified",message:l.message||"",tagUsers:l.tagUsers||""}:null},g=await kh(hn(yt,"chats"),f);console.log("Chat created successfully with ID:",g.id),console.log("Chat data:",f);let m=" Chat started! You can now communicate about this vacant.";l&&(m+=`

 Request Details:
 ${l.numberOfPersons} person(s)
 Gender: ${l.gender}`,l.message&&(m+=`
 Message: "${l.message}"`),l.tagUsers&&(m+=`
 Tagged: ${l.tagUsers}`));try{await bx(g.id,"system",m),console.log("Initial message sent successfully")}catch(_){console.error("Error sending initial message:",_)}return g.id}catch(u){throw console.error("Error creating chat:",u),u}},bx=async(t,e,n,i="User")=>{try{if(!n.trim())throw new Error("Message cannot be empty");const r={chatId:t,senderUid:e,senderName:i,text:n.trim(),createdAt:wi(),read:!1},s=await kh(hn(yt,"chats",t,"messages"),r);return await Vh(Pa(yt,"chats",t),{lastMessage:n.trim(),lastMessageTime:wi()}),console.log("Message sent:",s.id),s.id}catch(r){throw console.error("Error sending message:",r),r}},pV=(t,e)=>{try{const n=Sr(hn(yt,"chats",t,"messages"),dx("createdAt","asc"));return qM(n,r=>{const s=[];r.forEach(a=>{s.push({id:a.id,...a.data()})}),e(s)})}catch(n){throw console.error("Error subscribing to messages:",n),n}},Tu=async t=>{try{console.log("Looking for chat with requestId:",t);const e=Sr(hn(yt,"chats"),Ea("requestId","==",t),LM(1)),n=await xr(e);if(console.log("Found chats:",n.size),!n.empty){const i=n.docs[0],r={id:i.id,...i.data()};return console.log("Chat found:",r),r}return console.log("No chat found for request:",t),null}catch(e){throw console.error("Error getting chat by request ID:",e),e}};function gV(){var Vl,Dr;const t=xn(),[e,n]=k.useState("received"),[i,r]=k.useState([]),[s,a]=k.useState([]),[l,u]=k.useState(!0),[c,f]=k.useState(!0),[g,m]=k.useState(!1),[_,R]=k.useState(null),[D,C]=k.useState(null),[S,T]=k.useState(""),[A,M]=k.useState([]),[z,B]=k.useState(!1),[E,y]=k.useState(null),[b,x]=k.useState(!1),[I,O]=k.useState({show:!1,message:"",type:""}),w=k.useRef(null),Je=k.useRef(null);k.useEffect(()=>{const P=JSON.parse(localStorage.getItem("hanggOutUser")||"null");y(P),P&&G()},[]),k.useEffect(()=>{An()},[A]),k.useEffect(()=>()=>{Je.current&&Je.current()},[]);const An=()=>{var P;(P=w.current)==null||P.scrollIntoView({behavior:"smooth"})},G=async()=>{const P=JSON.parse(localStorage.getItem("hanggOutUser")||"null");if(!P){u(!1),f(!1),t("/login");return}try{u(!0);const ae=await lV(P.uid);console.log("Raw received requests:",ae);const ot=(await Promise.all(ae.map(async ue=>{try{if(!ue||!ue.id)return console.warn("Invalid request found:",ue),null;const lt=await ia(ue.vacantId);let vt=!1;ue.status==="accepted"&&(vt=!!await Tu(ue.id));const wn={...ue,vacant:lt,chatExists:vt};return console.log("Enriched received request:",wn),wn}catch(lt){return console.error("Error enriching received request:",lt,ue),ue}}))).filter(ue=>ue!==null);console.log("Valid received requests:",ot),r(ot)}catch(ae){console.error("Error loading received requests:",ae)}finally{u(!1)}try{f(!0);const ae=await _x(P.uid);console.log("Raw sent requests:",ae);const ot=(await Promise.all(ae.map(async ue=>{try{if(!ue||!ue.id)return console.warn("Invalid sent request found:",ue),null;const lt=await ia(ue.vacantId);let vt=!1;ue.status==="accepted"&&(vt=!!await Tu(ue.id));const wn={...ue,vacant:lt,chatExists:vt};return console.log("Enriched sent request:",wn),wn}catch(lt){return console.error("Error enriching sent request:",lt,ue),ue}}))).filter(ue=>ue!==null);console.log("Valid sent requests:",ot),a(ot)}catch(ae){console.error("Error loading sent requests:",ae)}finally{f(!1)}},Z=async P=>{var ae;try{console.log("Accepting request:",P),await M0(P.id,"accepted"),console.log("Request status updated to accepted");const Ye=await ia(P.vacantId);if(Ye){const lt=Ye.applied||0,vt=lt+P.numberOfPersons;await Vh(Pa(yt,"vacants",P.vacantId),{applied:vt}),console.log("Updated vacant applied count from",lt,"to",vt)}console.log("Creating chat with params:",{requestId:P.id,vacantId:P.vacantId,creatorUid:E.uid,creatorName:E.name||E.email,requesterUid:P.requesterUid,requesterName:P.requesterName});const ot=await dV(P.id,P.vacantId,E.uid,E.name||E.email,P.requesterUid,P.requesterName,((ae=P.vacant)==null?void 0:ae.title)||"Vacant",{numberOfPersons:P.numberOfPersons,gender:P.gender,message:P.message,tagUsers:P.tagUsers});console.log(" Chat created successfully with ID:",ot);const ue=await Tu(P.id);ue?console.log(" Chat verified in database:",ue.id):console.error(" Chat not found after creation!"),await G(),Bt(" Request accepted! Chat created successfully.","success")}catch(Ye){console.error(" Error accepting request:",Ye),console.error("Error stack:",Ye.stack),Bt(" Failed to accept request: "+Ye.message,"error")}},J=async P=>{if(confirm("Are you sure you want to reject this request?"))try{await M0(P,"rejected"),await G(),Bt("Request rejected","info")}catch(ae){console.error("Error rejecting request:",ae),Bt("Failed to reject request","error")}},Re=async P=>{try{const ae=await Tu(P.id);if(!ae){Bt("Chat not found. Please try accepting the request again.","error");return}R(P),C(ae.id),m(!0),Je.current&&Je.current(),Je.current=pV(ae.id,Ye=>{M(Ye)})}catch(ae){console.error("Error opening chat:",ae),Bt("Failed to open chat: "+ae.message,"error")}},ze=async()=>{if(!(!S.trim()||!D||z)){B(!0);try{await bx(D,E.uid,S.trim(),E.name||E.email),T("")}catch(P){console.error("Error sending message:",P),Bt("Failed to send message","error")}finally{B(!1)}}},Bt=(P,ae)=>{O({show:!0,message:P,type:ae}),setTimeout(()=>{O({show:!1,message:"",type:""})},4e3)},kt=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),ze())},qe=()=>{Je.current&&(Je.current(),Je.current=null),m(!1),R(null),C(null),M([]),T("")},fn=P=>{if(!P)return"";let ae;P.toDate?ae=P.toDate():P.seconds?ae=new Date(P.seconds*1e3):ae=new Date(P);const ot=new Date-ae,ue=Math.floor(ot/6e4),lt=Math.floor(ot/36e5),vt=Math.floor(ot/864e5);return ue<1?"Just now":ue<60?`${ue}m ago`:lt<24?`${lt}h ago`:vt<7?`${vt}d ago`:ae.toLocaleDateString()},Wt=({request:P,type:ae})=>{var kl,jl,za,bs;const Ye=P&&P.id,ot=P.numberOfPersons||0,ue=P.gender||"Not specified",lt=P.requesterName||"Unknown User",vt=((kl=P.vacant)==null?void 0:kl.title)||P.vacantTitle||"Vacant Title",wn=((jl=P.vacant)==null?void 0:jl.area)||"Unknown Location",Or=((za=P.vacant)==null?void 0:za.city)||"";return Ye?p.jsxs("div",{style:Y.requestCard,children:[p.jsxs("div",{style:Y.requestInfo,children:[p.jsx("div",{style:Y.vacantTitle,children:vt}),p.jsxs("div",{style:Y.requestDetails,children:[p.jsxs("span",{children:[" ",ot>0?`${ot} person(s)`:"No count specified"]}),p.jsxs("span",{children:[" ",ue]}),p.jsxs("span",{children:[" ",wn,Or?`, ${Or}`:""]})]}),P.message&&P.message.trim()&&p.jsxs("div",{style:Y.requestMessage,children:[' "',P.message,'"']}),p.jsxs("div",{style:Y.requestMeta,children:[p.jsx("span",{style:Y[`status${P.status.charAt(0).toUpperCase()+P.status.slice(1)}`],children:P.status}),ae==="received"&&p.jsxs("span",{style:{color:"#999"},children:["From: ",lt]}),ae==="sent"&&p.jsxs("span",{style:{color:"#999"},children:["To: ",((bs=P.vacant)==null?void 0:bs.creatorName)||"Creator"]}),P.tagUsers&&P.tagUsers.trim()&&p.jsx("span",{style:{color:"#ffd700"},children:P.tagUsers}),p.jsx("span",{style:{color:"#666",fontSize:"12px"},children:fn(P.createdAt)})]})]}),p.jsxs("div",{style:Y.requestActions,children:[ae==="received"&&P.status==="pending"&&p.jsxs(p.Fragment,{children:[p.jsx("button",{style:Y.btnAccept,onClick:()=>Z(P),children:" Accept"}),p.jsx("button",{style:Y.btnReject,onClick:()=>J(P.id),children:" Reject"})]}),P.status==="accepted"&&p.jsx("button",{style:Y.btnChat,onClick:()=>Re(P),children:" Open Chat"}),p.jsx("button",{style:Y.btnView,onClick:()=>t(`/vacant/${P.vacantId}`),children:" View Vacant"})]})]}):p.jsx("div",{style:{...Y.requestCard,borderColor:"#ff4444"},children:p.jsxs("div",{style:Y.requestInfo,children:[p.jsx("div",{style:{...Y.vacantTitle,color:"#ff4444"},children:" Invalid Request Data"}),p.jsx("div",{style:{color:"#ff4444",fontSize:"14px"},children:"This request appears to be corrupted or incomplete. Please try refreshing the page."})]})})};return p.jsxs("div",{style:Y.container,children:[I.show&&p.jsx("div",{style:{...Y.notification,...I.type==="success"?Y.notificationSuccess:I.type==="error"?Y.notificationError:Y.notificationInfo},children:I.message}),p.jsxs("div",{style:Y.contentWrapper,children:[p.jsxs("div",{style:Y.header,children:[p.jsx("button",{style:{...Y.backBtn,background:b?"black":"yellow",color:b?"yellow":"black",borderColor:b?"yellow":"var(--border)"},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onClick:()=>t("/"),disabled:l||c,children:" Back"}),p.jsx("h2",{style:Y.pageTitle,children:"Your Requests"})]}),p.jsxs("div",{style:Y.tabs,children:[p.jsxs("div",{style:{...Y.tab,...e==="received"?Y.tabActive:{}},onClick:()=>n("received"),children:[" Received Requests",i.filter(P=>P.status==="pending").length>0&&p.jsx("span",{style:Y.badge,children:i.filter(P=>P.status==="pending").length})]}),p.jsx("div",{style:{...Y.tab,...e==="sent"?Y.tabActive:{}},onClick:()=>n("sent"),children:" Sent Requests"})]}),e==="received"&&p.jsx("div",{style:Y.tabContent,children:l?p.jsxs("div",{style:Y.loading,children:[p.jsx("div",{style:Y.spinner}),p.jsx("p",{children:"Loading requests..."})]}):i.length===0?p.jsxs("div",{style:Y.emptyState,children:[p.jsx("span",{style:Y.emptyIcon,children:""}),p.jsx("p",{children:"No received requests yet"}),p.jsx("p",{style:Y.emptySubtext,children:"Requests from others will appear here"})]}):i.map(P=>p.jsx(Wt,{request:P,type:"received"},P.id))}),e==="sent"&&p.jsx("div",{style:Y.tabContent,children:c?p.jsxs("div",{style:Y.loading,children:[p.jsx("div",{style:Y.spinner}),p.jsx("p",{children:"Loading requests..."})]}):s.length===0?p.jsxs("div",{style:Y.emptyState,children:[p.jsx("span",{style:Y.emptyIcon,children:""}),p.jsx("p",{children:"No sent requests yet"}),p.jsx("p",{style:Y.emptySubtext,children:"Apply to vacants to see your requests here"})]}):s.map(P=>p.jsx(Wt,{request:P,type:"sent"},P.id))})]}),g&&p.jsx("div",{style:Y.chatOverlay,onClick:qe,children:p.jsxs("div",{style:Y.chatModal,onClick:P=>P.stopPropagation(),children:[p.jsxs("div",{style:Y.chatHeader,children:[p.jsxs("div",{children:[p.jsx("div",{style:Y.chatTitle,children:(_==null?void 0:_.requesterUid)===(E==null?void 0:E.uid)?(Vl=_==null?void 0:_.vacant)==null?void 0:Vl.creatorName:_==null?void 0:_.requesterName}),p.jsx("div",{style:Y.chatSubtitle,children:(Dr=_==null?void 0:_.vacant)==null?void 0:Dr.title})]}),p.jsx("button",{style:Y.closeChatButton,onClick:qe,children:""})]}),p.jsxs("div",{style:Y.chatMessages,children:[A.length===0?p.jsxs("div",{style:Y.noChatMessages,children:[p.jsx("span",{style:{fontSize:"40px",marginBottom:"10px"},children:""}),p.jsx("p",{children:"No messages yet. Start the conversation!"})]}):A.map(P=>{const ae=P.senderUid===(E==null?void 0:E.uid),Ye=P.senderUid==="system";return p.jsxs("div",{style:{...Y.chatMessage,...Ye?Y.chatMessageSystem:ae?Y.chatMessageSent:Y.chatMessageReceived},children:[!Ye&&!ae&&p.jsx("div",{style:Y.messageSender,children:P.senderName}),p.jsx("div",{style:Y.messageText,children:P.text}),p.jsx("div",{style:Y.messageTime,children:fn(P.createdAt)})]},P.id)}),p.jsx("div",{ref:w})]}),p.jsxs("div",{style:Y.chatInputArea,children:[p.jsx("input",{type:"text",style:Y.chatInput,placeholder:"Type a message...",value:S,onChange:P=>T(P.target.value),onKeyPress:kt,disabled:z}),p.jsx("button",{style:{...Y.chatSendBtn,opacity:z||!S.trim()?.5:1},onClick:ze,disabled:z||!S.trim(),children:z?"...":""})]})]})})]})}const Y={container:{minHeight:"100vh",background:"#0a0a0a",padding:"20px"},contentWrapper:{maxWidth:"1200px",margin:"0 auto"},header:{display:"flex",alignItems:"center",gap:"20px",marginBottom:"20px"},pageTitle:{color:"#ffd700",fontSize:"28px",margin:0},tabs:{display:"flex",gap:"8px",margin:"20px 0",borderBottom:"2px solid #333"},tab:{padding:"12px 24px",cursor:"pointer",color:"#999",borderTopLeftRadius:"8px",borderTopRightRadius:"8px",background:"#1a1a1a",border:"1px solid #333",borderBottom:"none",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px",fontWeight:"500"},tabActive:{color:"#0a0a0a",background:"#ffd700",borderColor:"#ffd700",fontWeight:"600"},badge:{background:"#ff4444",color:"#fff",padding:"2px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"700"},tabContent:{display:"block",paddingTop:"20px"},loading:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px",color:"#999"},spinner:{width:"40px",height:"40px",border:"4px solid rgba(255, 214, 10, 0.2)",borderTop:"4px solid #ffd700",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"},emptyState:{textAlign:"center",padding:"60px 20px",color:"#999"},emptyIcon:{fontSize:"80px",display:"block",marginBottom:"20px",opacity:.5},emptySubtext:{fontSize:"14px",color:"#666",marginTop:"8px"},requestCard:{background:"#1a1a1a",padding:"20px",border:"1px solid #333",borderRadius:"12px",marginBottom:"16px",transition:"all 0.3s ease",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"20px",flexWrap:"wrap"},requestInfo:{flex:1,minWidth:"300px"},vacantTitle:{color:"#ffd700",fontWeight:"600",fontSize:"18px",marginBottom:"10px"},requestDetails:{display:"flex",gap:"16px",color:"#999",fontSize:"14px",marginBottom:"10px",flexWrap:"wrap"},requestMessage:{color:"#ccc",fontSize:"14px",marginBottom:"10px",fontStyle:"italic",padding:"8px 12px",background:"rgba(255, 214, 10, 0.05)",borderLeft:"3px solid #ffd700",borderRadius:"4px"},requestMeta:{display:"flex",alignItems:"center",gap:"12px",fontSize:"13px",flexWrap:"wrap"},statuspending:{padding:"4px 10px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",background:"rgba(255, 193, 7, 0.2)",color:"#ffd700",border:"1px solid #ffd700"},statusaccepted:{padding:"4px 10px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",background:"rgba(40, 167, 69, 0.2)",color:"#28a745",border:"1px solid #28a745"},statusrejected:{padding:"4px 10px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",background:"rgba(220, 53, 69, 0.2)",color:"#dc3545",border:"1px solid #dc3545"},requestActions:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},btnAccept:{padding:"10px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"14px",background:"#ffd700",color:"#0a0a0a",transition:"all 0.3s ease"},btnReject:{padding:"10px 16px",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px",background:"transparent",color:"#ff4444",border:"1px solid #ff4444",transition:"all 0.3s ease"},btnChat:{padding:"10px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"14px",background:"linear-gradient(135deg, #ffd700, #e6b300)",color:"#0a0a0a",boxShadow:"0 2px 8px rgba(255, 214, 10, 0.3)",transition:"all 0.3s ease"},btnView:{padding:"10px 16px",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px",background:"#333",color:"#fff",border:"1px solid #555",transition:"all 0.3s ease"},chatOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},chatModal:{background:"#1a1a1a",border:"1px solid #333",borderRadius:"16px",width:"100%",maxWidth:"600px",maxHeight:"80vh",display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)"},chatHeader:{padding:"20px",borderBottom:"1px solid #333",background:"linear-gradient(135deg, rgba(255, 214, 10, 0.1), rgba(255, 214, 10, 0.05))",display:"flex",justifyContent:"space-between",alignItems:"center"},chatTitle:{color:"#ffd700",fontWeight:"600",fontSize:"18px",marginBottom:"4px"},chatSubtitle:{color:"#999",fontSize:"13px"},closeChatButton:{background:"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",width:"36px",height:"36px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},chatMessages:{flex:1,padding:"20px",overflowY:"auto",background:"#0a0a0a",display:"flex",flexDirection:"column",gap:"12px"},noChatMessages:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#666",fontStyle:"italic"},chatMessage:{padding:"12px 16px",borderRadius:"12px",maxWidth:"75%",wordWrap:"break-word",animation:"fadeIn 0.3s ease"},chatMessageSent:{background:"#ffd700",color:"#0a0a0a",marginLeft:"auto",borderBottomRightRadius:"4px"},chatMessageReceived:{background:"#2a2a2a",color:"#fff",marginRight:"auto",borderBottomLeftRadius:"4px"},chatMessageSystem:{background:"rgba(255, 214, 10, 0.1)",color:"#ffd700",margin:"0 auto",textAlign:"center",fontSize:"13px",fontStyle:"italic",border:"1px dashed rgba(255, 214, 10, 0.3)"},messageSender:{fontSize:"11px",color:"#999",marginBottom:"4px",fontWeight:"600"},messageText:{marginBottom:"4px",lineHeight:"1.4"},messageTime:{fontSize:"10px",color:"#666",textAlign:"right"},chatInputArea:{padding:"20px",borderTop:"1px solid #333",display:"flex",gap:"12px",background:"#1a1a1a"},chatInput:{flex:1,padding:"12px 16px",borderRadius:"24px",border:"1px solid #333",background:"#0a0a0a",color:"#fff",fontSize:"14px",outline:"none",transition:"border-color 0.3s ease"},chatSendBtn:{padding:"12px 20px",background:"#ffd700",color:"#0a0a0a",border:"none",borderRadius:"24px",cursor:"pointer",fontWeight:"600",fontSize:"18px",transition:"all 0.3s ease",minWidth:"60px"},backBtn:{background:"transparent",border:"1px solid #333",color:"#ffd700",padding:"8px 16px",borderRadius:"8px",cursor:"pointer",marginBottom:"20px",fontWeight:"bold",transition:"all 0.3s ease",fontSize:"15px"},notification:{position:"fixed",top:"20px",right:"20px",padding:"16px 24px",borderRadius:"12px",fontWeight:"600",fontSize:"14px",zIndex:9999,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",animation:"slideIn 0.3s ease",maxWidth:"400px"},notificationSuccess:{background:"#28a745",color:"#fff",border:"1px solid #1e7e34"},notificationError:{background:"#dc3545",color:"#fff",border:"1px solid #bd2130"},notificationInfo:{background:"#ffd700",color:"#0a0a0a",border:"1px solid #e6b300"}};function mV(){const{id:t}=QE(),e=xn(),{user:n}=_s(),[i,r]=k.useState(null),[s,a]=k.useState(!0);k.useEffect(()=>{l()},[t]);const l=async()=>{try{a(!0);const c=await ia(t);if(!c){e("/my-vacants");return}if(c.creatorUid!==(n==null?void 0:n.uid)){alert("You can only manage your own vacants"),e("/my-vacants");return}r(c)}catch(c){console.error("Error loading vacant:",c)}finally{a(!1)}};if(s)return p.jsx("div",{style:xe.container,children:p.jsx("p",{style:xe.loadingText,children:"Loading..."})});if(!i)return null;const u=i.applicants||[];return p.jsx("div",{style:xe.container,children:p.jsxs("div",{className:"container",children:[p.jsx("button",{style:xe.backBtn,onClick:()=>e("/my-vacants"),children:" Back to My Vacants"}),p.jsxs("div",{style:xe.card,children:[p.jsx("h1",{style:xe.title,children:i.title}),p.jsx("p",{style:xe.subtitle,children:"Manage Applicants"}),p.jsxs("div",{style:xe.statsRow,children:[p.jsxs("div",{style:xe.statBox,children:[p.jsx("span",{style:xe.statNumber,children:u.length}),p.jsx("span",{style:xe.statLabel,children:"Applicants"})]}),p.jsxs("div",{style:xe.statBox,children:[p.jsx("span",{style:xe.statNumber,children:i.requiredPersons}),p.jsx("span",{style:xe.statLabel,children:"Required"})]}),p.jsxs("div",{style:xe.statBox,children:[p.jsx("span",{style:xe.statNumber,children:Math.max(0,i.requiredPersons-u.length)}),p.jsx("span",{style:xe.statLabel,children:"Remaining"})]})]}),p.jsxs("div",{style:xe.section,children:[p.jsxs("h3",{style:xe.sectionTitle,children:["Applicants (",u.length,")"]}),u.length===0?p.jsxs("div",{style:xe.emptyState,children:[p.jsx("p",{children:"No applicants yet"}),p.jsx("p",{style:xe.emptySubtext,children:"People who join your vacant will appear here"})]}):p.jsx("div",{style:xe.applicantsList,children:u.map((c,f)=>p.jsxs("div",{style:xe.applicantCard,children:[p.jsx("img",{src:jh,alt:c.name,style:xe.applicantImg}),p.jsxs("div",{style:xe.applicantInfo,children:[p.jsx("p",{style:xe.applicantName,children:c.name}),p.jsx("p",{style:xe.applicantEmail,children:c.email}),p.jsxs("p",{style:xe.applicantDate,children:["Joined: ",new Date(c.appliedAt).toLocaleDateString()]})]})]},c.uid||f))})]})]})]})})}const xe={container:{minHeight:"100vh",background:"var(--bg-black)",padding:"20px"},loadingText:{color:"var(--gray)",textAlign:"center",fontSize:"16px"},backBtn:{background:"var(--yellow)",color:"var(--bg-black)",border:"none",padding:"10px 16px",borderRadius:"var(--radius)",cursor:"pointer",marginBottom:"20px",fontWeight:"bold"},card:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"var(--radius)",padding:"32px",maxWidth:"800px",margin:"0 auto"},title:{color:"var(--yellow)",margin:"0 0 8px 0",fontSize:"28px"},subtitle:{color:"var(--gray)",margin:"0 0 24px 0",fontSize:"16px"},statsRow:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"32px"},statBox:{background:"var(--bg-black)",border:"1px solid var(--border)",borderRadius:"var(--radius)",padding:"20px",textAlign:"center"},statNumber:{display:"block",color:"var(--yellow)",fontSize:"32px",fontWeight:"bold",marginBottom:"8px"},statLabel:{display:"block",color:"var(--gray)",fontSize:"14px"},section:{marginTop:"32px"},sectionTitle:{color:"var(--white)",fontSize:"20px",marginBottom:"16px"},emptyState:{textAlign:"center",padding:"40px 20px",color:"var(--gray)"},emptySubtext:{fontSize:"14px",color:"#666",marginTop:"8px"},applicantsList:{display:"flex",flexDirection:"column",gap:"12px"},applicantCard:{display:"flex",alignItems:"center",gap:"16px",background:"var(--bg-black)",border:"1px solid var(--border)",borderRadius:"var(--radius)",padding:"16px"},applicantImg:{width:"50px",height:"50px",borderRadius:"50%",border:"2px solid var(--yellow)"},applicantInfo:{flex:1},applicantName:{color:"var(--white)",margin:"0 0 4px 0",fontWeight:"600",fontSize:"16px"},applicantEmail:{color:"var(--gray)",margin:"0 0 4px 0",fontSize:"14px"},applicantDate:{color:"#666",margin:0,fontSize:"12px"}};function yV(){return p.jsx(H2,{children:p.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-black)"},children:[p.jsx(YM,{}),p.jsxs(P2,{children:[p.jsx(Cn,{path:"/",element:p.jsx(iV,{})}),p.jsx(Cn,{path:"/login",element:p.jsx(rV,{})}),p.jsx(Cn,{path:"/create-vacant",element:p.jsx(aV,{})}),p.jsx(Cn,{path:"/vacant/:id",element:p.jsx(uV,{})}),p.jsx(Cn,{path:"/my-vacants",element:p.jsx(cV,{})}),p.jsx(Cn,{path:"/manage-vacant/:id",element:p.jsx(mV,{})}),p.jsx(Cn,{path:"/profile",element:p.jsx(hV,{})}),p.jsx(Cn,{path:"/raise-request",element:p.jsx(fV,{})}),p.jsx(Cn,{path:"/your-requests",element:p.jsx(gV,{})}),p.jsx(Cn,{path:"*",element:p.jsx(L2,{to:"/",replace:!0})})]})]})})}YR.createRoot(document.getElementById("root")).render(p.jsx(Fr.StrictMode,{children:p.jsx(yV,{})}));
